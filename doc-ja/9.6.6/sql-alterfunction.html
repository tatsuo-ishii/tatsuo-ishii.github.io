<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ALTER FUNCTION</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="SQLコマンド"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="ALTER FOREIGN TABLE"
HREF="sql-alterforeigntable.html"><LINK
REL="NEXT"
TITLE="ALTER GROUP"
HREF="sql-altergroup.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2018-02-10T07:29:51"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="ALTER FOREIGN TABLE"
HREF="sql-alterforeigntable.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="ALTER GROUP"
HREF="sql-altergroup.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-ALTERFUNCTION"
></A
>ALTER FUNCTION</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN73553"
></A
><H2
>名前</H2
>ALTER FUNCTION&nbsp;--&nbsp;関数定義を変更する</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN73556"
></A
><H2
>概要</H2
><PRE
CLASS="SYNOPSIS"
>ALTER FUNCTION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] )
    <TT
CLASS="REPLACEABLE"
><I
>action</I
></TT
> [ ... ] [ RESTRICT ]
ALTER FUNCTION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] )
    RENAME TO <TT
CLASS="REPLACEABLE"
><I
>new_name</I
></TT
>
ALTER FUNCTION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] )
    OWNER TO { <TT
CLASS="REPLACEABLE"
><I
>new_owner</I
></TT
> | CURRENT_USER | SESSION_USER }
ALTER FUNCTION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] )
    SET SCHEMA <TT
CLASS="REPLACEABLE"
><I
>new_schema</I
></TT
>
ALTER FUNCTION <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] )
    DEPENDS ON EXTENSION <TT
CLASS="REPLACEABLE"
><I
>extension_name</I
></TT
>

<SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>ここで、<TT
CLASS="REPLACEABLE"
><I
>action</I
></TT
>は以下のいずれかです。</SPAN
></SPAN
>

    CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT
    IMMUTABLE | STABLE | VOLATILE | [ NOT ] LEAKPROOF
    [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER
    PARALLEL { UNSAFE | RESTRICTED | SAFE }
    COST <TT
CLASS="REPLACEABLE"
><I
>execution_cost</I
></TT
>
    ROWS <TT
CLASS="REPLACEABLE"
><I
>result_rows</I
></TT
>
    SET <TT
CLASS="REPLACEABLE"
><I
>configuration_parameter</I
></TT
> { TO | = } { <TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
> | DEFAULT }
    SET <TT
CLASS="REPLACEABLE"
><I
>configuration_parameter</I
></TT
> FROM CURRENT
    RESET <TT
CLASS="REPLACEABLE"
><I
>configuration_parameter</I
></TT
>
    RESET ALL</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73591"
></A
><H2
>説明</H2
><P
><TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>は関数定義を変更します。
  </P
><P
><TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>を使用するには関数の所有者でなければなりません。
関数のスキーマを変更するには、新しいスキーマにおける<TT
CLASS="LITERAL"
>CREATE</TT
>権限も必要です。
所有者を変更するには、直接または間接的に新しいロールのメンバでなければなりません。
また、そのロールは関数のスキーマにおいて<TT
CLASS="LITERAL"
>CREATE</TT
>権限を持たなければなりません。
（この制限により、関数の削除と再作成で行うことができない処理を所有者の変更で行えないようになります。
しかし、スーパーユーザはすべての関数の所有者を変更することができます。）
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73599"
></A
><H2
>パラメータ</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>既存の関数名です（スキーマ修飾名も可）。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
></DT
><DD
><P
>引数のモードで、<TT
CLASS="LITERAL"
>IN</TT
>、<TT
CLASS="LITERAL"
>OUT</TT
>、<TT
CLASS="LITERAL"
>INOUT</TT
>、<TT
CLASS="LITERAL"
>VARIADIC</TT
>のいずれかです。
省略された場合のデフォルトは<TT
CLASS="LITERAL"
>IN</TT
>です。
関数の識別を行うには入力引数のみが必要ですので、実際には<TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>が<TT
CLASS="LITERAL"
>OUT</TT
>引数を無視することに注意してください。
ですので、<TT
CLASS="LITERAL"
>IN</TT
>、<TT
CLASS="LITERAL"
>INOUT</TT
>および<TT
CLASS="LITERAL"
>VARIADIC</TT
>引数を列挙することで十分です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
></DT
><DD
><P
>引数の名前です。
関数の識別を行うには引数のデータ型のみが必要ですので、実際には<TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>は引数の名前を無視することに注意してください。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
></DT
><DD
><P
>もしあれば、その関数の引数のデータ型（スキーマ修飾可能）です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>new_name</I
></TT
></DT
><DD
><P
>新しい関数名です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>new_owner</I
></TT
></DT
><DD
><P
>新しい関数の所有者です。
関数に<TT
CLASS="LITERAL"
>SECURITY DEFINER</TT
>が指定されている場合、その後は新しい所有者の権限で関数が実行されることに注意してください。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>new_schema</I
></TT
></DT
><DD
><P
>関数の新しいスキーマです。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>extension_name</I
></TT
></DT
><DD
><P
>関数が依存することになる拡張の名前です。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>CALLED ON NULL INPUT</TT
><BR><TT
CLASS="LITERAL"
>RETURNS NULL ON NULL INPUT</TT
><BR><TT
CLASS="LITERAL"
>STRICT</TT
></DT
><DD
><P
><TT
CLASS="LITERAL"
>CALLED ON NULL INPUT</TT
>は、引数の一部またはすべてがNULLの場合に関数が呼び出されるように変更します。
<TT
CLASS="LITERAL"
>RETURNS NULL ON NULL INPUT</TT
>もしくは<TT
CLASS="LITERAL"
>STRICT</TT
>は、引数の一部がNULLの場合に関数が呼び出されないように変更します。
代わりに自動的にNULLという結果とされます。
詳細は<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
      </P
></DD
><DT
><TT
CLASS="LITERAL"
>IMMUTABLE</TT
><BR><TT
CLASS="LITERAL"
>STABLE</TT
><BR><TT
CLASS="LITERAL"
>VOLATILE</TT
></DT
><DD
><P
>関数の揮発性を指定した設定に変更します。
詳細については<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
      </P
></DD
><DT
><TT
CLASS="LITERAL"
>[<SPAN
CLASS="OPTIONAL"
> EXTERNAL </SPAN
>] SECURITY INVOKER</TT
><BR><TT
CLASS="LITERAL"
>[<SPAN
CLASS="OPTIONAL"
> EXTERNAL </SPAN
>] SECURITY DEFINER</TT
></DT
><DD
><P
>関数のセキュリティを定義者にするか否かを変更します。
<TT
CLASS="LITERAL"
>EXTERNAL</TT
>キーワードはSQLとの互換性のためのものであり、無視されます。
この機能の詳細については<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>PARALLEL</TT
></DT
><DD
><P
>関数が並列処理に対して安全であると見なされるかどうかを変更します。
詳しくは<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>LEAKPROOF</TT
></DT
><DD
><P
>関数を漏洩防止関数とみなすか否かを変更します。
この機能に関する詳細については<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>COST</TT
> <TT
CLASS="REPLACEABLE"
><I
>execution_cost</I
></TT
></DT
><DD
><P
>関数の推定実行コストを変更します。
詳細については<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
      </P
></DD
><DT
><TT
CLASS="LITERAL"
>ROWS</TT
> <TT
CLASS="REPLACEABLE"
><I
>result_rows</I
></TT
></DT
><DD
><P
>集合を返す関数で返される推定行数を変更します。
詳細については<A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>を参照してください。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>configuration_parameter</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
></DT
><DD
><P
>関数呼び出し時に設定パラメータに対して行われる設定を追加または変更します。
<TT
CLASS="REPLACEABLE"
><I
>value</I
></TT
>が<TT
CLASS="LITERAL"
>DEFAULT</TT
>、またはそれと等価な<TT
CLASS="LITERAL"
>RESET</TT
>が使用された場合、関数の局所的な設定は削除されます。
このため、関数はその環境内に存在する値で実行されます。
すべての関数の局所的な設定を消去したければ<TT
CLASS="LITERAL"
>RESET ALL</TT
>を使用してください。
<TT
CLASS="LITERAL"
>SET FROM CURRENT</TT
>は、<TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>が実行された時点でのパラメータの現在値を、関数起動時に適用される値として保管します。
       </P
><P
>設定可能なパラメータとその値に関する詳細については、<A
HREF="sql-set.html"
>SET</A
>および<A
HREF="runtime-config.html"
>第19章</A
>を参照してください。

       </P
></DD
><DT
><TT
CLASS="LITERAL"
>RESTRICT</TT
></DT
><DD
><P
>標準SQLとの互換性のためのものであり、無視されます。
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73735"
></A
><H2
>例</H2
><P
><TT
CLASS="TYPE"
>integer</TT
>型用の<TT
CLASS="LITERAL"
>sqrt</TT
>関数の名前を<TT
CLASS="LITERAL"
>square_root</TT
>に変更します。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION sqrt(integer) RENAME TO square_root;</PRE
><P>
  </P
><P
><TT
CLASS="TYPE"
>integer</TT
>型用の<TT
CLASS="LITERAL"
>sqrt</TT
>関数の所有者を<TT
CLASS="LITERAL"
>joe</TT
>に変更します。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION sqrt(integer) OWNER TO joe;</PRE
><P>
  </P
><P
><TT
CLASS="TYPE"
>integer</TT
>型用の<TT
CLASS="LITERAL"
>sqrt</TT
>関数のスキーマを<TT
CLASS="LITERAL"
>maths</TT
>に変更します。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION sqrt(integer) SET SCHEMA maths;</PRE
><P>
  </P
><P
><TT
CLASS="TYPE"
>integer</TT
>型に対する関数<TT
CLASS="LITERAL"
>sqrt</TT
>が、拡張<TT
CLASS="LITERAL"
>mathlib</TT
>に依存するとして印をつけるには、次のようにします。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION sqrt(integer) DEPENDS ON EXTENSION mathlib;</PRE
><P>
  </P
><P
>関数用に検索パスを自動的に設定するように調整します。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION check_password(text) SET search_path = admin, pg_temp;</PRE
><P>
  </P
><P
>関数用の<TT
CLASS="VARNAME"
>search_path</TT
>の自動設定を無効にします。
</P><PRE
CLASS="PROGRAMLISTING"
>ALTER FUNCTION check_password(text) RESET search_path;</PRE
><P>
呼び出し元で使用される検索パスでこの関数が実行されるようになります。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73762"
></A
><H2
>互換性</H2
><P
>この文は標準SQLの<TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>文に部分的に従っています。
標準ではより多くの関数の属性を変更できますが、関数名の変更、関数を定義者の権限で実行するかどうかの変更、関数と設定パラメータ値の関連付け、関数の所有者やスキーマ、揮発性の変更を行う機能はありません。
また、標準では<TT
CLASS="LITERAL"
>RESTRICT</TT
>キーワードを必須としていますが、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>では省略可能です。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73768"
></A
><H2
>関連項目</H2
><A
HREF="sql-createfunction.html"
>CREATE FUNCTION</A
>, <A
HREF="sql-dropfunction.html"
>DROP FUNCTION</A
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-alterforeigntable.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-altergroup.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>ALTER FOREIGN TABLE</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>ALTER GROUP</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>