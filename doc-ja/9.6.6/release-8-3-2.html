<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース8.3.2</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース8.3.3"
HREF="release-8-3-3.html"><LINK
REL="NEXT"
TITLE="リリース8.3.1"
HREF="release-8-3-1.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2018-02-10T07:29:51"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース8.3.3"
HREF="release-8-3-3.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース8.3.1"
HREF="release-8-3-1.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-8-3-2"
>E.169. リリース8.3.2</A
></H1
><DIV
CLASS="FORMALPARA"
><P
><B
>リリース日: </B
>リリースされませんでした</P
></DIV
><P
>このリリースには8.3.1からの各種修正が含まれています。
8.3メジャーリリースにおける新機能については<A
HREF="release-8-3.html"
>項E.171</A
>を参照してください。
  </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN163702"
>E.169.1. バージョン8.3.2への移行</A
></H2
><P
>8.3.Xからの移行ではダンプ/リストアは不要です。
しかし、8.3.1より前のバージョンからアップグレードする場合は、<A
HREF="release-8-3-1.html"
>項E.170</A
>を参照してください。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN163706"
>E.169.2. 変更点</A
></H2
><P
></P
><UL
><LI
><P
>WindowsでUTF-8データベース符号化方式と異なるクライアント符号化方式が使用された場合に発生する<TT
CLASS="LITERAL"
>ERRORDATA_STACK_SIZE exceeded</TT
>のクラッシュを修正しました。(Tom)
     </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>restore_command</TT
>パラメータの<TT
CLASS="LITERAL"
>%r</TT
>マクロにおける間違ったアーカイブ消去ポイント計算を修正しました。(Simon)
     </P
><P
>ウォームスタンバイスクリプトがいつWALセグメントファイルを捨てるかを<TT
CLASS="LITERAL"
>%r</TT
>に基づいて決める場合にデータ損失が発生する可能性がありました。
     </P
></LI
><LI
><P
>新しい列がすべて非NULLに初期化されていることが正しく検査されるように<TT
CLASS="COMMAND"
>ALTER TABLE ADD COLUMN ... PRIMARY KEY</TT
>を修正しました。(Brendan Jurd)
     </P
><P
>これまでのバージョンでは、この必要条件の検査をまったく行っていませんでした。
     </P
></LI
><LI
><P
>手続き言語にも動作できるように<TT
CLASS="COMMAND"
>REASSIGN OWNED</TT
>を修正しました。(Alvaro)
     </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>SELECT</TT
>以外の最上位操作を行う問い合わせの副問い合わせとして<TT
CLASS="COMMAND"
>SELECT FOR UPDATE/SHARE</TT
>が存在した場合の問題を修正しました。(Tom)
     </P
></LI
><LI
><P
><SPAN
CLASS="QUOTE"
>"同じ"</SPAN
>制約を、共通の祖先からその制約を継承する複数の親リレーションから継承する場合に、<TT
CLASS="COMMAND"
>CREATE TABLE</TT
>が失敗する可能性を修正しました。(Tom)
     </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>UPDATE</TT
>または<TT
CLASS="COMMAND"
>DELETE</TT
>の対象テーブルに別名が付与されていたならば、<CODE
CLASS="FUNCTION"
>pg_get_ruledef()</CODE
>がその別名を表示するように修正しました。(Tom)
     </P
></LI
><LI
><P
>TidScan計画で使用されるTID内の範囲外ブロック番号が警告なく行にまったく一致しないという結果になる、8.3以前の動作に戻しました。
     </P
><P
>8.3.0と8.3.1では代わりにエラーになりました。
     </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>too many LWLocks taken</TT
>という結果をもたらす、GINの不具合を修正しました。(Teodor)
     </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>tsquery</TT
>における壊れたGiST比較関数を修正しました。(Teodor)
     </P
></LI
><LI
><P
>動作することが見込まれる型についてのドメインを受け付けるように<CODE
CLASS="FUNCTION"
>tsvector_update_trigger()</CODE
>と<CODE
CLASS="FUNCTION"
>ts_stat()</CODE
>を修正しました。(Tom)
     </P
></LI
><LI
><P
>列挙データ型を外部キーとしてサポートするエラーを修正しました。(Tom)
     </P
></LI
><LI
><P
>破損したデータを伸長する時に潜在するクラッシュを防止します。(Zdenek Kotala)
     </P
></LI
><LI
><P
>遅延削除と<TT
CLASS="COMMAND"
>DROP DATABASE</TT
>間の競合条件を修正しました。(Heikki)
     </P
><P
>最悪の場合、新しいデータベースに新しく作成したテーブルが最近削除されたテーブルと同じOIDを持つことが起こったら、そのテーブルを削除する結果になりました。
しかし、もちろんこれは非常に可能性が低いシナリオです。
     </P
></LI
><LI
><P
>バックエンドのSIGTERMによる終了が共有メモリを破損したままにする2か所を修正しました。(Tom)
     </P
><P
>SIGTERMがデータベースクラスタ全体を停止するために使用された場合、どちらも非常に重要ではありません。
しかし、個々のバックエンドにSIGTERMを送信することを試みる場合が問題でした。
     </P
></LI
><LI
><P
><TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
>と<TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
>が異なるデータ型を取る場合に<TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> IN (SELECT <TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
> FROM ...)</TT
>句に対して生成される不正確な計画による潜在するクラッシュを修正しました。
そして、<TT
CLASS="REPLACEABLE"
><I
>y</I
></TT
>型から<TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
>型への変換に損失がある場合に、意味的に正しく動作することを確認しました。(Tom)
     </P
></LI
><LI
><P
>プランナが既知のParam値が定数であった場合にそれを代用しないという見落としを修正しました。(Tom)
     </P
><P
>8.3.0と8.3.1では、このミスは部分的に無名の拡張問い合わせ文の最適化を無効にしました。
特に、LIKEパターンがパラメータとして渡される場合、LIKE対インデックススキャン最適化は決して適用されませんでした。
また、パラメータ値に依存した制約による除外も動作しませんでした。
     </P
></LI
><LI
><P
>インデックス可能な<CODE
CLASS="FUNCTION"
>MIN</CODE
>または<CODE
CLASS="FUNCTION"
>MAX</CODE
>集約が<TT
CLASS="LITERAL"
>DISTINCT</TT
>または<TT
CLASS="LITERAL"
>ORDER BY</TT
>で使用された場合のプランナの失敗を修正しました。(Tom)
     </P
></LI
><LI
><P
>プランナがSortノードを生み出す計画ノードで<SPAN
CLASS="QUOTE"
>"physical tlist"</SPAN
>を使用しないことを確実にしました。(Tom)
     </P
><P
>これによりソートされたデータ内に未使用の列値が含まれるため、本来必要なデータより多くのデータをソートで処理しなければなりませんでした。
     </P
></LI
><LI
><P
>不要な問い合わせ文字列の複製をやめました。(Tom)
     </P
><P
>この修正は、8.3.0でもたらされた、多数のコマンドが単一問い合わせ文字列として送信された時の性能問題を修正します。
     </P
></LI
><LI
><P
>子トランザクションのXIDを検査する際に、<CODE
CLASS="FUNCTION"
>TransactionIdIsCurrentTransactionId()</CODE
>がリニア検索ではなく二分検索を使用するようにしました。(Heikki)
     </P
><P
>これは、8.3.0が以前のリリースに比べ非常に低速になる一部の状況を修正します。
     </P
></LI
><LI
><P
>キリル語の<SPAN
CLASS="QUOTE"
>"Yo"</SPAN
>文字（2つのドットを持つ<TT
CLASS="LITERAL"
>e</TT
>と<TT
CLASS="LITERAL"
>E</TT
>）を扱うISO-8859-5と他の符号化方式との間の変換を修正しました。(Sergey Burladyan)
     </P
></LI
><LI
><P
>複数のデータ型入力関数、特に、結果に初期化されず予測できない値を含む未使用のバイトを許す<CODE
CLASS="FUNCTION"
>array_in()</CODE
>を修正しました。(Tom)
     </P
><P
>これは、2つの明らかに同じリテラル値が等しいとみなされず、結果パーサは一致しない<TT
CLASS="LITERAL"
>ORDER BY</TT
>および<TT
CLASS="LITERAL"
>DISTINCT</TT
>式に関して不平をいうといったエラーをもたらします。
     </P
></LI
><LI
><P
>正規表現副文字列一致（<TT
CLASS="LITERAL"
>substring(<TT
CLASS="REPLACEABLE"
><I
>string</I
></TT
> from <TT
CLASS="REPLACEABLE"
><I
>pattern</I
></TT
>)</TT
>）における境界状態を修正しました。(Tom)
     </P
><P
>この問題は、パターン全体は一致するが、ユーザが括弧付きの副式を指定し、その副式が一致しなかった時に発生します。
例えば、<TT
CLASS="LITERAL"
>substring('foo' from 'foo(bar)?')</TT
>です。
<TT
CLASS="LITERAL"
>(bar)</TT
>は一致しませんので、これはNULLを返すべきです。
しかし、間違ってパターン全体が一致（つまり<TT
CLASS="LITERAL"
>foo</TT
>）という結果を返していました。
     </P
></LI
><LI
><P
>XID周回を防ぐために起動された自動バキュームのキャンセルを防ぎます。(Alvaro)
     </P
></LI
><LI
><P
>統計情報コレクタに報告する数がより正確になるように、<TT
CLASS="COMMAND"
>ANALYZE</TT
>の疑わしいタプル（まだコミットされていないトランザクションにより挿入または削除されたタプル）の扱いを改良しました。(Pavan Deolasee)
     </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>--xlogdir</TT
> (<TT
CLASS="LITERAL"
>-X</TT
>)オプションにおける相対パスを拒絶するように<SPAN
CLASS="APPLICATION"
>initdb</SPAN
>を修正しました。(Tom)
     </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>がタブ文字を、8.3.0と8.3.1で使用された<TT
CLASS="LITERAL"
>\x09</TT
>ではなく、適切な数の空白文字で表示するようにしました。(Bruce)
     </P
></LI
><LI
><P
>時間帯データファイルを<SPAN
CLASS="APPLICATION"
>tzdata</SPAN
>リリース2008c（モナコ、イラク、チョイバルサン、パキスタン、シリア、キューバ、アルゼンチン/サンルイスにおける夏時間規則の変更）まで更新しました。

     </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>ecpglib</SPAN
>に<CODE
CLASS="FUNCTION"
>ECPGget_PGconn()</CODE
>関数を追加しました。(Michael)
     </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>ecpg</SPAN
>の<CODE
CLASS="FUNCTION"
>PGTYPEStimestamp_sub()</CODE
>関数からの不正確な結果を修正しました。(Michael)
     </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>ecpg</SPAN
>における継続行印の扱いを修正しました。(Michael)
     </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/cube</TT
>関数に潜在したクラッシュを修正しました。(Tom)
     </P
></LI
><LI
><P
>入力問い合わせがNULL値を返す場合の<TT
CLASS="FILENAME"
>contrib/xml2</TT
>の<CODE
CLASS="FUNCTION"
>xpath_table()</CODE
>関数のコアダンプを修正しました。(Tom)
     </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/xml2</TT
>のmakefileが<TT
CLASS="LITERAL"
>CFLAGS</TT
>を上書きしないように修正しました。
また、<SPAN
CLASS="APPLICATION"
>libxslt</SPAN
>の存在を適切に自動検出するようにしました。(Tom)
     </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-8-3-3.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-8-3-1.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース8.3.3</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース8.3.1</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>