<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース9.5</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース9.5.1"
HREF="release-9-5-1.html"><LINK
REL="NEXT"
TITLE="リリース9.4.14"
HREF="release-9-4-14.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2018-02-10T07:29:51"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース9.5.1"
HREF="release-9-5-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース9.4.14"
HREF="release-9-4-14.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-9-5"
>E.16. リリース9.5</A
></H1
><DIV
CLASS="FORMALPARA"
><P
><B
>リリース日: </B
>2016-01-07</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN134513"
>E.16.1. 概要</A
></H2
><P
>    <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>9.5の主な強化点には以下のものがあります。
   </P
><P
></P
><UL
><LI
><P
>制約違反を起こす<A
HREF="sql-insert.html#SQL-ON-CONFLICT"
><TT
CLASS="COMMAND"
>INSERT</TT
></A
>を<TT
CLASS="COMMAND"
>UPDATE</TT
>に変換するか、無視することができるようにしました。
     </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>GROUP BY</TT
>分析機能に<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>GROUPING SETS</TT
></A
>、<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>CUBE</TT
></A
>、<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>ROLLUP</TT
></A
>を加えました。
     </P
></LI
><LI
><P
><A
HREF="ddl-rowsecurity.html"
>行単位セキュリティ制御</A
>を加えました。
     </P
></LI
><LI
><P
><A
HREF="replication-origins.html"
>レプリケーション進行</A
>を観測する仕組みを作りました。ロジカルレプリケーション時に個々の変更の起点を識別する手段も含まれます。
     </P
></LI
><LI
><P
><A
HREF="brin.html"
>ブロック範囲インデックス</A
>(Block Range Indexes, <ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>)を追加しました
     </P
></LI
><LI
><P
>ソート性能を大幅に改善しました。
     </P
></LI
><LI
><P
>多CPUマシンでの性能を大幅に改善しました。
     </P
></LI
></UL
><P
>上記の項目については、以下でより詳細に説明します。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN134547"
>E.16.2. バージョン9.5への移行</A
></H2
><P
>以前のリリースからデータを移行したい時は、どのリリースについても、
<A
HREF="app-pg-dumpall.html"
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
></A
>を利用したダンプとリストア、
あるいは<A
HREF="pgupgrade.html"
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
></A
>の利用が必要です。

   </P
><P
>バージョン9.5には、以前のバージョンとの互換性に影響する多数の変更点が含まれています。
以下の非互換性に注意してください。
   </P
><P
></P
><UL
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>標準に適合するように<A
HREF="sql-syntax-lexical.html#SQL-PRECEDENCE"
>演算子の優先順位</A
>を調整しました。
(Tom Lane)
     </P
><P
><TT
CLASS="LITERAL"
>&lt;=</TT
>、<TT
CLASS="LITERAL"
>&gt;=</TT
>、<TT
CLASS="LITERAL"
>&lt;&gt;</TT
>の優先順位が、
<TT
CLASS="LITERAL"
>&lt;</TT
>, <TT
CLASS="LITERAL"
>&gt;</TT
>、<TT
CLASS="LITERAL"
>=</TT
>と同じに下げられました。
<TT
CLASS="LITERAL"
>IS</TT
>検査（例: <TT
CLASS="REPLACEABLE"
><I
>x</I
></TT
> <TT
CLASS="LITERAL"
>IS NULL</TT
>）の優先順位がこれら6つの比較演算子のすぐ下まで下げられました。
また、<TT
CLASS="LITERAL"
>NOT</TT
>で始まる複数キーワード演算子はその基底演算子と同じ優先順位を持つようになります（例えば、<TT
CLASS="LITERAL"
>NOT BETWEEN</TT
>は<TT
CLASS="LITERAL"
>BETWEEN</TT
>と同じ優先順位となります）。
<TT
CLASS="LITERAL"
>NOT</TT
>は左辺要素を尊重するけれどもその基底演算子は右辺要素を尊重するといったように、これまで一貫性に欠けた優先順位になっていました。
新たな設定パラメータ<A
HREF="runtime-config-compatible.html#GUC-OPERATOR-PRECEDENCE-WARNING"
>operator_precedence_warning</A
>で本優先順位変更で異なった解析結果になる問い合わせについての警告を有効にできます。
     </P
></LI
><LI
><P
><A
HREF="app-pg-ctl.html"
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
></A
>のデフォルトシャットダウンモードを<TT
CLASS="LITERAL"
>smart</TT
>から<TT
CLASS="LITERAL"
>fast</TT
>に変更しました。
(Bruce Momjian)
     </P
><P
>停止時のデフォルトの振る舞いが、既存のデータベースセッションが終了するのを待つのでなく、強制的にセッションを中断するようになることを意味します。
     </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>の代入でのデータ型変換に、テキストから、あるいは、テキストへの変換ではなく、代入キャストの動作を用います。
(Tom Lane)
     </P
><P
>この変更により、boolean型から文字列への変換で、<TT
CLASS="LITERAL"
>t</TT
>や<TT
CLASS="LITERAL"
>f</TT
>ではなく、<TT
CLASS="LITERAL"
>true</TT
>や<TT
CLASS="LITERAL"
>false</TT
>が生じます。
他の型変換はおそらくこれまでより多くの場合で成功するようになります。
例えば、数値<TT
CLASS="LITERAL"
>3.9</TT
>をinteger変数に代入すると、これからはエラーになるのでなく4が代入されます。
当該の変換元と変換先の型について代入級キャストが定義されていないときには、<SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>は従来のI/Oによる変換で代替します。
     </P
></LI
><LI
><P
><A
HREF="libpq-connect.html#LIBPQ-CONNECT-OPTIONS"
>サーバむけコマンドラインオプション</A
>でバックスラッシュで文字をエスケープできるようにしました。
(Andres Freund)
     </P
><P
>これまでは、オプション文字列中の空白文字が常にオプション区切になっていて、オプション内容に空白文字を含める方法がありませんでした。
オプション内容にバックスラッシュ(\)を含めるにはこれからは<TT
CLASS="LITERAL"
>\\</TT
>と書く必要があります。
     </P
></LI
><LI
><P
>GSSAPIの<A
HREF="auth-methods.html#GSSAPI-AUTH"
><TT
CLASS="VARNAME"
>include_realm</TT
></A
>パラメータのデフォルト値を1に変更しました。
そのため、デフォルトでは<ACRONYM
CLASS="ACRONYM"
>GSS</ACRONYM
>および<ACRONYM
CLASS="ACRONYM"
>SSPI</ACRONYM
>のプリンシパル名からレルムは取り除かれません。
(Stephen Frost)
     </P
></LI
><LI
><P
>設定パラメータ<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>を<A
HREF="runtime-config-wal.html#GUC-MIN-WAL-SIZE"
>min_wal_size</A
>と<A
HREF="runtime-config-wal.html#GUC-MAX-WAL-SIZE"
>max_wal_size</A
>で置き換えました。
(Heikki Linnakangas)
     </P
><P
>これまで<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>を調整していたのであれば、以下の式でおおよそ同等の設定が得られます。
</P><PRE
CLASS="PROGRAMLISTING"
>max_wal_size = (3 * checkpoint_segments) * 16MB</PRE
><P>
<TT
CLASS="VARNAME"
>max_wal_size</TT
>のデフォルト設定は、以前の<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>のデフォルト値よりもずっと大きいことに注意してください。そのため、これらを調整することはもはや不要になるかもしれません。
     </P
></LI
><LI
><P
>Linuxの<ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
> killerを、
コンパイル時のオプション<TT
CLASS="LITERAL"
>LINUX_OOM_SCORE_ADJ</TT
>、<TT
CLASS="LITERAL"
>LINUX_OOM_ADJ</TT
>に代えて、
環境変数<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_FILE</TT
></A
>、<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_VALUE</TT
></A
>で制御します。
(Gurjeet Singh)
       </P
></LI
><LI
><P
>以前のリリースで非推奨とされていたサーバ設定パラメータ<TT
CLASS="VARNAME"
>ssl_renegotiation_limit</TT
>を廃止しました。
(Andres Freund)
     </P
><P
>理論上はSSL再ネゴシエーションは良い考えですが、実際には差引マイナスと考えられるほど多くのバグを引き起こしており、さらに、関連する標準の将来バージョンから除去されることになっています。
そのため、私たちは<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>から本機能のサポートを外しました。
パラメータ<TT
CLASS="VARNAME"
>ssl_renegotiation_limit</TT
>は未だ在りますが、0（無効）以外には設定できませんし、ドキュメントにも記載されません。
     </P
></LI
><LI
><P
>既に非推奨かつ使用不能となっていたサーバ設定パラメータ<TT
CLASS="VARNAME"
>autocommit</TT
>を除きました。
(Tom Lane)
     </P
></LI
><LI
><P
>不用であったため、システムカタログ<A
HREF="catalog-pg-authid.html"
><TT
CLASS="STRUCTNAME"
>pg_authid</TT
></A
>のフィールド<TT
CLASS="STRUCTFIELD"
>rolcatupdate</TT
>を除きました。
(Adam Brightwell)
     </P
></LI
><LI
><P
>システムビュー<A
HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"
><TT
CLASS="STRUCTNAME"
>pg_stat_replication</TT
></A
>のフィールド<TT
CLASS="STRUCTFIELD"
>sent</TT
>は、有効な値を持たないときゼロでなくNULLとしました。
(Magnus Hagander)
     </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>json</TT
>および<TT
CLASS="TYPE"
>jsonb</TT
>の配列抽出演算子で、JSON配列を後ろから数える、負の添え字を可能にしました。
(Peter Geoghegan, Andrew Dunstan)
     </P
><P
>これまでは、これらの演算子は負の添え字に<TT
CLASS="LITERAL"
>NULL</TT
>を返しました。
     </P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN134644"
>E.16.3. 変更点</A
></H2
><P
>前回のメジャーリリースからの<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 9.5
の変更点の詳細説明を以下に示します。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN134648"
>E.16.3.1. サーバ</A
></H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134650"
>E.16.3.1.1. インデックス</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="brin.html"
>ブロック範囲インデックス</A
>(Block Range Indexes, <ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>)を追加しました。
(&Aacute;lvaro Herrera)
       </P
><P
><ACRONYM
CLASS="ACRONYM"
>BRIN</ACRONYM
>インデックスは、ヒープブロック範囲の（最大値、最小値のような）摘要データのみを格納します。そのため、非常にサイズが小さく、更新コストも軽微です。それでいて、データが自然にクラスタ化されているなら、かなりの検索速度向上も実現します。
       </P
></LI
><LI
><P
>&#13;<A
HREF="gist.html"
>GiST</A
>インデックスを使った、外接矩形でインデックス付けされるオブジェクト（polygon や circle）の距離によるフィルタを正確に行う問い合わせを可能にしました。
(Alexander Korotkov, Heikki Linnakangas)
       </P
><P
>これまで、このようなインデックスを利用するには、副問い合わせで多数の行を外接矩形の距離で並び替えて、さらにその結果をより正確な距離計算でフィルタする必要がありました。
       </P
></LI
><LI
><P
><A
HREF="gist.html"
>GiST</A
>インデックスでインデックスオンリースキャンを可能にしました。
(Anastasia Lubennikova, Heikki Linnakangas, Andreas Karlsson)
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>GIN</ACRONYM
>の待機リストのサイズを制御する設定パラメータ<A
HREF="runtime-config-client.html#GUC-GIN-PENDING-LIST-LIMIT"
>gin_pending_list_limit</A
>を追加しました。
(Fujii Masao)
       </P
><P
>本パラメータはインデックスごとにインデックスのストレージパラメータとして設定することも可能です。これまで待機リストサイズは<A
HREF="runtime-config-resource.html#GUC-WORK-MEM"
>work_mem</A
>で制御されていましたが、適切な<TT
CLASS="VARNAME"
>work_mem</TT
>値が待機リストサイズむけには大きすぎることがよくあり、扱いにくいものとなっていました。
       </P
></LI
><LI
><P
><A
HREF="indexes-types.html"
>hash</A
>インデックスはクラッシュ時に安全でないため、それを作るときに警告を出します。
(Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134676"
>E.16.3.1.2. 性能全般</A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="QUOTE"
>"短縮"</SPAN
>キーにより、<TT
CLASS="TYPE"
>varchar</TT
>型、<TT
CLASS="TYPE"
>text</TT
>型、<TT
CLASS="TYPE"
>numeric</TT
>型フィールドのソート速度を改善しました。
(Peter Geoghegan, Andrew Gierth, Robert Haas)
       </P
></LI
><LI
><P
>ソートをインラインで実行できるように基盤を拡張しました。
<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>から呼び出しできない比較関数が<TT
CLASS="COMMAND"
>CREATE INDEX</TT
>、<TT
CLASS="COMMAND"
>REINDEX</TT
>、<TT
CLASS="COMMAND"
>CLUSTER</TT
>に適用されます。
(Peter Geoghegan)
       </P
></LI
><LI
><P
>ハッシュ結合の性能を改善しました。
(Tomas Vondra, Robert Haas)
       </P
></LI
><LI
><P
>共有バッファの置き換えにおける同時実行性を改善しました。
(Robert Haas, Amit Kapila, Andres Freund)
       </P
></LI
><LI
><P
>インデックススキャン中のページロックとピンの数を減らしました。
(Kevin Grittner)
       </P
><P
>主な恩恵はインデックスのバキュームがあまりブロックされなくなることです。
       </P
></LI
><LI
><P
>バックエンド毎のバッファピンの追跡でメモリ利用効率を改善しました。
(Andres Freund)
       </P
></LI
><LI
><P
>ロックのスケーラビリティを改善しました。
(Andres Freund)
       </P
><P
>これは特に複数の<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>ソケットをもつシステムで動作させるときのスケーラビリティ問題を解決します。
       </P
></LI
><LI
><P
>オプティマイザが左結合された副問い合わせの不要な参照を取り除けるようにしました。
(David Rowley)
       </P
></LI
><LI
><P
>適切な場所においては、問い合わせの制約を<A
HREF="tutorial-window.html"
>ウィンドウ関数</A
>を伴う副問い合わせにプッシュダウンできるようにしました。
(David Rowley)
       </P
></LI
><LI
><P
>LEAKPROOFでない関数を、その関数がビューの出力列を受け取らないなら、セキュリティバリアビューにプッシュダウンできるようにしました。
(Dean Rasheed)
       </P
></LI
><LI
><P
>プランナが、<TT
CLASS="LITERAL"
>WHERE</TT
>句に照合する関数の呼び出しがあったとき、真偽値を返す関数の式インデックスから得た統計情報を使うようにしました。
(Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ANALYZE</TT
>で列のデータ型が等価関数を持たなくても基本的な統計（null比率、列の平均長）の計算をするようにしました。
(Oleksandr Shulgin)
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>CRC</ACRONYM
>(巡回冗長検査)計算を高速化し、また、CRC-32Cに切り替えました。
(Abhijit Menon-Sen, Heikki Linnakangas)
       </P
></LI
><LI
><P
>ビットマップインデックススキャンの性能を改善しました。
(Teodor Sigaev, Tom Lane)
       </P
></LI
><LI
><P
>不要なメモリコピーを避けることで<TT
CLASS="COMMAND"
>CREATE INDEX</TT
>を高速化しました。
(Robert Haas)
       </P
></LI
><LI
><P
>バッファマッピングのパーティション数を増やしました。
(Amit Kapila, Andres Freund, Robert Haas)
       </P
><P
>これは並列性の高い負荷に対して性能を改善します。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134728"
>E.16.3.1.3. 監視</A
></H4
><P
></P
><UL
><LI
><P
>新たなストレージパラメータ<TT
CLASS="VARNAME"
>log_min_autovacuum_duration</TT
>によるテーブル単位での自動バキュームのログ制御を追加しました。
(Michael Paquier)
       </P
></LI
><LI
><P
>新たな設定パラメータ<A
HREF="runtime-config-logging.html#GUC-CLUSTER-NAME"
>cluster_name</A
>を追加しました。
(Thomas Munro)
       </P
><P
>通常<A
HREF="config-setting.html#CONFIG-SETTING-CONFIGURATION-FILE"
><TT
CLASS="FILENAME"
>postgresql.conf</TT
></A
>に設定されるこの文字列によりクライアントはクラスタを識別できます。
この名称は全サーバプロセスのプロセスタイトルにも出て、同じクラスタに属するプロセス群を識別するのを容易にします。
       </P
></LI
><LI
><P
>スーパーユーザ以外が<A
HREF="runtime-config-logging.html#GUC-LOG-DISCONNECTIONS"
>log_disconnections</A
>を接続当初に変更することを防ぎました。
(Fujii Masao)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134743"
>E.16.3.1.4. <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
></A
></H4
><P
></P
><UL
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>サーバ証明書で<A
HREF="libpq-ssl.html"
><SPAN
CLASS="QUOTE"
>"サブジェクト別名"</SPAN
></A
>があるなら、それを確認します。
(Alexey Klyukin)
       </P
><P
>サブジェクト別名があるなら証明書の<SPAN
CLASS="QUOTE"
>"Common Name"</SPAN
>にむけた確認を代替します。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>接続情報を報告するシステムビュー<A
HREF="monitoring-stats.html#PG-STAT-SSL-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_ssl</TT
></A
>を追加しました。
(Magnus Hagander)
       </P
></LI
><LI
><P
>実装に独立な方法で<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>情報を返す<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>関数を追加しました。
(Heikki Linnakangas)
       </P
><P
><SPAN
CLASS="PRODUCTNAME"
>OpenSSL</SPAN
>関数を呼ぶ<A
HREF="libpq-status.html#LIBPQ-PQGETSSL"
><CODE
CLASS="FUNCTION"
>PQgetssl()</CODE
></A
>関数は未だ使用することができますが、<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>の将来バージョンは別の<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>実装に対応するかもしれないため、これからは非推奨とみなされます。
可能であれば、<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>情報取得に<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>実装独立な新たな関数<A
HREF="libpq-status.html#LIBPQ-PQSSLATTRIBUTE"
><CODE
CLASS="FUNCTION"
>PQsslAttribute()</CODE
></A
>、<A
HREF="libpq-status.html#LIBPQ-PQSSLATTRIBUTENAMES"
><CODE
CLASS="FUNCTION"
>PQsslAttributeNames()</CODE
></A
>、<A
HREF="libpq-status.html#LIBPQ-PQSSLINUSE"
><CODE
CLASS="FUNCTION"
>PQsslInUse()</CODE
></A
>を使ってください。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
>であらゆる<SPAN
CLASS="PRODUCTNAME"
>OpenSSL</SPAN
>のスレッドコールバックを尊重するようにしました。
(Jan Urbanski)
       </P
><P
>これまでは上書きされていました。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134782"
>E.16.3.1.5. サーバ設定</A
></H4
><P
></P
><UL
><LI
><P
>設定パラメータ<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>を<A
HREF="runtime-config-wal.html#GUC-MIN-WAL-SIZE"
>min_wal_size</A
>と<A
HREF="runtime-config-wal.html#GUC-MAX-WAL-SIZE"
>max_wal_size</A
>で置き換えました。
(Heikki Linnakangas)
       </P
><P
>この変更により、多数の<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ファイルを、それらが不要になったあとも維持することなく、割り当てできます。
それゆえに、<TT
CLASS="VARNAME"
>max_wal_size</TT
>のデフォルトは、従来の<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>のデフォルトよりもずっと大きい<TT
CLASS="LITERAL"
>1GB</TT
>です。
また、スタンバイサーバがWAL領域の消費を<TT
CLASS="VARNAME"
>max_wal_size</TT
>で制限するように努めてリスタートポイント処理を実行することにも注意してください。これまでは<TT
CLASS="VARNAME"
>checkpoint_segments</TT
>に注意をはらっていませんでした。
       </P
></LI
><LI
><P
>Linuxの<ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
> killerを新たな環境変数<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_FILE</TT
></A
>、<A
HREF="kernel-resources.html#LINUX-MEMORY-OVERCOMMIT"
><TT
CLASS="ENVAR"
>PG_OOM_ADJUST_VALUE</TT
></A
>により制御します。
(Gurjeet Singh)
       </P
><P
>これまでの<ACRONYM
CLASS="ACRONYM"
>OOM</ACRONYM
>制御基盤はコンパイル時のオプション<TT
CLASS="LITERAL"
>LINUX_OOM_SCORE_ADJ</TT
>、<TT
CLASS="LITERAL"
>LINUX_OOM_ADJ</TT
>を必要としました。これらはサポートされなくなります。新たな動作は全てのビルドで利用できます。
       </P
></LI
><LI
><P
>設定パラメータ<A
HREF="runtime-config-replication.html#GUC-TRACK-COMMIT-TIMESTAMP"
>track_commit_timestamp</A
>を有効にすることで、トランザクションコミットのタイムスタンプを記録できるようにしました。
(&Aacute;lvaro Herrera, Petr Jel&iacute;nek)
       </P
><P
>タイムスタンプ情報は関数<A
HREF="functions-info.html#FUNCTIONS-COMMIT-TIMESTAMP"
><CODE
CLASS="FUNCTION"
>pg_xact_commit_timestamp()</CODE
></A
>と<CODE
CLASS="FUNCTION"
>pg_last_committed_xact()</CODE
>を使って参照できます。
       </P
></LI
><LI
><P
><A
HREF="runtime-config-client.html#GUC-LOCAL-PRELOAD-LIBRARIES"
>local_preload_libraries</A
>を<TT
CLASS="COMMAND"
>ALTER ROLE SET</TT
>から設定できるようにしました。
(Peter Eisentraut, Kyotaro Horiguchi)
       </P
></LI
><LI
><P
><A
HREF="routine-vacuuming.html#AUTOVACUUM"
>自動バキュームワーカ</A
>が処理中に設定パラメータ変更に反応できるようにしました。
(Michael Paquier)
       </P
></LI
><LI
><P
>設定パラメータ<A
HREF="runtime-config-preset.html#GUC-DEBUG-ASSERTIONS"
>debug_assertions</A
>を読み取り専用にしました。
(Andres Freund)
       </P
><P
>これは、コンパイル時にアサート有効にしたならもはやoffにできないようにして、より効果的なコード最適化を可能にする意味があります。
本変更では、<A
HREF="app-postgres.html#APP-POSTGRES-OPTIONS"
>postgres</A
> <TT
CLASS="OPTION"
>-A</TT
>オプションも削除されます。
       </P
></LI
><LI
><P
><A
HREF="runtime-config-resource.html#GUC-EFFECTIVE-IO-CONCURRENCY"
>effective_io_concurrency</A
>を効果の無いシステムにおいても設定できるようにしました。
(Peter Eisentraut)
       </P
></LI
><LI
><P
>サーバの設定ファイル内容を表示するシステムビュー<A
HREF="view-pg-file-settings.html"
><TT
CLASS="STRUCTNAME"
>pg_file_settings</TT
></A
>を追加しました。
(Sawada Masahiko)
       </P
></LI
><LI
><P
>システムビュー<A
HREF="view-pg-settings.html"
><TT
CLASS="STRUCTNAME"
>pg_settings</TT
></A
>に、変更されたけれどもデータベース再起動まで反映されない内容があるかを示す<TT
CLASS="STRUCTNAME"
>pending_restart</TT
>列を追加しました。
(Peter Eisentraut)
       </P
></LI
><LI
><P
><A
HREF="sql-altersystem.html"
><TT
CLASS="COMMAND"
>ALTER SYSTEM</TT
></A
>の設定値を<TT
CLASS="COMMAND"
>ALTER SYSTEM RESET</TT
>でリセットできるようにしました。
(Vik Fearing)
       </P
><P
>このコマンドは<TT
CLASS="FILENAME"
>postgresql.auto.conf</TT
>から指定した設定項目を削除します。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN134847"
>E.16.3.2. レプリケーションとリカバリ</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="replication-origins.html"
>レプリケーション進行</A
>を観測する仕組みを作りました。
ロジカルレプリケーションで個々の変更の起点を識別する方法も含まれます。
(Andres Freund)
       </P
><P
>これはレプリケーションソリューションを構築するときの助けとなります。
       </P
></LI
><LI
><P
>マルチトランザクションのコミットログの切り捨て処理を適切にWAL記録されるように作り直しました。
(Andres Freund)
       </P
><P
>コードを相当程度より単純でより頑健にしました。
       </P
></LI
><LI
><P
>リカバリ後の動作を制御する<A
HREF="recovery-config.html"
><TT
CLASS="FILENAME"
>recovery.conf</TT
></A
>パラメータ<A
HREF="recovery-target-settings.html#RECOVERY-TARGET-ACTION"
><TT
CLASS="VARNAME"
>recovery_target_action</TT
></A
>を追加しました。
(Petr Jel&iacute;nek)
       </P
><P
>これは旧来のパラメータ<TT
CLASS="VARNAME"
>pause_at_recovery_target</TT
>を置き換えます。
       </P
></LI
><LI
><P
><A
HREF="runtime-config-wal.html#GUC-ARCHIVE-MODE"
>archive_mode</A
>の新しい値<TT
CLASS="LITERAL"
>always</TT
>を追加しました。
スタンバイで受け取った<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ファイルを常にアーカイブできるようになります。
(Fujii Masao)
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>読み込みの失敗したあとのリトライを制御する設定パラメータ<A
HREF="runtime-config-replication.html#GUC-WAL-RETRIEVE-RETRY-INTERVAL"
>wal_retrieve_retry_interval</A
>を追加しました。
(Alexey Vasiliev, Michael Paquier)
       </P
><P
>これは特にウォームスタンバイに役立ちます。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>にフルページイメージを圧縮して格納できるようにしました。
(Rahila Syed, Michael Paquier)
       </P
><P
>この機能は、WAL記録とWAL再生によりCPU時間を費やすことで、WAL量を減らします。新たな設定パラメータ<A
HREF="runtime-config-wal.html#GUC-WAL-COMPRESSION"
>wal_compression</A
>で制御します。今のところデフォルトはoffです。
       </P
></LI
><LI
><P
>スタンバイが昇格するとき、<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ファイルに<TT
CLASS="LITERAL"
>.partial</TT
>拡張子を付けてアーカイブします。
(Heikki Linnakangas)
       </P
></LI
><LI
><P
>レプリケーションコマンドをログ記録する設定パラメータ<A
HREF="runtime-config-logging.html#GUC-LOG-REPLICATION-COMMANDS"
>log_replication_commands</A
>を追加しました。
(Fujii Masao)
       </P
><P
>デフォルトでは<A
HREF="protocol-replication.html"
><TT
CLASS="LITERAL"
>IDENTIFY_SYSTEM</TT
></A
>などのレプリケーションコマンドはたとえ<A
HREF="runtime-config-logging.html#GUC-LOG-STATEMENT"
>log_statement</A
>を<TT
CLASS="LITERAL"
>all</TT
>に設定してもログ記録されません
       </P
></LI
><LI
><P
>レプリケーションスロットを保持しているプロセスを<A
HREF="view-pg-replication-slots.html"
><TT
CLASS="STRUCTNAME"
>pg_replication_slots</TT
></A
>で報告します。
(Craig Ringer)
       </P
><P
>このために<TT
CLASS="STRUCTNAME"
>active_pid</TT
>列を追加しました。
       </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>recovery.conf</TT
>の<A
HREF="standby-settings.html#PRIMARY-CONNINFO"
><TT
CLASS="VARNAME"
>primary_conninfo</TT
></A
>設定で接続<ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
>（例: <TT
CLASS="LITERAL"
>postgres://</TT
>）を使えるようにしました。
(Alexander Shulgin)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN134905"
>E.16.3.3. 問い合わせ</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="sql-insert.html#SQL-ON-CONFLICT"
><TT
CLASS="COMMAND"
>INSERT</TT
></A
>で制約違反が生じたのを、<TT
CLASS="COMMAND"
>UPDATE</TT
>に転換したり、無視したりできるようにしました。
(Peter Geoghegan, Heikki Linnakangas, Andres Freund)
       </P
><P
><TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT DO NOTHING/UPDATE</TT
> という構文を使用します。
これは人気のある<TT
CLASS="COMMAND"
>UPSERT</TT
>コマンドのPostgreSQLにおける実装となります。
       </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>GROUP BY</TT
>分析機能に<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>GROUPING SETS</TT
></A
>、<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>CUBE</TT
></A
>、<A
HREF="queries-table-expressions.html#QUERIES-GROUPING-SETS"
><TT
CLASS="LITERAL"
>ROLLUP</TT
></A
>を加えました。
(Andrew Gierth, Atri Sharma)
       </P
></LI
><LI
><P
><A
HREF="sql-update.html"
><TT
CLASS="COMMAND"
>UPDATE</TT
></A
>で複数対象カラムに一つの副問い合わせ結果から値を設定できるようにしました。
(Tom Lane)
       </P
><P
><TT
CLASS="COMMAND"
>UPDATE tab SET (col1, col2, ...) = (SELECT ...)</TT
> という構文で実現されます。
       </P
></LI
><LI
><P
>ロックされた行を読み飛ばす<A
HREF="sql-select.html"
><TT
CLASS="COMMAND"
>SELECT</TT
></A
>オプション<TT
CLASS="LITERAL"
>SKIP LOCKED</TT
>を追加しました。
(Thomas Munro)
       </P
><P
><TT
CLASS="LITERAL"
>NOWAIT</TT
>と異なり、ロック行に対してエラーを出すことはありません。
       </P
></LI
><LI
><P
>テーブルの部分集合を返す<A
HREF="sql-select.html"
><TT
CLASS="COMMAND"
>SELECT</TT
></A
>オプション<TT
CLASS="LITERAL"
>TABLESAMPLE</TT
>を追加しました。
       </P
><P
>この機能はSQL標準のテーブルサンプリングメソッドをサポートします。加えて、<A
HREF="tablesample-method.html"
>ユーザ定義サンプリングメソッド</A
>を提供します。
       </P
></LI
><LI
><P
>ミスタイプしたカラム名に対し、類推される候補をヒント提示します。
(Peter Geoghegan, Robert Haas)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN134947"
>E.16.3.4. ユーティリティコマンド</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="sql-explain.html"
><TT
CLASS="COMMAND"
>EXPLAIN</TT
></A
>がソート順についてより詳細に出力します。
(Marius Timmer, Lukas Kreft, Arne Scheffer)
       </P
><P
>出力に<TT
CLASS="LITERAL"
>COLLATE</TT
>、<TT
CLASS="LITERAL"
>DESC</TT
>、<TT
CLASS="LITERAL"
>USING</TT
>および<TT
CLASS="LITERAL"
>NULLS FIRST</TT
><TT
CLASS="LITERAL"
>/LAST</TT
>が含まれます。
       </P
></LI
><LI
><P
><A
HREF="sql-vacuum.html"
><TT
CLASS="COMMAND"
>VACUUM</TT
></A
>がピンのために読み飛ばしたページ数をログ出力するようにしました。
(Jim Nasby)
       </P
></LI
><LI
><P
><A
HREF="sql-truncate.html"
><TT
CLASS="COMMAND"
>TRUNCATE</TT
></A
>が<TT
CLASS="LITERAL"
>pg_stat</TT
>*タプルカウンタを適切に更新するようにしました。
(Alexander Shulgin)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN134969"
>E.16.3.4.1. <A
HREF="sql-reindex.html"
>REINDEX</A
></A
></H4
><P
></P
><UL
><LI
><P
><TT
CLASS="COMMAND"
>REINDEX</TT
>が<TT
CLASS="LITERAL"
>SCHEMA</TT
>オプションでスキーマ全体についてインデックス再作成できるようにしました。
(Sawada Masahiko)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>REINDEX</TT
>に<TT
CLASS="LITERAL"
>VERBOSE</TT
>オプションを追加しました。
(Sawada Masahiko)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>REINDEX DATABASE</TT
>/<TT
CLASS="COMMAND"
>SCHEMA</TT
>で、<TT
CLASS="LITERAL"
>VERBOSE</TT
>が使われない限り、オブジェクト名を出力しないようにしました。
(Simon Riggs)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>REINDEX</TT
>から現在用いられない<TT
CLASS="LITERAL"
>FORCE</TT
>オプションを除きました。
(Fujii Masao)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN134990"
>E.16.3.5. オブジェクト操作</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="ddl-rowsecurity.html"
>行単位セキュリティ制御</A
>を追加しました。
(Craig Ringer, KaiGai Kohei, Adam Brightwell, Dean Rasheed, Stephen Frost)
       </P
><P
>本機能は、あるテーブルに対しどのユーザが追加、変更、参照できるかの行ごとの制御を可能にします。新しいコマンド<A
HREF="sql-createpolicy.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-alterpolicy.html"
><TT
CLASS="COMMAND"
>ALTER</TT
></A
>/<A
HREF="sql-droppolicy.html"
><TT
CLASS="COMMAND"
>DROP POLICY</TT
></A
>、および、<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... ENABLE/DISABLE ROW SECURITY</TT
></A
>によって制御されます。
       </P
></LI
><LI
><P
>テーブルを作った後に<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... SET LOGGED / UNLOGGED</TT
></A
>で<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ログ書き出し状態を変更できるようにしました。
(Fabr&iacute;zio de Royes Mello)
       </P
></LI
><LI
><P
><A
HREF="sql-createtableas.html"
><TT
CLASS="COMMAND"
>CREATE TABLE AS</TT
></A
>、<A
HREF="sql-createindex.html"
><TT
CLASS="COMMAND"
>CREATE INDEX</TT
></A
>、<A
HREF="sql-createsequence.html"
><TT
CLASS="COMMAND"
>CREATE SEQUENCE</TT
></A
>、および、<A
HREF="sql-creatematerializedview.html"
><TT
CLASS="COMMAND"
>CREATE MATERIALIZED VIEW</TT
></A
>に<TT
CLASS="LITERAL"
>IF NOT EXISTS</TT
>句を追加しました。
(Fabr&iacute;zio de Royes Mello)
       </P
></LI
><LI
><P
><A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE ... RENAME CONSTRAINT</TT
></A
>が<TT
CLASS="LITERAL"
>IF EXISTS</TT
>に対応しました。
(Bruce Momjian)
       </P
></LI
><LI
><P
>いくつかのDDLコマンドでユーザ名を指定する箇所にカレントユーザ、セッションユーザの意味で<TT
CLASS="LITERAL"
>CURRENT_USER</TT
>、<TT
CLASS="LITERAL"
>SESSION_USER</TT
>を使用できるようにしました。
(Kyotaro Horiguchi, &Aacute;lvaro Herrera)
       </P
><P
>現在、<A
HREF="sql-alteruser.html"
>ALTER USER</A
>、<A
HREF="sql-altergroup.html"
>ALTER GROUP</A
>、<A
HREF="sql-alterrole.html"
>ALTER ROLE</A
>、<A
HREF="sql-grant.html"
>GRANT</A
>、および、<TT
CLASS="COMMAND"
>ALTER <TT
CLASS="REPLACEABLE"
><I
>object</I
></TT
> OWNER TO</TT
>の各コマンドにて対応しています。
       </P
></LI
><LI
><P
><A
HREF="sql-createdomain.html"
>ドメインの制約</A
>へのコメントに対応しました。
(&Aacute;lvaro Herrera)
       </P
></LI
><LI
><P
>いくつかのトリガ、外部キーを作成、変更するコマンドでロックレベルを下げました。
(Simon Riggs, Andreas Karlsson)
       </P
></LI
><LI
><P
>対象テーブルに対する<TT
CLASS="COMMAND"
>INSERT</TT
>権限で<A
HREF="sql-lock.html"
><TT
CLASS="COMMAND"
>LOCK TABLE ... ROW EXCLUSIVE MODE</TT
></A
>を可能にしました。
(Stephen Frost)
       </P
><P
>これまではこのコマンドは<TT
CLASS="COMMAND"
>UPDATE</TT
>、<TT
CLASS="COMMAND"
>DELETE</TT
>、<TT
CLASS="COMMAND"
>TRUNCATE</TT
>のいずれか権限が必要でした。
       </P
></LI
><LI
><P
>テーブルとドメインで<TT
CLASS="LITERAL"
>CHECK</TT
>制約を名前順に適用します。
(Tom Lane)
       </P
><P
>これまでは順番は不確定でした。
       </P
></LI
><LI
><P
><A
HREF="sql-createdatabase.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-alterdatabase.html"
><TT
CLASS="COMMAND"
>ALTER DATABASE</TT
></A
>で<TT
CLASS="STRUCTNAME"
>datistemplate</TT
>と<TT
CLASS="STRUCTNAME"
>datallowconn</TT
>を操作可能にしました。
(Vik Fearing)
       </P
><P
>これによりシステムカタログ<A
HREF="catalog-pg-database.html"
><TT
CLASS="STRUCTNAME"
>pg_database</TT
></A
>の手動操作なしにこれらデータベースごとの設定を変更できます。
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135066"
>E.16.3.5.1. <A
HREF="ddl-foreign-data.html"
>外部テーブル</A
></A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="sql-importforeignschema.html"
>IMPORT FOREIGN SCHEMA</A
>コマンドを追加しました。
(Ronan Dunklau, Michael Paquier, Tom Lane)
       </P
><P
>このコマンドはリモートサーバに在るテーブル群の構造に対応したローカルの外部テーブルを自動で作成します。
       </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>CHECK</TT
>制約を外部テーブルに置けるようにしました。
(Shigeru Hanada, Etsuro Fujita)
       </P
><P
>このような制約は、リモートサーバ上で強制されるものと仮定され、ローカル側では強制されません。しかしながら、<A
HREF="ddl-partitioning.html#DDL-PARTITIONING-CONSTRAINT-EXCLUSION"
>制約による排除</A
>など、問い合わせの最適化では制約が成立しているものと仮定されます。
       </P
></LI
><LI
><P
>外部テーブルが継承に参加できるようにしました。
(Shigeru Hanada, Etsuro Fujita)
       </P
><P
>これを自然に働かせるため、外部テーブルが無効とマークされたチェック制約を持てるように、また、ストレージと<TT
CLASS="TYPE"
>OID</TT
>属性の設定を可能としました。
ただし、これらの操作は外部テーブルに対して何の効果もありません。
       </P
></LI
><LI
><P
>外部データラッパとカスタムスキャンで結合プッシュダウンの実装を可能にしました。
(KaiGai Kohei)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135085"
>E.16.3.5.2. <A
HREF="event-triggers.html"
>イベントトリガ</A
></A
></H4
><P
></P
><UL
><LI
><P
><TT
CLASS="LITERAL"
>ddl_command_end</TT
>イベントトリガが導入されたときはいつでも、<ACRONYM
CLASS="ACRONYM"
>DDL</ACRONYM
>動作の調査するための詳細を取得します。
(&Aacute;lvaro Herrera)
        </P
><P
>この情報は集合を返す関数<A
HREF="functions-event-triggers.html#PG-EVENT-TRIGGER-DDL-COMMAND-END-FUNCTIONS"
><CODE
CLASS="FUNCTION"
>pg_event_trigger_ddl_commands()</CODE
></A
>、あるいは、それでは不十分であるならC言語データ構造の解析を通して、利用できます。
        </P
></LI
><LI
><P
>テーブルのイベントトリガを<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE</TT
></A
>により書換え可能にしました。
(Dimitri Fontaine)
        </P
></LI
><LI
><P
>データベースレベルの<A
HREF="sql-comment.html"
><TT
CLASS="COMMAND"
>COMMENT</TT
></A
>、<A
HREF="sql-security-label.html"
><TT
CLASS="COMMAND"
>SECURITY LABEL</TT
></A
>、および、<A
HREF="sql-grant.html"
><TT
CLASS="COMMAND"
>GRANT</TT
></A
>/<A
HREF="sql-revoke.html"
><TT
CLASS="COMMAND"
>REVOKE</TT
></A
>のイベントトリガに対応しました。
(&Aacute;lvaro Herrera)
        </P
></LI
><LI
><P
>&#13;<A
HREF="functions-event-triggers.html#PG-EVENT-TRIGGER-SQL-DROP-FUNCTIONS"
><CODE
CLASS="FUNCTION"
>pg_event_trigger_dropped_objects</CODE
></A
>の出力列をいくつか追加しました。
(&Aacute;lvaro Herrera)
        </P
><P
>これにより削除操作の処理を容易にします。
        </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135115"
>E.16.3.6. データ型</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="datatype-xml.html"
><TT
CLASS="TYPE"
>xml</TT
></A
>データ型が空もしくは全て空白文字の内容を受け入れできるようにしました。
(Peter Eisentraut)
      </P
><P
>これは<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>/<ACRONYM
CLASS="ACRONYM"
>XML</ACRONYM
>仕様で必要とされています。
      </P
></LI
><LI
><P
><A
HREF="datatype-net-types.html#DATATYPE-MACADDR"
><TT
CLASS="TYPE"
>macaddr</TT
></A
>型の入力に<TT
CLASS="LITERAL"
>xxxx-xxxx-xxxx</TT
>形式が使えるようにしました。
(Herwin Weststrate)
      </P
></LI
><LI
><P
><A
HREF="datatype-datetime.html#DATATYPE-INTERVAL-INPUT"
><TT
CLASS="TYPE"
>interval</TT
></A
>型で精度とフィールド定義について非SQL標準の構文を禁止しました。
(Bruce Momjian)
      </P
><P
>標準では、このような型定義は、例えば <TT
CLASS="LITERAL"
>INTERVAL MINUTE TO SECOND(2)</TT
> というように書かなければいけません。<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>はこれまで <TT
CLASS="LITERAL"
>INTERVAL(2) MINUTE TO SECOND</TT
> と書くことを許していましたが、これからは標準の方法で書かなければいけません。
      </P
></LI
><LI
><P
><A
HREF="datatype-net-types.html#DATATYPE-INET"
><TT
CLASS="TYPE"
>inet</TT
></A
>/<A
HREF="datatype-net-types.html#DATATYPE-CIDR"
><TT
CLASS="TYPE"
>cidr</TT
></A
>型演算子の選択率見積もり関数を追加しました。また、テキスト検索関数の見積関数を改善しました。
(Emre Hasegeli, Tom Lane)
      </P
></LI
><LI
><P
>ロールや名前空間の<TT
CLASS="TYPE"
>OID</TT
>の入力や見栄えよい表示を簡単にするためのデータ型<A
HREF="datatype-oid.html#DATATYPE-OID-TABLE"
><TT
CLASS="TYPE"
>regrole</TT
></A
>、<A
HREF="datatype-oid.html#DATATYPE-OID-TABLE"
><TT
CLASS="TYPE"
>regnamespace</TT
></A
>を追加しました。
(Kyotaro Horiguchi)
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135151"
>E.16.3.6.1. <A
HREF="datatype-json.html"
><ACRONYM
CLASS="ACRONYM"
>JSON</ACRONYM
></A
></A
></H4
><P
></P
><UL
><LI
><P
><TT
CLASS="TYPE"
>jsonb</TT
>関数<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_set()</CODE
></A
>、<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_pretty()</CODE
></A
>を追加しました。
(Dmitry Dolgov, Andrew Dunstan, Petr Jel&iacute;nek)
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>jsonb</TT
>生成関数<A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>to_jsonb()</CODE
></A
>、<A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_object()</CODE
></A
>、<A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_build_object()</CODE
></A
>、<A
HREF="functions-json.html#FUNCTIONS-JSON-CREATION-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_build_array()</CODE
></A
>、<A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_agg()</CODE
></A
>、<A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_object_agg()</CODE
></A
>を追加しました。
(Andrew Dunstan)
       </P
><P
><TT
CLASS="TYPE"
>json</TT
>型むけには同等の関数が既にありました。
       </P
></LI
><LI
><P
><A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>json</TT
></A
>型から<A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>jsonb</TT
></A
>型、あるいその逆の、キャストの必要性を減らしました。
(Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>jsonb</TT
>ドキュメントから、<TT
CLASS="TYPE"
>text</TT
>、<TT
CLASS="TYPE"
>text</TT
>配列、<TT
CLASS="TYPE"
>integer</TT
>の値を<A
HREF="functions-json.html#FUNCTIONS-JSONB-OP-TABLE"
>引き算</A
>できるようにしました。
(Dmitry Dolgov, Andrew Dunstan)
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>jsonb</TT
>むけの<A
HREF="functions-json.html#FUNCTIONS-JSONB-OP-TABLE"
><TT
CLASS="LITERAL"
>||</TT
></A
> 演算子を追加しました。
(Dmitry Dolgov, Andrew Dunstan)
       </P
></LI
><LI
><P
>JSONのヌル値をJSONドキュメントから取り除く関数<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>json_strip_nulls()</CODE
></A
>、<A
HREF="functions-json.html#FUNCTIONS-JSON-PROCESSING-TABLE"
><CODE
CLASS="FUNCTION"
>jsonb_strip_nulls()</CODE
></A
>を追加しました。
(Andrew Dunstan)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135204"
>E.16.3.7. 関数</A
></H3
><P
></P
><UL
><LI
><P
><TT
CLASS="TYPE"
>numeric</TT
>値の<A
HREF="functions-srf.html"
><CODE
CLASS="FUNCTION"
>generate_series()</CODE
></A
>を追加しました。
(Plato Malugin)
       </P
></LI
><LI
><P
><A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>array_agg()</CODE
></A
>と<CODE
CLASS="FUNCTION"
>ARRAY()</CODE
>が入力に配列を取れるようにしました。
(Ali Akbar, Tom Lane)
       </P
></LI
><LI
><P
>配列の添え字を返す関数<A
HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"
><CODE
CLASS="FUNCTION"
>array_position()</CODE
></A
>、<A
HREF="functions-array.html#ARRAY-FUNCTIONS-TABLE"
><CODE
CLASS="FUNCTION"
>array_positions()</CODE
></A
>を追加しました。
(Pavel Stehule)
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>point</TT
>と<TT
CLASS="TYPE"
>polygon</TT
>の距離演算子<A
HREF="functions-geometry.html#FUNCTIONS-GEOMETRY-OP-TABLE"
>&lt;-&gt;</A
>を追加しました。
(Alexander Korotkov)
       </P
></LI
><LI
><P
><A
HREF="functions-matching.html#FUNCTIONS-SIMILARTO-REGEXP"
><TT
CLASS="LITERAL"
>SIMILAR TO</TT
></A
>と<A
HREF="functions-string.html#FUNCTIONS-STRING-SQL"
><TT
CLASS="LITERAL"
>SUBSTRING</TT
></A
>でマルチバイト文字によるエスケープを可能にしました。
(Jeff Davis)
       </P
><P
>これまではシングルバイト文字のみエスケープとして使用可能でした。
       </P
></LI
><LI
><P
>任意のソート可能なデータ型と一様でないバケット幅に対応した、<A
HREF="functions-math.html#FUNCTIONS-MATH-FUNC-TABLE"
><CODE
CLASS="FUNCTION"
>width_bucket()</CODE
></A
>の別形を追加しました。
(Petr Jel&iacute;nek)
       </P
></LI
><LI
><P
><A
HREF="functions-admin.html#FUNCTIONS-ADMIN-GENFILE-TABLE"
><CODE
CLASS="FUNCTION"
>pg_read_file()</CODE
></A
>や関連の関数にオプション引数<TT
CLASS="REPLACEABLE"
><I
>missing_ok</I
></TT
>を追加しました。
(Michael Paquier, Heikki Linnakangas)
       </P
></LI
><LI
><P
>関数呼び出しで<A
HREF="sql-syntax-calling-funcs.html"
><TT
CLASS="LITERAL"
>=&gt;</TT
></A
>で名前のついたパラメータを指定できるようにしました。
(Pavel Stehule)
       </P
><P
>これまでは <TT
CLASS="LITERAL"
>:=</TT
> だけが利用できました。これにより、<TT
CLASS="LITERAL"
>=&gt;</TT
>がユーザ定義演算子である可能性を排除することが必要となります。ユーザ定義演算子<TT
CLASS="LITERAL"
>=&gt;</TT
>の作成では PostgreSQL 9.0 から警告が出ていました。
       </P
></LI
><LI
><P
>PostgreSQLによる丸め関数を使うプラットフォームに<ACRONYM
CLASS="ACRONYM"
>POSIX</ACRONYM
>準拠の丸め処理を追加しました。
(Pedro Gimeno Fortea)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135255"
>E.16.3.7.1. システム情報関数</A
></H4
><P
></P
><UL
><LI
><P
>オブジェクトを一意に識別する<TT
CLASS="TYPE"
>OID</TT
>を返す関数<A
HREF="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE"
><CODE
CLASS="FUNCTION"
>pg_get_object_address()</CODE
></A
>、<TT
CLASS="TYPE"
>OID</TT
>に基づきオブジェクト情報を返す関数<A
HREF="functions-info.html#FUNCTIONS-INFO-OBJECT-TABLE"
><CODE
CLASS="FUNCTION"
>pg_identify_object_as_address()</CODE
></A
>を追加しました。
(&Aacute;lvaro Herrera)
       </P
></LI
><LI
><P
><A
HREF="monitoring-stats.html#PG-STAT-ACTIVITY-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_activity</TT
></A
>のビュー問い合わせ、<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE"
><CODE
CLASS="FUNCTION"
>pg_cancel_backend()</CODE
></A
>の実行、<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL-TABLE"
><CODE
CLASS="FUNCTION"
>pg_terminate_backend()</CODE
></A
>の実行において、セキュリティチェックを緩めました。
(Stephen Frost)
       </P
><P
>これまでは対象のセッションを所有している特定のロールだけがこれら操作を実行できました。これからはこれらロールのメンバーであれば十分とします。
       </P
></LI
><LI
><P
>統計スナップショットのタイムスタンプを出力する関数<A
HREF="monitoring-stats.html#MONITORING-STATS-FUNCS-TABLE"
><CODE
CLASS="FUNCTION"
>pg_stat_get_snapshot_timestamp()</CODE
></A
>を追加しました。
(Matt Kelly)
       </P
><P
>これは最後のスナップショットファイルがファイルシステムに書かれた時点をあらわします。
       </P
></LI
><LI
><P
>マルチトランザクションIDの年代を計算する関数<A
HREF="routine-vacuuming.html#VACUUM-FOR-MULTIXACT-WRAPAROUND"
><CODE
CLASS="FUNCTION"
>mxid_age()</CODE
></A
>を追加しました。
(Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135284"
>E.16.3.7.2. 集約</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="datatype-net-types.html#DATATYPE-INET"
><TT
CLASS="TYPE"
>inet</TT
></A
>/<A
HREF="datatype-net-types.html#DATATYPE-CIDR"
><TT
CLASS="TYPE"
>cidr</TT
></A
>データ型に対する<CODE
CLASS="FUNCTION"
>min()</CODE
>/<CODE
CLASS="FUNCTION"
>max()</CODE
>集約を追加しました。
(Haribabu Kommi)
       </P
></LI
><LI
><P
>128ビットの整数がサポートされているなら、一部の集約関数で累算器に128ビット整数を使います。
(Andreas Karlsson)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135297"
>E.16.3.8. サーバサイド言語</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>で複合型への対応を改善しました。
(Ed Behn, Ronan Dunklau)
      </P
><P
>これにより<SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
>関数が複合型の配列を返せるようになります。
      </P
></LI
><LI
><P
><A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>の浮動小数点値の変換でデータ損失を減らしました。
(Marko Kreen)
      </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>データ型と手続き言語のデータ型との変換処理を定義可能にしました。
(Peter Eisentraut)
      </P
><P
>この変更で新たなコマンド<A
HREF="sql-createtransform.html"
><TT
CLASS="COMMAND"
>CREATE</TT
></A
>/<A
HREF="sql-droptransform.html"
><TT
CLASS="COMMAND"
>DROP TRANSFORM</TT
></A
>が加わります。
また、<A
HREF="hstore.html"
><SPAN
CLASS="APPLICATION"
>hstore</SPAN
></A
>型、<A
HREF="ltree.html"
><SPAN
CLASS="APPLICATION"
>ltree</SPAN
></A
>型への、あるいはこれら型からの、<A
HREF="plperl.html"
><SPAN
CLASS="APPLICATION"
>PL/Perl</SPAN
></A
>および<A
HREF="plpython.html"
><SPAN
CLASS="APPLICATION"
>PL/Python</SPAN
></A
>との任意選択の変換も追加されます。
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135326"
>E.16.3.8.1. <A
HREF="plpgsql.html"
>PL/pgSQL</A
> サーバサイド言語</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="plpgsql.html"
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
></A
>配列の性能を改善しました。
(Tom Lane)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
>に<A
HREF="plpgsql-errors-and-messages.html#PLPGSQL-STATEMENTS-ASSERT"
><TT
CLASS="COMMAND"
>ASSERT</TT
></A
>文を追加しました。
(Pavel Stehule)
      </P
></LI
><LI
><P
>より多くの<A
HREF="plpgsql.html"
><SPAN
CLASS="APPLICATION"
>PL/pgSQL</SPAN
></A
>キーワードを識別子として使用可能にしました。
(Tom Lane)
      </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135343"
>E.16.3.9. クライアントアプリケーション</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="pgarchivecleanup.html"
><SPAN
CLASS="APPLICATION"
>pg_archivecleanup</SPAN
></A
>、<A
HREF="pgtestfsync.html"
><SPAN
CLASS="APPLICATION"
>pg_test_fsync</SPAN
></A
>、<A
HREF="pgtesttiming.html"
><SPAN
CLASS="APPLICATION"
>pg_test_timing</SPAN
></A
>、<A
HREF="pgxlogdump.html"
><SPAN
CLASS="APPLICATION"
>pg_xlogdump</SPAN
></A
>を<TT
CLASS="FILENAME"
>contrib</TT
>から<TT
CLASS="FILENAME"
>src/bin</TT
>に移しました。
(Peter Eisentraut)
      </P
><P
>この変更により、ほとんどのインストールでこれらのプログラムがデフォルトでインストールされるようになります。
      </P
></LI
><LI
><P
>フェイルバック後にマスタサーバを再同期させることができる、<A
HREF="app-pgrewind.html"
><SPAN
CLASS="APPLICATION"
>pg_rewind</SPAN
></A
>を追加しました。
(Heikki Linnakangas)
      </P
></LI
><LI
><P
><A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>で物理レプリケーションスロットを管理できるようにしました。
(Michael Paquier)
      </P
><P
>新たなオプション<TT
CLASS="OPTION"
>--create-slot</TT
>、<TT
CLASS="OPTION"
>--drop-slot</TT
>により制御します。
      </P
></LI
><LI
><P
>新たな<TT
CLASS="OPTION"
>--synchronous</TT
>オプションで<A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>が<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>を記憶装置に同期フラッシュするようにしました。
(Furuya Osamu, Fujii Masao)
      </P
><P
>このオプションが無いと、<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ファイルはクローズ時しかfsyncされません。
      </P
></LI
><LI
><P
>新たなオプション<TT
CLASS="OPTION"
>--jobs</TT
> により<A
HREF="app-vacuumdb.html"
><SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
></A
>が並列にバキュームできるようにしました。
(Dilip Kumar)
      </P
></LI
><LI
><P
><A
HREF="app-vacuumdb.html"
><SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
></A
>で複数の接続が必要であるとき、同じパスワードの入力を繰り返しプロンプトで要求しないようにしました。
(Haribabu Kommi, Michael Paquier)
      </P
></LI
><LI
><P
><A
HREF="app-reindexdb.html"
><SPAN
CLASS="APPLICATION"
>reindexdb</SPAN
></A
>に<TT
CLASS="OPTION"
>--verbose</TT
>オプションを追加しました。
(Sawada Masahiko)
      </P
></LI
><LI
><P
><SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>上で、<A
HREF="app-pgbasebackup.html"
><SPAN
CLASS="APPLICATION"
>pg_basebackup</SPAN
></A
>が<SPAN
CLASS="APPLICATION"
>tar</SPAN
>フォーマットのときテーブル空間マッピングファイルを使い、シンボリックリンクと100文字以上の長さのファイルパスに対応しました。
(Amit Kapila)
      </P
></LI
><LI
><P
><A
HREF="pgxlogdump.html"
><SPAN
CLASS="APPLICATION"
>pg_xlogdump</SPAN
></A
>に要約統計を表示するオプション<TT
CLASS="OPTION"
>--stats</TT
>を追加しました。
(Abhijit Menon-Sen)
      </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135403"
>E.16.3.9.1. <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>でAsciiDocを出力できるようにしました。
(Szymon Guz)
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="VARNAME"
>ECHO</TT
>変数に失敗したコマンドだけ表示する<TT
CLASS="LITERAL"
>errors</TT
>モードを追加しました。
(Pavel Stehule)
        </P
><P
>この振る舞いは<SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="OPTION"
>-b</TT
>オプションでも指定できます。
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の unicode linestyle で、カラム区切り、ヘッダ、境界線の制御ができます。
(Pavel Stehule)
        </P
><P
>一重線または二重線に対応しています。デフォルトは一重線（<TT
CLASS="LITERAL"
>single</TT
>）です。
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><TT
CLASS="ENVAR"
>PROMPT</TT
></A
>変数に複数行にわたる文の現在の行番号を表示する新オプション<TT
CLASS="LITERAL"
>%l</TT
>を追加しました。
(Sawada Masahiko)
        </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\pset</TT
>オプションにページャ起動を制御する<A
HREF="app-psql.html#APP-PSQL-META-COMMANDS"
><TT
CLASS="VARNAME"
>pager_min_lines</TT
></A
>を追加しました。
(Andrew Dunstan)
        </P
></LI
><LI
><P
>ページャ起動を判断するときに使われる<SPAN
CLASS="APPLICATION"
>psql</SPAN
>の行数カウントを改善しました。
(Andrew Dunstan)
        </P
></LI
><LI
><P
><TT
CLASS="OPTION"
>--output</TT
>または<TT
CLASS="OPTION"
>--log-file</TT
>で指定されたファイルに書き込みできない場合、<SPAN
CLASS="APPLICATION"
>psql</SPAN
>は失敗するようになります。
(Tom Lane, Daniel V&eacute;rit&eacute;)
        </P
><P
>これまで、このようなケースでは事実上指定が無視されていました。
        </P
></LI
><LI
><P
><A
HREF="runtime-config-client.html#GUC-SEARCH-PATH"
>search_path</A
>変数を設定するときの<SPAN
CLASS="APPLICATION"
>psql</SPAN
>タブ補完を追加しました。
(Jeff Janes)
        </P
><P
>今のところ最初のスキーマのみタブ補完できます。
        </P
></LI
><LI
><P
>トリガとルールについて<SPAN
CLASS="APPLICATION"
>psql</SPAN
>のタブ補完を改善しました。
(Andreas Karlsson)
        </P
></LI
></UL
><DIV
CLASS="SECT5"
><H5
CLASS="SECT5"
><A
NAME="AEN135451"
>E.16.3.9.1.1. <A
HREF="app-psql.html#APP-PSQL-META-COMMANDS"
>バックスラッシュコマンド</A
></A
></H5
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="COMMAND"
>\?</TT
>ヘルプに<TT
CLASS="LITERAL"
>variables</TT
>と<TT
CLASS="LITERAL"
>options</TT
>の項目を追加しました。
(Pavel Stehule)
        </P
><P
><TT
CLASS="LITERAL"
>\? variables</TT
>は、<SPAN
CLASS="APPLICATION"
>psql</SPAN
>の特別変数一覧を、<TT
CLASS="LITERAL"
>\? options</TT
>は、コマンドラインオプション一覧を表示します。
<TT
CLASS="COMMAND"
>\? commands</TT
>は、従来の出力（単に <TT
CLASS="COMMAND"
>\?</TT
> と指定した場合）で現在もデフォルトとなっているメタコマンド一覧を表示します。これらのヘルプはコマンドラインオプション<TT
CLASS="LITERAL"
>--help=<TT
CLASS="REPLACEABLE"
><I
>項目</I
></TT
></TT
>でも得られます。
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="LITERAL"
>\db+</TT
>でテーブル空間の大きさを表示します。
(Fabr&iacute;zio de Royes Mello)
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="LITERAL"
>\dT+</TT
>でデータ型の所有者を表示します。
(Magnus Hagander)
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="COMMAND"
>\watch</TT
>で<TT
CLASS="COMMAND"
>\timing</TT
>の情報を出力できるようにしました。
        </P
><P
>また、通常は不必要なので、<TT
CLASS="OPTION"
>--echo-hidden</TT
>に対して<TT
CLASS="COMMAND"
>\watch</TT
>問い合わせのエコー出力を止めました。
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="LITERAL"
>\sf</TT
>と<TT
CLASS="LITERAL"
>\ef</TT
>コマンドが<TT
CLASS="ENVAR"
>ECHO_HIDDEN</TT
>を尊重するようにしました。
(Andrew Dunstan)
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="COMMAND"
>\set</TT
>、<TT
CLASS="COMMAND"
>\unset</TT
>、および、<TT
CLASS="LITERAL"
>:variable</TT
>（変数参照）に対するタブ補完を改善しました。
(Pavel Stehule)
        </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="LITERAL"
>\c</TT
>コマンドでロール名のタブ補完を可能にしました。
        </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135501"
>E.16.3.9.2. <A
HREF="app-pgdump.html"
>pg_dump</A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>が<TT
CLASS="OPTION"
>--snapshot</TT
>オプションで他セッションとスナップショットを共有できるようにしました。
(Simon Riggs, Michael Paquier)
       </P
><P
>指定するリモートスナップショットは<CODE
CLASS="FUNCTION"
>pg_export_snapshot()</CODE
>またはロジカルレプリケーションスロットの作成によりエクスポートされたものでなければいけません。これは複数の<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>プロセス間で一貫したスナップショットを共有するのに使えます。
       </P
></LI
><LI
><P
>tarアーカイブフォーマットにおいて8GBを超えるサイズのテーブルに対応しました。
(Tom Lane)
       </P
><P
>tarフォーマットのPOSIX標準では8GBを超えるtarアーカイブの要素を許可していませんが、ほとんどの近代的なtarの実装ではこれを可能とする拡張をサポートしています。
失敗させるのでなく、必要なら拡張フォーマットを使用するようにします。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>が常にサーバと<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>のバージョンを表示するようにしました。
(Jing Wang)
       </P
><P
>これまでは<TT
CLASS="OPTION"
>--verbose</TT
>モードのときだけバージョン情報が表示されていました。
       </P
></LI
><LI
><P
>永らく無視されてきた<TT
CLASS="OPTION"
>-i</TT
>/<TT
CLASS="OPTION"
>--ignore-version</TT
>オプションを<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>、<SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>、<SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
>から取り除きました。
(Fujii Masao)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135528"
>E.16.3.9.3. <A
HREF="app-pg-ctl.html"
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>で複数の<TT
CLASS="OPTION"
>-o</TT
>オプションに対応しました。これらの値は連結されます。
(Bruce Momjian)
       </P
></LI
><LI
><P
><SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>でのログ出力において、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>のイベントソースを制御できるようになりました。
(MauMau)
       </P
><P
>これは別に<TT
CLASS="FILENAME"
>postgresql.conf</TT
>に設定を持つサーバではなく、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>のみ制御します。
       </P
></LI
><LI
><P
>サーバの監視するアドレスにワイルドカード値（IPv4では<TT
CLASS="LITERAL"
>0.0.0.0</TT
>、IPv6では<TT
CLASS="LITERAL"
>::</TT
>）が設定された場合、文字通りにワイルドカードアドレスを試みるのではなくループバックアドレスから接続します。
(Kondo Yuta)
       </P
><P
>この修正は主にWindowsに影響を及ぼします。
他のプラットフォームでは<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>はUnixドメインソケットを使うことを優先します。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135549"
>E.16.3.9.4. <A
HREF="pgupgrade.html"
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>を<TT
CLASS="FILENAME"
>contrib</TT
>から<TT
CLASS="FILENAME"
>src/bin</TT
>に移動しました。
(Peter Eisentraut)
       </P
><P
>この変更に関連して、<SPAN
CLASS="APPLICATION"
>pg_upgrade_support</SPAN
>モジュールで提供されていた機能をサーバコアに移動しました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>で複数の<TT
CLASS="OPTION"
>-o</TT
>/<TT
CLASS="OPTION"
>-O</TT
>オプションに対応しました。これらの値は連結されます。
(Bruce Momjian)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>におけるデータベースの照合順序の比較を改善しました。
(Heikki Linnakangas)
       </P
></LI
><LI
><P
>8.3クラスタからのアップグレードのサポートを外しました。
(Bruce Momjian)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135570"
>E.16.3.9.5. <A
HREF="pgbench.html"
><SPAN
CLASS="APPLICATION"
>pgbench</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>pgbenchを<TT
CLASS="FILENAME"
>contrib</TT
>から<TT
CLASS="FILENAME"
>src/bin</TT
>に移動しました。
(Peter Eisentraut)
       </P
></LI
><LI
><P
><SPAN
CLASS="QUOTE"
>"excluding connections establishing"</SPAN
>のTPS値の計算を修正しました。
(Tatsuo Ishii, Fabien Coelho)
       </P
><P
>pgbenchのスレッド数がクライアント接続数よりも少ないときには常に接続確立のオーバーヘッドが誤計算されていました。これは明らかにバグですが、TPS値がこれまでの結果と比較できなくなるため、9.5より前のバージョンへの修正は行いません。
       </P
></LI
><LI
><P
>指定時間以上要したpgbenchトランザクションをカウントできるようにしました。
(Fabien Coelho)
       </P
><P
>これは新たなオプション<TT
CLASS="OPTION"
>--latency-limit</TT
>で制御されます。
       </P
></LI
><LI
><P
>pgbenchの<TT
CLASS="COMMAND"
>\setrandom</TT
>で正規分布/指数分布による生成を可能にしました。
(Kondo Mitsumasa, Fabien Coelho)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pgbench</SPAN
>の<TT
CLASS="COMMAND"
>\set</TT
>コマンドで複数の演算子を含む算術演算を扱えるようにし、また、サポートされる演算子に<TT
CLASS="LITERAL"
>%</TT
>(剰余)を加えました。

(Robert Haas, Fabien Coelho)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135594"
>E.16.3.10. ソースコード</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="wal.html"
><ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
></A
>レコードフォーマットを単純にしました。
(Heikki Linnakangas)
       </P
><P
>これにより外部ツールがより容易にどのブロックが変更されたかを追跡できます。
       </P
></LI
><LI
><P
>トランザクションコミットとアボートのWAL記録の表現を改善しました。
(Andres Freund)
       </P
></LI
><LI
><P
>原子的メモリ操作の<ACRONYM
CLASS="ACRONYM"
>API</ACRONYM
>を追加しました。
(Andres Freund)
       </P
></LI
><LI
><P
>カスタムパス、カスタムスキャン方式が可能になりました。
(KaiGai Kohei, Tom Lane)
       </P
><P
>これにより拡張でオプティマイザとエグゼキュータをより大幅に制御できます。
       </P
></LI
><LI
><P
>外部データラッパでフィルタ後のロックを可能にしました。
(Etsuro Fujita)
       </P
></LI
><LI
><P
>外部テーブルを<TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT DO NOTHING</TT
>問い合わせに含めることができます。
(Peter Geoghegan, Heikki Linnakangas, Andres Freund)
       </P
><P
>これを扱えるようにするため外部テーブルラッパの修正が必要です。
外部テーブルに対する<TT
CLASS="COMMAND"
>INSERT ... ON CONFLICT DO UPDATE</TT
>はサポートされません。
       </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>hash_create()</CODE
>のシンプルバイナリキーハッシュ関数を選ぶAPIを改善しました。
(Teodor Sigaev, Tom Lane)
       </P
></LI
><LI
><P
>並列実行基盤を改善しました。
(Robert Haas, Amit Kapila, Noah Misch, Rushabh Lathia, Jeevan Chalke)
       </P
></LI
><LI
><P
><SPAN
CLASS="PRODUCTNAME"
>Alpha</SPAN
> (<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>)、<SPAN
CLASS="SYSTEMITEM"
>Tru64</SPAN
> (OS)への移植を削除しました。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>ARM</ACRONYM
>v5とより古い<ACRONYM
CLASS="ACRONYM"
>CPU</ACRONYM
>むけのスワップバイト命令によるスピンロック実装を削除しました。
(Robert Haas)
       </P
><P
><ACRONYM
CLASS="ACRONYM"
>ARM</ACRONYM
>v5の弱いメモリ順序付けではこのロック実装は安全ではありません。
アトミックに対応した新しいgcc実装にてスピンロック対応は依然として可能です。
       </P
></LI
><LI
><P
>極端に長い（100文字超）ファイルパスがtarファイルに書かれたときエラーを出します。
(Peter Eisentraut)
       </P
><P
>tarはこのような長すぎるパスに対応しません。
       </P
></LI
><LI
><P
>カラム<A
HREF="catalog-pg-seclabel.html"
><TT
CLASS="STRUCTNAME"
>pg_seclabel</TT
></A
>.<TT
CLASS="STRUCTNAME"
>provider</TT
>、<A
HREF="catalog-pg-shseclabel.html"
><TT
CLASS="STRUCTNAME"
>pg_shseclabel</TT
></A
>.<TT
CLASS="STRUCTNAME"
>provider</TT
>のインデックス演算子クラスを<TT
CLASS="LITERAL"
>text_pattern_ops</TT
>に変更しました。
       </P
><P
>これは、クラスタ内の異なるデータベースが異なるデフォルト照合順序をもつとき、これらインデックスが問題を惹き起こすことを防ぎます。
       </P
></LI
><LI
><P
>スピンロックの基本命令をコンパイラバリアの機能に変更しました。
(Robert Haas)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN135648"
>E.16.3.10.1. MS Windows</A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="SYSTEMITEM"
>Windows 8</SPAN
>、<SPAN
CLASS="SYSTEMITEM"
>Windows Server 2012</SPAN
>、および以降の Windows systems で高精度タイムスタンプを可能としました。
(Craig Ringer)
       </P
></LI
><LI
><P
><SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
> では共有ライブラリを<TT
CLASS="FILENAME"
>bin</TT
>にインストールします。
(Peter Eisentraut, Michael Paquier)
       </P
></LI
><LI
><P
><SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>ビルドでは<TT
CLASS="FILENAME"
>src/test/modules</TT
>を<TT
CLASS="FILENAME"
>contrib</TT
>と一緒にインストールします。
(Michael Paquier)
       </P
></LI
><LI
><P
><A
HREF="install-procedure.html"
>configure</A
>の<TT
CLASS="OPTION"
>--with-extra-version</TT
>オプションを<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>ビルドでも受け付けるようにしました。
(Michael Paquier)
       </P
></LI
><LI
><P
><TT
CLASS="ENVAR"
>PGFILEDESC</TT
>を<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
> contribビルドに渡します。
        (Michael Paquier)
       </P
></LI
><LI
><P
>全ての<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>ビルドされたバイナリにアイコンを、また、全ての<SPAN
CLASS="SYSTEMITEM"
>MS Windows</SPAN
>バイナリにバージョン情報を添加しました。
(Noah Misch)
       </P
><P
>MinGWでは既にそのようにアイコンが与えられていました。
       </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>getopt_long()</CODE
>内部実装にオプション引数対応を加えました。
(Michael Paquier, Andres Freund)
       </P
><P
>これは<SPAN
CLASS="PRODUCTNAME"
>MSVC</SPAN
>で使われます。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN135683"
>E.16.3.11. 追加モジュール</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="pgstatstatements.html#PGSTATSTATEMENTS-COLUMNS"
><SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
></A
>に
時間の最小、最大、平均、標準偏差の統計を追加しました。
(Mitsumasa Kondo, Andrew Dunstan)
      </P
></LI
><LI
><P
><A
HREF="pgcrypto.html"
><SPAN
CLASS="APPLICATION"
>pgcrypto</SPAN
></A
>に<SPAN
CLASS="PRODUCTNAME"
>PGP</SPAN
> Armorヘッダから抽出をする<CODE
CLASS="FUNCTION"
>pgp_armor_headers()</CODE
>関数を追加しました。
(Marko Tiikkaja, Heikki Linnakangas)
      </P
></LI
><LI
><P
><A
HREF="unaccent.html"
><SPAN
CLASS="APPLICATION"
>unaccent</SPAN
></A
>で空の置き換え文字列を可能としました。
(Mohammad Alhashash)
      </P
><P
>これは発音区別記号が複数文字に分かれて表現される言語で有用です。
      </P
></LI
><LI
><P
><A
HREF="unaccent.html"
><SPAN
CLASS="APPLICATION"
>unaccent</SPAN
></A
>で複数文字からなる変換元文字を可能にしました。
(Tom Lane)
      </P
><P
>これは発音区別記号が複数文字に分かれて表現される言語で有用です。
また、より複雑なunaccent辞書も可能にします。
      </P
></LI
><LI
><P
>追加的なテーブルサンプリング方式をできるようにする<TT
CLASS="FILENAME"
>contrib</TT
>モジュール<A
HREF="tsm-system-rows.html"
><SPAN
CLASS="APPLICATION"
>tsm_system_rows</SPAN
></A
>、<A
HREF="tsm-system-time.html"
><SPAN
CLASS="APPLICATION"
>tsm_system_time</SPAN
></A
>を追加しました。
(Petr Jel&iacute;nek)
      </P
></LI
><LI
><P
><A
HREF="pageinspect.html"
><SPAN
CLASS="APPLICATION"
>pageinspect</SPAN
></A
>に<A
HREF="gin.html"
><ACRONYM
CLASS="ACRONYM"
>GIN</ACRONYM
></A
>インデックスを解析する関数を追加しました。
(Heikki Linnakangas, Peter Geoghegan, Michael Paquier)
      </P
></LI
><LI
><P
><A
HREF="pgbuffercache.html"
><SPAN
CLASS="APPLICATION"
>pg_buffercache</SPAN
></A
>の表示にバッファピンについての情報を追加しました。
(Andres Freund)
      </P
></LI
><LI
><P
><A
HREF="pgstattuple.html"
><SPAN
CLASS="APPLICATION"
>pgstattuple</SPAN
></A
>が<CODE
CLASS="FUNCTION"
>pgstattuple_approx()</CODE
>でより少ない負荷でおおよその答えを報告できるようにしました。
(Abhijit Menon-Sen)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>dummy_seclabel</SPAN
>、<SPAN
CLASS="APPLICATION"
>test_shm_mq</SPAN
>、<SPAN
CLASS="APPLICATION"
>test_parser</SPAN
>、および、<SPAN
CLASS="APPLICATION"
>worker_spi</SPAN
>を、<TT
CLASS="FILENAME"
>contrib</TT
>から<TT
CLASS="FILENAME"
>src/test/modules</TT
>に移動しました。
(&Aacute;lvaro Herrera)
      </P
><P
>これらモジュールはサーバテストだけのためのものであって、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>をパッケージングする際のビルドやインストールでは必要とされません。
      </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-9-5-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-9-4-14.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース9.5.1</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース9.4.14</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>