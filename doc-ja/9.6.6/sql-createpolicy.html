<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>CREATE POLICY</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="SQLコマンド"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="CREATE OPERATOR FAMILY"
HREF="sql-createopfamily.html"><LINK
REL="NEXT"
TITLE="CREATE ROLE"
HREF="sql-createrole.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2018-02-10T07:29:51"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="CREATE OPERATOR FAMILY"
HREF="sql-createopfamily.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="CREATE ROLE"
HREF="sql-createrole.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-CREATEPOLICY"
></A
>CREATE POLICY</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN80965"
></A
><H2
>名前</H2
>CREATE POLICY&nbsp;--&nbsp;テーブルに新しい行単位のセキュリティポリシーを定義する</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN80968"
></A
><H2
>概要</H2
><PRE
CLASS="SYNOPSIS"
>CREATE POLICY <TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
> ON <TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
>
    [ FOR { ALL | SELECT | INSERT | UPDATE | DELETE } ]
    [ TO { <TT
CLASS="REPLACEABLE"
><I
>role_name</I
></TT
> | PUBLIC | CURRENT_USER | SESSION_USER } [, ...] ]
    [ USING ( <TT
CLASS="REPLACEABLE"
><I
>using_expression</I
></TT
> ) ]
    [ WITH CHECK ( <TT
CLASS="REPLACEABLE"
><I
>check_expression</I
></TT
> ) ]</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN80975"
></A
><H2
>説明</H2
><P
><TT
CLASS="COMMAND"
>CREATE POLICY</TT
>はテーブルに新しい行単位のセキュリティポリシーを定義します。
作成したポリシーを適用するには、（<TT
CLASS="COMMAND"
>ALTER TABLE ... ENABLE ROW LEVEL SECURITY</TT
>を使って）テーブルの行単位セキュリティを有効にしなければならないことに注意して下さい。
  </P
><P
>ポリシーは、それを定義する式にマッチした行をselect/insert/update/deleteする権限を与えます。
テーブルの既存の行は<TT
CLASS="LITERAL"
>USING</TT
>で指定した式によって検査されます。
<TT
CLASS="LITERAL"
>INSERT</TT
>または<TT
CLASS="LITERAL"
>UPDATE</TT
>によって作成される新しい行は<TT
CLASS="LITERAL"
>WITH CHECK</TT
>で指定した式によって検査されます。
ある行について<TT
CLASS="LITERAL"
>USING</TT
>式がtrueを返した場合、その行はユーザに可視となりますが、falseまたはnullを返した場合は不可視となります。
行に対して<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式がtrueを返した場合、その行は挿入または更新されますが、falseまたはnullを返した場合はエラーが発生します。
  </P
><P
><TT
CLASS="COMMAND"
>INSERT</TT
>文および<TT
CLASS="COMMAND"
>UPDATE</TT
>文では、<TT
CLASS="LITERAL"
>BEFORE</TT
>トリガーが実行された後で、かつ、実際のデータ更新が行われるより前に<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式が実行されます。
従って、<TT
CLASS="LITERAL"
>BEFORE ROW</TT
>トリガーは挿入されるデータを変更する場合があり、これはセキュリティポリシーの検査の結果に影響を与えます。
<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式は他のいかなる制約よりも前に実行されます。
  </P
><P
>ポリシー名はテーブル毎につけられます。
従って、1つのポリシー名を多くの異なるテーブルに使うことができます。
また、その定義は各テーブル毎に異なった、適切な内容にできます。
  </P
><P
>ポリシーは特定のコマンドまたは特定のロールに対して適用することができます。
新しく作成するポリシーのデフォルトは、特に指定しなければ、すべてのコマンドとロールに適用、となっています。
ある文に複数のポリシーを適用する場合、それらはORを使って結合されます
（ただし、<TT
CLASS="LITERAL"
>ON CONFLICT DO UPDATE</TT
>および<TT
CLASS="LITERAL"
>INSERT</TT
>のポリシーはこのようには結合されず、<TT
CLASS="LITERAL"
>ON CONFLICT</TT
>の実行の各ステージに記された通りに実行されます）。
  </P
><P
><TT
CLASS="LITERAL"
>USING</TT
>と<TT
CLASS="LITERAL"
>WITH CHECK</TT
>の両方のポリシーを持ち得るコマンド（<TT
CLASS="LITERAL"
>ALL</TT
>と<TT
CLASS="LITERAL"
>UPDATE</TT
>）について、<TT
CLASS="LITERAL"
>WITH CHECK</TT
>ポリシーが定義されていない場合、どの行が可視か（通常の<TT
CLASS="LITERAL"
>USING</TT
>と同じ）とどの行が追加可能か（<TT
CLASS="LITERAL"
>WITH CHECK</TT
>に相当）の両方で<TT
CLASS="LITERAL"
>USING</TT
>ポリシーが使用されます。
  </P
><P
>テーブルの行単位セキュリティが有効で、適用可能なポリシーが存在しない場合、<SPAN
CLASS="QUOTE"
>"デフォルト拒否"</SPAN
>のポリシーが適用され、すべての行が不可視で更新不能になります。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN81010"
></A
><H2
>パラメータ</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>name</I
></TT
></DT
><DD
><P
>作成するポリシーの名前です。
同じテーブルの他のポリシーとは異なる名前でなければなりません。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
></DT
><DD
><P
>ポリシーが適用されるテーブルの名前（スキーマ修飾可）です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>command</I
></TT
></DT
><DD
><P
>ポリシーが適用されるコマンドです。
有効なオプションは<TT
CLASS="COMMAND"
>ALL</TT
>、<TT
CLASS="COMMAND"
>SELECT</TT
>、<TT
CLASS="COMMAND"
>INSERT</TT
>、<TT
CLASS="COMMAND"
>UPDATE</TT
>、<TT
CLASS="COMMAND"
>DELETE</TT
>です。
デフォルトは<TT
CLASS="COMMAND"
>ALL</TT
>です。
これらがどのように適用されるかの詳細は以下を参照して下さい。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>role_name</I
></TT
></DT
><DD
><P
>ポリシーが適用されるロールです。
デフォルトは<TT
CLASS="LITERAL"
>PUBLIC</TT
>で、すべてのロールに対してポリシーが適用されます。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>using_expression</I
></TT
></DT
><DD
><P
>任意の<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>条件式（戻り値は<TT
CLASS="TYPE"
>boolean</TT
>）です。
条件式に集約関数やウィンドウ関数を含めることはできません。
行単位セキュリティが有効なときは、テーブルへの問い合わせにこの式が追加されます。
この式がtrueを返す行が可視となります。
この式がfalseまたはnullを返す行は、ユーザには（<TT
CLASS="COMMAND"
>SELECT</TT
>において）不可視となり、また（<TT
CLASS="COMMAND"
>UPDATE</TT
>あるいは<TT
CLASS="COMMAND"
>DELETE</TT
>では）更新の対象ではなくなります。
そのような行は静かに無視され、エラーは報告されません。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>check_expression</I
></TT
></DT
><DD
><P
>任意の<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>条件式（戻り値は<TT
CLASS="TYPE"
>boolean</TT
>）です。
条件式に集約関数やウィンドウ関数を含めることはできません。
この式は、そのテーブルに対する<TT
CLASS="COMMAND"
>INSERT</TT
>および<TT
CLASS="COMMAND"
>UPDATE</TT
>の問い合わせで使用され、この式の評価がtrueになる行のみが許されます。
挿入されるレコード、あるいは更新の結果のレコードでこの式の評価がfalseまたはnullになるものについては、エラーが発生します。
<TT
CLASS="REPLACEABLE"
><I
>check_expression</I
></TT
>は元の内容ではなく、予定される更新の後の新しい内容に対して評価されることに注意してください。
     </P
></DD
></DL
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN81060"
></A
><H3
>コマンド毎のポリシー</H3
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="SQL-CREATEPOLICY-ALL"
></A
><TT
CLASS="LITERAL"
>ALL</TT
></DT
><DD
><P
>ポリシーに<TT
CLASS="LITERAL"
>ALL</TT
>を使うのは、そのポリシーはコマンドの種類に関係なく、すべてのコマンドに適用されるという意味になります。
<TT
CLASS="LITERAL"
>ALL</TT
>のポリシーと特定のコマンドに対するポリシーの両方が存在する場合、重なっているポリシーの常として、それらがすべてORで結合されます。
さらに<TT
CLASS="LITERAL"
>ALL</TT
>のポリシーは、問い合わせの選択側と更新側の両方で適用されます。
このとき、<TT
CLASS="LITERAL"
>USING</TT
>式だけが定義されていたら、両方の場合について<TT
CLASS="LITERAL"
>USING</TT
>式を使用します。
       </P
><P
>例えば<TT
CLASS="LITERAL"
>UPDATE</TT
>が実行されるとき、<TT
CLASS="LITERAL"
>ALL</TT
>のポリシーは、<TT
CLASS="LITERAL"
>UPDATE</TT
>が更新対象の行として選択できる行（<TT
CLASS="LITERAL"
>USING</TT
>式が適用されます）と、<TT
CLASS="LITERAL"
>UPDATE</TT
>文の結果としてできる行がテーブルに追加できるかどうかの検証（<TT
CLASS="LITERAL"
>WITH CHECK</TT
>が定義されていれば、それが適用され、なければ<TT
CLASS="LITERAL"
>USING</TT
>式が適用されます）の両方で適用可能です。
<TT
CLASS="COMMAND"
>INSERT</TT
>または<TT
CLASS="COMMAND"
>UPDATE</TT
>コマンドが<TT
CLASS="LITERAL"
>ALL</TT
>の<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式に反する行をテーブルに追加しようとした場合、コマンド全体が中止されます。
       </P
></DD
><DT
><A
NAME="SQL-CREATEPOLICY-SELECT"
></A
><TT
CLASS="LITERAL"
>SELECT</TT
></DT
><DD
><P
>ポリシーに<TT
CLASS="LITERAL"
>SELECT</TT
>を使うのは、そのポリシーは<TT
CLASS="LITERAL"
>SELECT</TT
>の問い合わせの他に、そのポリシーが定義されているリレーションに対して<TT
CLASS="LITERAL"
>SELECT</TT
>権限が必要な時は常に適用されるという意味になります。
その結果、<TT
CLASS="LITERAL"
>SELECT</TT
>問い合わせでは、<TT
CLASS="LITERAL"
>SELECT</TT
>ポリシーに適うレコードだけが返されます。
また、<TT
CLASS="LITERAL"
>UPDATE</TT
>など<TT
CLASS="LITERAL"
>SELECT</TT
>権限が必要な問い合わせでも、<TT
CLASS="LITERAL"
>SELECT</TT
>ポリシーによって許可されるレコードだけが見えます。
<TT
CLASS="LITERAL"
>SELECT</TT
>ポリシーはリレーションからレコードを取り出す場合にしか適用されないので、<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式を持つことはできません。
       </P
></DD
><DT
><A
NAME="SQL-CREATEPOLICY-INSERT"
></A
><TT
CLASS="LITERAL"
>INSERT</TT
></DT
><DD
><P
>ポリシーに<TT
CLASS="LITERAL"
>INSERT</TT
>を使うのは、そのポリシーは<TT
CLASS="LITERAL"
>INSERT</TT
>コマンドに適用されるという意味になります。
このポリシーに反する行を挿入しようとすると、ポリシー違反エラーを起こし、<TT
CLASS="LITERAL"
>INSERT</TT
>コマンド全体が中止されます。
<TT
CLASS="LITERAL"
>INSERT</TT
>ポリシーはリレーションにレコードを追加する場合にしか適用されないため、<TT
CLASS="LITERAL"
>USING</TT
>式を持つことはできません。
       </P
><P
><TT
CLASS="LITERAL"
>ON CONFLICT DO UPDATE</TT
>のある<TT
CLASS="LITERAL"
>INSERT</TT
>では、<TT
CLASS="LITERAL"
>INSERT</TT
>ポリシーの<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式について、<TT
CLASS="LITERAL"
>INSERT</TT
>の部分でリレーションに追加されるすべての行についてのみ確認することに注意してください。
       </P
></DD
><DT
><A
NAME="SQL-CREATEPOLICY-UPDATE"
></A
><TT
CLASS="LITERAL"
>UPDATE</TT
></DT
><DD
><P
>ポリシーに<TT
CLASS="LITERAL"
>UPDATE</TT
>を使うのは、そのポリシーは<TT
CLASS="LITERAL"
>UPDATE</TT
>コマンド（あるいは補助的に<TT
CLASS="LITERAL"
>INSERT</TT
>コマンドの<TT
CLASS="LITERAL"
>ON CONFLICT DO UPDATE</TT
>句）で適用されるという意味になります。
<TT
CLASS="LITERAL"
>UPDATE</TT
>は既存のレコードを取り出すことと、その後でレコードの一部（全部ではないかもしれない)を変更することが含まれるので、<TT
CLASS="LITERAL"
>UPDATE</TT
>ポリシーは<TT
CLASS="LITERAL"
>USING</TT
>式と<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式の両方を受け付けます。
<TT
CLASS="LITERAL"
>USING</TT
>式は<TT
CLASS="LITERAL"
>UPDATE</TT
>コマンドが操作の対象としてどのレコードを見ることができるかを決めるのに使われます。
一方で<TT
CLASS="LITERAL"
>WITH CHECK</TT
>はどの修正した行をリレーションに戻すことができるかを定義します。
       </P
><P
><TT
CLASS="LITERAL"
>WHERE</TT
>句または<TT
CLASS="LITERAL"
>RETURNING</TT
>句のある<TT
CLASS="LITERAL"
>UPDATE</TT
>コマンドでは、更新されるリレーションの<TT
CLASS="LITERAL"
>SELECT</TT
>権限も必要です。
また、適切な<TT
CLASS="LITERAL"
>SELECT</TT
>ポリシーと<TT
CLASS="LITERAL"
>ALL</TT
>が結合され（<TT
CLASS="LITERAL"
>SELECT</TT
>関連のポリシーが複数ある場合はORで結合されます）、<TT
CLASS="LITERAL"
>UPDATE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>句とANDで結合されます。
従って、ある行を<TT
CLASS="LITERAL"
>UPDATE</TT
>するには、それらの行に対して<TT
CLASS="LITERAL"
>SELECT</TT
>または<TT
CLASS="LITERAL"
>ALL</TT
>のポリシーによるアクセス権があり、かつ、それらの行は<TT
CLASS="LITERAL"
>UPDATE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>式の条件に適っていなければなりません。
       </P
><P
>更新後の値が<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式に反する行があればエラーを起こし、コマンド全体が中止されます。
<TT
CLASS="LITERAL"
>USING</TT
>句だけが指定されていた場合は、それが<TT
CLASS="LITERAL"
>USING</TT
>と<TT
CLASS="LITERAL"
>WITH CHECK</TT
>の両方に対して使用されます。
       </P
><P
>ただし、<TT
CLASS="LITERAL"
>ON CONFLICT DO UPDATE</TT
>のある<TT
CLASS="LITERAL"
>INSERT</TT
>では、<TT
CLASS="LITERAL"
>UPDATE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>式はいつでも<TT
CLASS="LITERAL"
>WITH CHECK</TT
>として使用されることに注意して下さい。
この<TT
CLASS="LITERAL"
>UPDATE</TT
>のポリシーは、<TT
CLASS="LITERAL"
>UPDATE</TT
>の部分が実行される時は必ず満たされなければなりません。
<TT
CLASS="LITERAL"
>UPDATE</TT
>部分の実行を必要とする既存の行はすべて、（<TT
CLASS="LITERAL"
>UPDATE</TT
>または<TT
CLASS="LITERAL"
>ALL</TT
>がORで結合された）<TT
CLASS="LITERAL"
>USING</TT
>の制約を満たさねばならず、それがこの文の実行において常に<TT
CLASS="LITERAL"
>WITH CHECK</TT
>オプションとして適用されます。
（<TT
CLASS="LITERAL"
>UPDATE</TT
>部分が何も起こさずに回避されることは<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>決して</I
></SPAN
>なく、その場合はエラーが発生します。）
なお、リレーションに最後に追加される行は、通常の<TT
CLASS="LITERAL"
>UPDATE</TT
>が満たさなければならないすべての<TT
CLASS="LITERAL"
>WITH CHECK</TT
>オプションを満たさなければなりません。
       </P
></DD
><DT
><A
NAME="SQL-CREATEPOLICY-DELETE"
></A
><TT
CLASS="LITERAL"
>DELETE</TT
></DT
><DD
><P
>ポリシーに<TT
CLASS="LITERAL"
>DELETE</TT
>を使うのは、そのポリシーは<TT
CLASS="LITERAL"
>DELETE</TT
>コマンドに適用されるという意味になります。
ポリシーを満たす行だけが<TT
CLASS="LITERAL"
>DELETE</TT
>コマンドから見えます。
<TT
CLASS="LITERAL"
>SELECT</TT
>では見えるけれど、削除の対象ではない、という行もあり得ます。
それらの行が<TT
CLASS="LITERAL"
>DELETE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>式を満たさない場合です。
       </P
><P
><TT
CLASS="LITERAL"
>DELETE</TT
>コマンドが<TT
CLASS="LITERAL"
>WHERE</TT
>句または<TT
CLASS="LITERAL"
>RETURNING</TT
>句を含む場合、更新対象のリレーションの<TT
CLASS="LITERAL"
>SELECT</TT
>権限も必要です。
また、適切な<TT
CLASS="LITERAL"
>SELECT</TT
>ポリシーと<TT
CLASS="LITERAL"
>ALL</TT
>ポリシーが結合され（<TT
CLASS="LITERAL"
>SELECT</TT
>関連のポリシーが複数ある場合はORで結合されます）、<TT
CLASS="LITERAL"
>DELETE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>句とANDで結合されます。
従って、ある行を<TT
CLASS="LITERAL"
>DELETE</TT
>するには、それらの行に対して<TT
CLASS="LITERAL"
>SELECT</TT
>または<TT
CLASS="LITERAL"
>ALL</TT
>のポリシーによるアクセス権があり、かつ、<TT
CLASS="LITERAL"
>DELETE</TT
>ポリシーの<TT
CLASS="LITERAL"
>USING</TT
>式の条件に適っていなければなりません。
       </P
><P
><TT
CLASS="LITERAL"
>DELETE</TT
>ポリシーはリレーションからレコードが削除される場合にしか適用されず、確認すべき新しい行はないので、<TT
CLASS="LITERAL"
>WITH CHECK</TT
>式を持つことはできません。
       </P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN81198"
></A
><H2
>注釈</H2
><P
>ポリシーを作成あるいは変更するには、テーブルの所有者でなければなりません。
  </P
><P
>ポリシーは、データベース内のテーブルに対する明示的な問い合わせには適用されますが、システムが内部的な参照整合性のチェックや制約の検証をしている時には適用されません。
この意味するところは、ある値が存在するかどうかを判定する間接的な方法がある、ということです。
その例の1つは、主キーあるいは一意制約のある列に重複する値を挿入しようとすることです。
挿入に失敗すれば、その値が既に存在すると推定することができます。
（この例では、ユーザが見ることができないレコードを挿入することがポリシーにより許されていると仮定しています。）
別の例は、あるテーブルへの挿入は許されているが、そのテーブルが別の隠されているテーブルを参照している、という場合です。
参照元のテーブルに値を挿入することで、値の存在が判断できます。
この場合、挿入の成功はその値が参照先のテーブルに存在することを示唆します。
これらの問題は、見ることができない値を示唆するかもしれないようなレコードの挿入、削除、更新が全くできないように注意深くポリシーを設計するか、あるいは外部的な意味を持つキーの代わりに生成された値（例：代理キー）を使うことで解決できます。
  </P
><P
>一般に、システムは問い合わせに記述される制限より前に、セキュリティポリシーを使ったフィルター条件を実行します。
これは守られるべきデータが信頼できないかもしれないユーザ定義関数に偶然に意図せずに渡されることを防ぐためです。
しかし、システム（またはシステム管理者）によって<TT
CLASS="LITERAL"
>LEAKPROOF</TT
>であるとされた関数や演算子については、信頼できるとみなして良いので、ポリシー式より先に評価される場合があります。
  </P
><P
>ポリシーの式はユーザの問い合わせに直接追加されるため、式は問い合わせ全体を実行しているユーザの権限によって実行されます。
そのため、あるポリシーを使用するユーザは、その式が参照しているすべてのテーブルおよび関数にアクセスできる必要があります。
そうでなければ、行単位セキュリティが有効になっているテーブルに問い合わせをしようとしたときに、単に権限なしのエラーを受け取ります。
しかし、これによってビューの動作が変わることはありません。
通常の問い合わせおよびビューと同じく、ビューによって参照されるテーブルに対する権限の確認とポリシーは、ビューの所有者の権限およびビューの所有者に適用されるポリシーを利用します。
  </P
><P
>更なる詳細と実践的な例については<A
HREF="ddl-rowsecurity.html"
>項5.7</A
>に記述されています。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN81207"
></A
><H2
>互換性</H2
><P
><TT
CLASS="COMMAND"
>CREATE POLICY</TT
>は<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>の拡張です。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN81212"
></A
><H2
>関連項目</H2
><A
HREF="sql-alterpolicy.html"
>ALTER POLICY</A
>, <A
HREF="sql-droppolicy.html"
>DROP POLICY</A
>, <A
HREF="sql-altertable.html"
>ALTER TABLE</A
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-createopfamily.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-createrole.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>CREATE OPERATOR FAMILY</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>CREATE ROLE</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>