<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース9.2</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース9.2.1"
HREF="release-9-2-1.html"><LINK
REL="NEXT"
TITLE="リリース9.1.23"
HREF="release-9-1-23.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2016-10-20T00:12:21"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース9.2.1"
HREF="release-9-2-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース9.1.23"
HREF="release-9-1-23.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-9-2"
>E.50. リリース9.2</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>リリース日: </B
>2012-09-10</P
></BLOCKQUOTE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN142438"
>E.50.1. 概要</A
></H2
><P
>このリリースでは、新しいSQLの機能もありますが、主にパフォーマンスの向上に注力してきました。
レプリケーションのサポートにおいても開発が継続されています。
主な機能強化には以下のものがあります。
   </P
><P
></P
><UL
><LI
><P
>問い合わせがヒープにアクセスせず、インデックスのみからデータを検索できるようにしました(<I
CLASS="FIRSTTERM"
>インデックスオンリースキャン</I
>)。
       </P
></LI
><LI
><P
>プリペアド文が使われる場合であっても、特定のパラメータ値のための特別な計画をプランナが生成できるようにしました。
       </P
></LI
><LI
><P
>入れ子ループで内部インデックススキャンを使えるようプランナを改善しました。
       </P
></LI
><LI
><P
>ストリーミングレプリケーションのスレーブが、他のスレーブにデータを転送できるようにしました(<A
HREF="warm-standby.html#CASCADING-REPLICATION"
><I
CLASS="FIRSTTERM"
>カスケードレプリケーション</I
></A
>)。
       </P
></LI
><LI
><P
><A
HREF="app-pgbasebackup.html"
><SPAN
CLASS="APPLICATION"
>pg_basebackup</SPAN
></A
>で、スタンバイサーバからバックアップを作れるようにしました。
       </P
></LI
><LI
><P
>WALファイルが書き込まれた時に、その更新をアーカイブするツール<A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>を追加しました。
       </P
></LI
><LI
><P
><A
HREF="spgist.html"
>SP-GiST</A
> (Space-Partitioned GiST、空間分割されたGiST)というインデックスアクセス方法を追加しました。
       </P
></LI
><LI
><P
><A
HREF="rangetypes.html"
>範囲データ型</A
>のサポートを追加しました。
       </P
></LI
><LI
><P
><A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>JSON</TT
></A
>データ型を追加しました。
       </P
></LI
><LI
><P
>ビューに<A
HREF="sql-createview.html"
><TT
CLASS="LITERAL"
>security_barrier</TT
></A
>オプションを追加しました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
>の接続文字列を、<A
HREF="libpq-connect.html#LIBPQ-CONNSTRING"
><ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
></A
>の形式にできるようにしました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
>が大きな結果集合をより良く処理できるように、<A
HREF="libpq-single-row-mode.html"
>1行処理モード</A
>を追加しました。
       </P
></LI
></UL
><P
>上記の項目については、以下でより詳細に説明します。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN142485"
>E.50.2. バージョン9.2への移行</A
></H2
><P
>以前のリリースからデータを移行したい時は、どのリリースについても、<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>を利用したダンプとリストア、あるいは<SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>の利用が必要です。
   </P
><P
>バージョン9.2には、以前のバージョンとの互換性に影響する多くの変更点が含まれています。
以下の非互換性に注意してください。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142491"
>E.50.2.1. システムカタログ</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="catalog-pg-tablespace.html"
><TT
CLASS="STRUCTNAME"
>pg_tablespace</TT
></A
>から<TT
CLASS="STRUCTFIELD"
>spclocation</TT
>フィールドを削除しました。(Magnus Hagander)
       </P
><P
>このフィールドは、テーブル空間の場所を実際に定義するシンボリックリンクと同じでしたので、テーブル空間を移動するときにそれがなくなってしまうエラーを起こす危険性がありました。
この変更により、サーバが停止している間に、シンボリックリンクを手作業で操作することにより、テーブル空間のディレクトリを移動することが可能になります。
このフィールドを置き換え、このシンボリックリンクについて問い合わせができるように、<A
HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"
><CODE
CLASS="FUNCTION"
>pg_tablespace_location()</CODE
></A
>を追加しました。
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>tsvector</TT
>のmost-common-element(最も共通な要素)統計を<A
HREF="view-pg-stats.html"
><TT
CLASS="STRUCTNAME"
>pg_stats</TT
></A
>の新しい列に移動しました。(Alexander Korotkov)
       </P
><P
>以前、<TT
CLASS="TYPE"
>tsvector</TT
>の列について<TT
CLASS="STRUCTFIELD"
>most_common_vals</TT
>および<TT
CLASS="STRUCTFIELD"
>most_common_freqs</TT
>で利用可能だったデータについては、<TT
CLASS="STRUCTFIELD"
>most_common_elems</TT
>および<TT
CLASS="STRUCTFIELD"
>most_common_elem_freqs</TT
>を参照してください。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142513"
>E.50.2.2. Functions</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="hstore.html"
>hstore</A
>の<TT
CLASS="LITERAL"
>=&gt;</TT
>演算子を削除しました。(Robert Haas)
       </P
><P
>代わりに<CODE
CLASS="FUNCTION"
>hstore(text, text)</CODE
>を使ってください。
<TT
CLASS="LITERAL"
>=&gt;</TT
>は標準<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>で他の目的のために予約しているので、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 9.0からは<TT
CLASS="LITERAL"
>=&gt;</TT
>という名前の演算子が作られると警告メッセージを出力していました。
       </P
></LI
><LI
><P
><A
HREF="functions-xml.html#FUNCTIONS-XML-PROCESSING"
><CODE
CLASS="FUNCTION"
>xpath()</CODE
></A
>が文字列中の特殊文字を確実にエスケープするようにしました。(Florian Pflug)
       </P
><P
>これがないと、結果が正当な<ACRONYM
CLASS="ACRONYM"
>XML</ACRONYM
>にならない場合がありました。
       </P
></LI
><LI
><P
>オブジェクトが存在しないとき、<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-DBOBJECT"
><CODE
CLASS="FUNCTION"
>pg_relation_size()</CODE
></A
>およびその同類の関数がNULLを返すようにしました。(Phil Sorber)
       </P
><P
>これにより、同時に<TT
CLASS="COMMAND"
>DROP</TT
>をした直後にこれらの関数を呼び出してもエラーを返さなくなります。
       </P
></LI
><LI
><P
><A
HREF="functions-datetime.html#FUNCTIONS-DATETIME-EXTRACT"
><CODE
CLASS="FUNCTION"
>EXTRACT(EPOCH FROM <TT
CLASS="REPLACEABLE"
><I
>timestamp without time zone</I
></TT
>)</CODE
></A
>が<ACRONYM
CLASS="ACRONYM"
>UTC</ACRONYM
>の0時ではなく、現地時間の0時からの時間を返すようにしました。(Tom Lane)
       </P
><P
>この変更は、リリース7.3でなされた、誤った考えによる変更を元に戻すものです。
<ACRONYM
CLASS="ACRONYM"
>UTC</ACRONYM
>の0時から時間を計るのは一貫性がありませんでした。
その結果が<A
HREF="runtime-config-client.html#GUC-TIMEZONE"
><TT
CLASS="VARNAME"
>timezone</TT
></A
>の設定に依存することになりますが、<TT
CLASS="TYPE"
>timestamp without time zone</TT
>の計算はそのようになるべきではないからです。
入力値を<TT
CLASS="TYPE"
>timestamp with time zone</TT
>にキャストすれば、以前と同じ動作が得られます。
       </P
></LI
><LI
><P
>時間文字列の終わりに<TT
CLASS="LITERAL"
>yesterday</TT
>、<TT
CLASS="LITERAL"
>today</TT
>あるいは<TT
CLASS="LITERAL"
>tomorrow</TT
>が付いている場合について、適切に処理するようにしました。(Dean Rasheed)
       </P
><P
>以前は、<TT
CLASS="LITERAL"
>SELECT '04:00:00 yesterday'::timestamp</TT
>を0時に実行すると、前日の日付を返していました。
       </P
></LI
><LI
><P
><A
HREF="functions-formatting.html"
><CODE
CLASS="FUNCTION"
>to_date()</CODE
></A
>および<CODE
CLASS="FUNCTION"
>to_timestamp()</CODE
>に不完全な日付を渡したとき、2020年に向けて丸めるように修正しました。(Bruce Momjian)
       </P
><P
>以前は、3桁以下の年、および年のマスクを渡したときの丸め方が一貫していませんでした。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142563"
>E.50.2.3. オブジェクトの操作</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="sql-alterdomain.html"
><TT
CLASS="COMMAND"
>ALTER DOMAIN</TT
></A
>がドメインでない型に対して動作しないようにしました。(Peter Eisentraut)
       </P
><P
>以前は、ドメインでない型に対して所有者とスキーマを変更することができました。
       </P
></LI
><LI
><P
><A
HREF="sql-createfunction.html"
><TT
CLASS="COMMAND"
>CREATE FUNCTION</TT
></A
>で、手続き言語の名前を強制的に小文字に変換しないようにしました。(Robert Haas)
       </P
><P
>引用符のついていない言語識別子は引き続き小文字変換されますが、文字列および引用符付きの識別子に対して強制的な小文字変換をしないようにしました。
従って、例えば、<TT
CLASS="LITERAL"
>CREATE FUNCTION ... LANGUAGE 'C'</TT
> は、動作しなくなります。
これは<TT
CLASS="LITERAL"
>'c'</TT
>とする必要がありますが、引用符を付けないのがもっと良いでしょう。
       </P
></LI
><LI
><P
>外部キーの強制トリガーについてシステムが生成する名前を変更しました。(Tom Lane)
       </P
><P
>この変更により、自己参照型の外部キー制約のあるいくつかの境界条件においても、トリガーが正しい順番で実行されることが確実になります。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142581"
>E.50.2.4. コマンドラインツール</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
>のメタコマンドの引数における、逆引用符、変数展開、引用符付きの部分文字列の処理を一貫したものにしました。(Tom Lane)
       </P
><P
>以前は、そのような参照が隣接する文字列と空白で分けられていなかった場合、奇妙な取り扱いをされていました。
例えば、<TT
CLASS="LITERAL"
>'FOO'BAR</TT
>は<TT
CLASS="LITERAL"
>FOO BAR</TT
>と出力されていました(想定されない空白を挿入していた)。
また、<TT
CLASS="LITERAL"
>FOO'BAR'BAZ</TT
>は変更なしにそのまま出力されていました(大勢の期待と異なり、引用符を削除しなかった)。
       </P
></LI
><LI
><P
><A
HREF="app-clusterdb.html"
><SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
></A
>のテーブル名を二重引用符付きとして処理しないようにしました。
また、<A
HREF="app-reindexdb.html"
><SPAN
CLASS="APPLICATION"
>reindexdb</SPAN
></A
>のテーブル名およびインデックス名を二重引用符付きとして処理しないようにしました。(Bruce Momjian)
       </P
><P
>引用符が必要な時は、コマンドの引数に二重引用符を含める必要があります。
       </P
></LI
><LI
><P
><A
HREF="app-createuser.html"
><SPAN
CLASS="APPLICATION"
>createuser</SPAN
></A
>は、デフォルトではオプション設定のためのプロンプトを表示しないようになりました。(Peter Eisentraut)
       </P
><P
>以前と同じ動作をさせるには<TT
CLASS="OPTION"
>--interactive</TT
>を使ってください。
       </P
></LI
><LI
><P
><TT
CLASS="OPTION"
>--interactive</TT
>が指定されていなければ、<A
HREF="app-dropuser.html"
><SPAN
CLASS="APPLICATION"
>dropuser</SPAN
></A
>はユーザ名のプロンプトを表示しないようにしました。(Peter Eisentraut)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142610"
>E.50.2.5. サーバの設定</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="runtime-config-connection.html#GUC-SSL-CA-FILE"
>サーバ側の<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>ファイルの場所</A
>を指定するためのサーバパラメータを追加しました。(Peter Eisentraut)
       </P
><P
>これにより、以前はデータディレクトリ内の<TT
CLASS="FILENAME"
>server.crt</TT
>、<TT
CLASS="FILENAME"
>server.key</TT
>、<TT
CLASS="FILENAME"
>root.crt</TT
>、<TT
CLASS="FILENAME"
>root.crl</TT
>としてハードコードされていたファイルの名前と場所を変更することができます。
<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>サーバは<TT
CLASS="FILENAME"
>root.crt</TT
>や<TT
CLASS="FILENAME"
>root.crl</TT
>をデフォルトでは検査しないようになりました。</I
></SPAN
>
これらのファイルをロードするには、関連するパラメータをデフォルトでない値に設定する必要があります。
       </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>silent_mode</TT
>パラメータを削除しました。(Heikki Linnakangas)
       </P
><P
>同様の動作は、<TT
CLASS="COMMAND"
>pg_ctl start -l postmaster.log</TT
>とすることで実現できます。
       </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>wal_sender_delay</TT
>パラメータは、必要とされていないので削除しました。(Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>custom_variable_classes</TT
>パラメータを削除しました。(Tom Lane)
       </P
><P
>この設定によって提供される検査は信頼できないものでした。
これからは、任意の設定の前に任意のクラス名を置くことができます。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142637"
>E.50.2.6. 監視</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="monitoring-stats.html#MONITORING-STATS-VIEWS-TABLE"
><TT
CLASS="STRUCTNAME"
>pg_stat_activity</TT
></A
><TT
CLASS="STRUCTFIELD"
>.procpid</TT
>の名前を<TT
CLASS="STRUCTFIELD"
>pid</TT
>に変更し、他のシステムテーブルと同じようにしました。(Magnus Hagander)
       </P
></LI
><LI
><P
><TT
CLASS="STRUCTFIELD"
>pg_stat_activity</TT
>にプロセスの状態を表示する新しい列を作りました。(Scott Mead、Magnus Hagander)
       </P
><P
>アイドル状態のセッションについては、直前の<TT
CLASS="STRUCTFIELD"
>query</TT
>と<TT
CLASS="STRUCTFIELD"
>query_start</TT
>の値が利用可能となるので、高度な分析が可能になります。
       </P
></LI
><LI
><P
><TT
CLASS="STRUCTNAME"
>pg_stat_activity</TT
>.<TT
CLASS="STRUCTFIELD"
>current_query</TT
>は問い合わせが完了しても値がクリアされないので、名前を<TT
CLASS="STRUCTFIELD"
>query</TT
>に変更しました。(Magnus Hagander)
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>レベルの時間に関する統計の全ての値を、ミリ秒で測定される<TT
CLASS="TYPE"
>float8</TT
>の列に変更しました。(Tom Lane)
       </P
><P
>この変更により、値がミリ秒まで正確だがそれ以上にはできないという設計上の前提が取り除かれました(<TT
CLASS="TYPE"
>float8</TT
>は小数にできるからです)。
これにより影響を受ける列は、<TT
CLASS="STRUCTNAME"
>pg_stat_user_functions</TT
>.<TT
CLASS="STRUCTFIELD"
>total_time</TT
>、<TT
CLASS="STRUCTNAME"
>pg_stat_user_functions</TT
>.<TT
CLASS="STRUCTFIELD"
>self_time</TT
>、<TT
CLASS="STRUCTNAME"
>pg_stat_xact_user_functions</TT
>.<TT
CLASS="STRUCTFIELD"
>total_time</TT
>、<TT
CLASS="STRUCTNAME"
>pg_stat_xact_user_functions</TT
>.<TT
CLASS="STRUCTFIELD"
>self_time</TT
>です。
これらの列の基となっている統計関数も、<TT
CLASS="TYPE"
>bigint</TT
>のミリ秒ではなく、<TT
CLASS="TYPE"
>float8</TT
>のミリ秒を返すようになります。
<TT
CLASS="FILENAME"
>contrib/pg_stat_statements</TT
>の<TT
CLASS="STRUCTFIELD"
>total_time</TT
>列も、ミリ秒で測定されるようになります。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN142675"
>E.50.3. 変更点</A
></H2
><P
>以下に、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 9.2とそれ以前のメジャーリリースとの違いに関する詳細な説明をします。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142679"
>E.50.3.1. サーバ</A
></H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142681"
>E.50.3.1.1. パフォーマンス</A
></H4
><P
></P
><UL
><LI
><P
>問い合わせがインデックスのみからデータを検索し、ヒープにアクセスしなくてもすむことを可能にしました。(Robert Haas、Ibrar Ahmed、Heikki Linnakangas、Tom Lane)
       </P
><P
>この機能はよく<I
CLASS="FIRSTTERM"
>インデックスオンリースキャン(index-only scan)</I
>と呼ばれます。
可視性マップの報告により、すべてのセッションに対して可視であるタプルだけが含まれるヒープページについては、ヒープのアクセスをスキップできます。
従って、この利益は主に、専ら静的であるデータに当てはまります。
この機能を実装するのに必要な部分の一つとして、可視性マップはクラッシュに対して安全にされました。
       </P
></LI
><LI
><P
><A
HREF="spgist.html"
>SP-GiST</A
>(Space-Partitioned GiST、空間分割したGiST)インデックスアクセス方式を追加しました。(Teodor Sigaev、Oleg Bartunov、Tom Lane)
       </P
><P
>SP-GiSTは、柔軟性の点でGiSTに匹敵するものですが、均衡なツリーではなく不均衡に分割された検索構造をサポートします。
これが適合する問題では、インデックスの作成時間、検索時間のいずれにおいても、SP-GiSTはGiSTよりも速く動作します。
       </P
></LI
><LI
><P
>高負荷の状況においてグループコミットが効率的に動作するようにしました。(Peter Geoghegan、imon Riggs、Heikki Linnakangas)
       </P
><P
>以前は、内部ロックの競合により書込負荷のある状況でコミットをまとめて実行するのは非効率的でした。
       </P
></LI
><LI
><P
>新しいファストパス(fast-path)ロック機構を使うことで、競合しないロックが管理できるようにしました。(Robert Haas)
       </P
></LI
><LI
><P
>仮想的なトランザクションIDロックを作成することのオーバーヘッドを削減しました。(Robert Haas)
       </P
></LI
><LI
><P
>シリアライザブル隔離レベルのロックのオーバーヘッドを削減しました。(Dan Ports)
       </P
></LI
><LI
><P
>PowerPCとItaniumでのスピンロックのパフォーマンスを向上しました。(Manabu Ori、Robert Haas、Tom Lane)
       </P
></LI
><LI
><P
>共有無効キャッシュのメッセージのオーバーヘッドを削減しました。(Robert Haas)
       </P
></LI
><LI
><P
><TT
CLASS="STRUCTNAME"
>PGPROC</TT
>共有メモリ配列のよくアクセスされるメンバを別の配列に移動しました。(Pavan Deolasee、Heikki Linnakangas、Robert Haas)
       </P
></LI
><LI
><P
>ヒープにタプルをバッチで追加することにより、<TT
CLASS="COMMAND"
>COPY</TT
>の性能を向上しました。(Heikki Linnakangas)
       </P
></LI
><LI
><P
>より良いツリーをより少ないメモリ割り当てのオーバーヘッドで生成することにより、幾何データ型についてのGiSTインデックスのパフォーマンスを向上しました。(Alexander Korotkov)
       </P
></LI
><LI
><P
>GiSTインデックスの構築時間を向上しました。(Alexander Korotkov、Heikki Linnakangas)
       </P
></LI
><LI
><P
>一時テーブルおよびログを取らないテーブルについて、ヒントビットをより早くセットできるようにしました。(Robert Haas)
       </P
></LI
><LI
><P
>インラインの、<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>から呼び出し可能でない比較関数によってソートを実行できるようにしました。(Peter Geoghegan、Robert Haas、Tom Lane)
       </P
></LI
><LI
><P
>CLOGバッファの数が<A
HREF="runtime-config-resource.html#GUC-SHARED-BUFFERS"
><TT
CLASS="VARNAME"
>shared_buffers</TT
></A
>に基づいて変わるようにしました。(Robert Haas、Simon Riggs、Tom Lane)
       </P
></LI
><LI
><P
>テーブルまたはデータベースの削除で発生するバッファプールスキャンの性能を向上しました。(Jeff Janes、Simon Riggs)
       </P
></LI
><LI
><P
>多くのテーブルが削除される、あるいは空にされるときの、チェックポイントによるfsync要求のキューの性能を向上しました。(Tom Lane)
       </P
></LI
><LI
><P
>Windowsの子プロセスに、安全な個数のファイルディスクリプタを渡すようにしました。(Heikki Linnakangas)
       </P
><P
>これによりWindowsのセッションが以前より多くのオープン状態のファイルディスクリプタを使うことができます。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142731"
>E.50.3.1.2. プロセス管理</A
></H4
><P
></P
><UL
><LI
><P
>チェックポイントを実行する専用のバックグラウンドプロセスを作りました。(Simon Riggs)
       </P
><P
>以前は、バックグラウンドライタがダーティページの書き込みとチェックポイントの両方を行なっていました。
これを2つのプロセスに分けることにより、それぞれがより予測可能な状態で目的を達することができます。
       </P
></LI
><LI
><P
>walwriterプロセスをより早く再開することで、非同期コミットの動作を改善しました。(Simon Riggs)
       </P
><P
>以前は、<A
HREF="runtime-config-wal.html#GUC-WAL-WRITER-DELAY"
><TT
CLASS="VARNAME"
>wal_writer_delay</TT
></A
>が、 <ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>をディスクにフラッシュする唯一のトリガーでした。
<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>バッファが一杯になったときも、<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>書き込みが起こります。
       </P
></LI
><LI
><P
>処理が何も行われていない間、bgwriter、walwriter、checkpointer、statistics collector、log collector、archiverのバックグラウンドプロセスが、より効率的に休止できるようにしました。(Peter Geoghegan、Tom Lane)
       </P
><P
>この一連の変更により、何もすることがないときのプロセスの再開の頻度が減り、アイドル状態のサーバの電力消費が大幅に削減されます。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142748"
>E.50.3.1.3. オプティマイザ</A
></H4
><P
></P
><UL
><LI
><P
>プリペアド文が使われる場合であっても、特定のパラメータ値のための特別な計画をプランナが生成できるようにしました。(Tom Lane)
       </P
><P
>以前は、プリペアド文は必ず1つだけの<SPAN
CLASS="QUOTE"
>"一般的な"</SPAN
>計画があり、それがすべてのパラメータ値に対して使われていました。
これは、明示的な定数値を持つプリペアドでない文で使われる計画に比べ、大幅に劣ることが時々ありました。
これからは、プランナは、特定のパラメータ値に対して特別な計画を生成しようとします。
特別な計画による利点がないことが繰り返し証明された後になって初めて、一般的な計画が使われます。
この変更により、以前からあった、(PL/pgSQLの動的でない文を含め)プリペアド文を使うことによるパフォーマンスの不利を排除できます。
       </P
></LI
><LI
><P
>入れ子ループで内部インデックススキャンを使えるようプランナを改善しました。(Tom Lane)
       </P
><P
>新しい<SPAN
CLASS="QUOTE"
>"パラメータ化されたパス"</SPAN
>の機構により、内部インデックススキャンが、そのスキャンより2つ以上結合レベルが上のリレーションの値を使うことができるようになります。
これにより、(外部結合などの)意味的な制約により、可能な結合順序が制限される場合にパフォーマンスが大きく向上します。
       </P
></LI
><LI
><P
>外部データラッパの計画の<ACRONYM
CLASS="ACRONYM"
>API</ACRONYM
>を改善しました。(Etsuro Fujita、Shigeru Hanada、Tom Lane)
       </P
><P
>ラッパがそのテーブルに対して複数のアクセス<SPAN
CLASS="QUOTE"
>"パス"</SPAN
>を提供できるようになったので、結合の計画がより柔軟になります。
       </P
></LI
><LI
><P
>テーブルでないリレーションについて、自己矛盾する制約句を認知します。(Tom Lane)
       </P
><P
>この検査は<A
HREF="runtime-config-query.html#GUC-CONSTRAINT-EXCLUSION"
><TT
CLASS="VARNAME"
>constraint_exclusion</TT
></A
>が<TT
CLASS="LITERAL"
>on</TT
>に設定されている場合にのみ実行されます。
       </P
></LI
><LI
><P
>単純なインデックススキャン、およびインデックスオンリースキャンで<TT
CLASS="LITERAL"
>indexed_col op ANY(ARRAY[...])</TT
>の条件が使われるようにしました。(Tom Lane)
       </P
><P
>以前は、このような条件は、ビットマップインデックススキャンでのみ使うことができました。
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>boolean</TT
>型の列で<CODE
CLASS="FUNCTION"
>MIN</CODE
>/<CODE
CLASS="FUNCTION"
>MAX</CODE
>の索引の最適化をサポートしました。(Marti Raudsepp)
       </P
></LI
><LI
><P
>行数の推定を設定するとき、<TT
CLASS="COMMAND"
>SELECT</TT
>のターゲットリスト内の集合を返す関数について説明するようにしました。(Tom Lane)
       </P
></LI
><LI
><P
>複製された列を持つインデックスをより信頼できる方法で処理するようプランナを修正しました。(Tom Lane)
       </P
></LI
><LI
><P
>配列について、要素頻度の統計情報を収集し、利用するようにしました。(Alexander Korotkov、Tom Lane)
       </P
><P
>この変更により、配列についての<TT
CLASS="LITERAL"
>&lt;@</TT
>、<TT
CLASS="LITERAL"
>&amp;&amp;</TT
>、<TT
CLASS="LITERAL"
>@&gt;</TT
>演算子(配列の含有および重なり)の選択性評価が改善されます。
       </P
></LI
><LI
><P
>外部テーブルの統計情報を収集できるようにしました。(Etsuro Fujita)
       </P
></LI
><LI
><P
>部分インデックスの利用について、コスト推定を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
>副問い合わせで参照される列の統計情報を利用できるようプランナの機能を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>DISTINCT</TT
>を使う副問い合わせについて、統計の推定を改善しました。(Tom Lane)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142799"
>E.50.3.1.4. 認証</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="auth-pg-hba-conf.html"
><TT
CLASS="FILENAME"
>pg_hba.conf</TT
></A
>で指定されるロール名と<TT
CLASS="LITERAL"
>samerole</TT
>が自動的にスーパーユーザを含むとは扱わないようにしました。(Andrew Dunstan)
       </P
><P
>これにより、グループロールによる<TT
CLASS="LITERAL"
>reject</TT
>の行を使うのが簡単になります。
       </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>pg_hba.conf</TT
>によるトークン解析の処理がより一貫したものになるよう調整しました。(Brendan Jurd、&Aacute;lvaro Herrera)
       </P
></LI
><LI
><P
>空の<TT
CLASS="FILENAME"
>pg_hba.conf</TT
>ファイルを禁止しました。(Tom Lane)
       </P
><P
>これは、間違った構成についてより早く検知するためです。
       </P
></LI
><LI
><P
>スーパーユーザ権限はreplication権限を暗示するものとしました。(Noah Misch)
       </P
><P
>これにより、そのような権限を明示的に割り当てる必要がなくなります。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142819"
>E.50.3.1.5. 監視</A
></H4
><P
></P
><UL
><LI
><P
>バックエンドがクラッシュする間に、現在の問い合わせの文字列のログ出力を試みるようにしました。(Marti Raudsepp)
       </P
></LI
><LI
><P
>自動バキュームのI/O処理のログ出力を、より冗長にしました。(Greg Smith、Noah Misch)
       </P
><P
>このログ出力は<A
HREF="runtime-config-autovacuum.html#GUC-LOG-AUTOVACUUM-MIN-DURATION"
><TT
CLASS="VARNAME"
>log_autovacuum_min_duration</TT
></A
>をトリガとして実行されます。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>再生の失敗をより早く報告するようにしました。(Fujii Masao)
       </P
><P
>サーバーがマスターモードになるまで失敗が報告されない場合がありました。
       </P
></LI
><LI
><P
>WALの場所の比較を単純にするため、<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-BACKUP"
><CODE
CLASS="FUNCTION"
>pg_xlog_location_diff()</CODE
></A
>を追加しました。(Euler Taveira de Oliveira)
       </P
><P
>これはレプリケーションの遅延を計算するのに便利です。
       </P
></LI
><LI
><P
>Windowsでイベントログのアプリケーション名を設定可能にしました。(MauMau、Magnus Hagander)
       </P
><P
><A
HREF="runtime-config-logging.html#GUC-EVENT-SOURCE"
><TT
CLASS="VARNAME"
>event_source</TT
></A
>サーバパラメータを設定することで、異なるインスタンスが異なる識別子を持つイベントログ使うことができるようになります。
これは、<A
HREF="runtime-config-logging.html#GUC-SYSLOG-IDENT"
><TT
CLASS="VARNAME"
>syslog_ident</TT
></A
>の動作と似ています。
       </P
></LI
><LI
><P
>実行中のトランザクションがある場合を除き、<SPAN
CLASS="QUOTE"
>"unexpected EOF"</SPAN
>のメッセージを<TT
CLASS="LITERAL"
>DEBUG1</TT
>レベルに変更しました。(Magnus Hagander)
       </P
></LI
><LI
><P
>この変更により、データベース接続を正しく閉じないアプリケーションによって起こされるログファイルへの雑多な書き込みが減少します。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142851"
>E.50.3.1.6. 統計情報ビュー</A
></H4
><P
></P
><UL
><LI
><P
>一時ファイルのサイズとファイル数を<A
HREF="monitoring-stats.html#PG-STAT-DATABASE-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_database</TT
></A
>システムビューで追跡するようにしました。(Tomas Vondra)
       </P
></LI
><LI
><P
>デッドロックのカウンタを<TT
CLASS="STRUCTNAME"
>pg_stat_database</TT
>システムビューに追加しました。(Magnus Hagander)
       </P
></LI
><LI
><P
>サーバパラメータ<A
HREF="runtime-config-statistics.html#GUC-TRACK-IO-TIMING"
><TT
CLASS="VARNAME"
>track_io_timing</TT
></A
>を追加し、I/Oの時間を追跡できるようにしました。(Ants Aasma、Robert Haas)
       </P
></LI
><LI
><P
>チェックポイントの時間の情報を<A
HREF="monitoring-stats.html#PG-STAT-BGWRITER-VIEW"
><TT
CLASS="STRUCTNAME"
>pg_stat_bgwriter</TT
></A
>で報告するようにしました。(Greg Smith、Peter Geoghegan)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN142869"
>E.50.3.1.7. サーバの設定</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="runtime-config-client.html#GUC-SEARCH-PATH"
><TT
CLASS="VARNAME"
>search_path</TT
></A
>で指定したスキーマが存在しないとき、黙って無視するようにしました。(Tom Lane)
       </P
></LI
><LI
><P
>これにより、すべてのデータベースには存在しないスキーマ名を含むような一般的なパス設定の利用が、より便利になります。
       </P
></LI
><LI
><P
>スーパーユーザが、<A
HREF="runtime-config-locks.html#GUC-DEADLOCK-TIMEOUT"
><TT
CLASS="VARNAME"
>deadlock_timeout</TT
></A
>について、クラスタ単位だけでなく、セッション単位でも設定できるようにしました。(Noah Misch)
       </P
><P
>これにより、デッドロックに関連しそうなトランザクションについて<TT
CLASS="VARNAME"
>deadlock_timeout</TT
>を小さくできるので、より速く検出できるようになります。
また、この値を大きくすることで、デッドロックにより、あるセッションが取消対象として選択される可能性を小さくするために使うこともできます。
       </P
></LI
><LI
><P
>セッションあたりの一時ファイルの容量を制限するため、サーバパラメータ<A
HREF="runtime-config-resource.html#GUC-TEMP-FILE-LIMIT"
><TT
CLASS="VARNAME"
>temp_file_limit</TT
></A
>を追加しました。(Mark Kirkwood)
       </P
></LI
><LI
><P
>スーパーユーザだけが設定できる拡張の独自変数について、関連する拡張をロードする前にスーパーユーザーが<TT
CLASS="COMMAND"
>SET</TT
>できるようにしました。(Tom Lane)
       </P
><P
><TT
CLASS="COMMAND"
>SET</TT
>がスーパーユーザによって実行されたかどうか、システムは記憶するようになります。
これにより、拡張をロードするときに、適切な権限の検査が可能になります。
       </P
></LI
><LI
><P
>設定パラメータについて問い合わせをする<A
HREF="app-postmaster.html"
>postmaster</A
>の<TT
CLASS="OPTION"
>-C</TT
>オプションを追加しました。(Bruce Momjian)
       </P
><P
>これにより、<TT
CLASS="ENVAR"
>PGDATA</TT
>あるいは<TT
CLASS="OPTION"
>-D</TT
>が、設定ファイルだけがインストールされたディレクトリを指している場合について、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>がより良い処理をできるようになります。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE DATABASE</TT
>で、空のロケール名を暗示された値で置換するようにしました。(Tom Lane)
       </P
><P
>これにより、サーバの再起動後に、<TT
CLASS="STRUCTNAME"
>pg_database</TT
>.<TT
CLASS="STRUCTFIELD"
>datcollate</TT
>あるいは<TT
CLASS="STRUCTFIELD"
>datctype</TT
>が異なる解釈をされることを防ぎます。
       </P
></LI
></UL
><DIV
CLASS="SECT5"
><H5
CLASS="SECT5"
><A
NAME="AEN142908"
>E.50.3.1.7.1. <TT
CLASS="FILENAME"
>postgresql.conf</TT
></A
></H5
><P
></P
><UL
><LI
><P
><TT
CLASS="FILENAME"
>postgresql.conf</TT
>で、最初のエラーだけでなく、複数のエラーが報告されるようにしました。(Alexey Klyukin、Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>postgresql.conf</TT
>の再読み込みで、特定のセッションにとって不正な設定が含まれる場合でも、すべてのセッションによって処理されるようにしました。(Alexey Klyukin)
       </P
><P
>以前は、そのようなセッション内で有効でない値があると、そのセッションは全ての設定変更を無視していました。
       </P
></LI
><LI
><P
>設定ファイルに<TT
CLASS="LITERAL"
>include_if_exists</TT
>の機能を追加しました。(Greg Smith)
       </P
><P
>これは、ファイルが見つからなくてもエラーを発生させない、という点を除き、<TT
CLASS="LITERAL"
>include</TT
>と同じ動作をします。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>initdb</SPAN
>の実行中にサーバの時間帯を調べ、<TT
CLASS="FILENAME"
>postgresql.conf</TT
>の<A
HREF="runtime-config-client.html#GUC-TIMEZONE"
><TT
CLASS="VARNAME"
>timezone</TT
></A
>および<A
HREF="runtime-config-logging.html#GUC-LOG-TIMEZONE"
><TT
CLASS="VARNAME"
>log_timezone</TT
></A
>エントリを適切に設定するようにしました。(Tom Lane)
       </P
><P
>これにより、時間のかかる時間帯の調査をサーバの起動時に実施しないですみます。
       </P
></LI
><LI
><P
>Windowsで<TT
CLASS="FILENAME"
>postgresql.conf</TT
>の行番号が報告されるように、<A
HREF="view-pg-settings.html"
><TT
CLASS="STRUCTNAME"
>pg_settings</TT
></A
>を修正しました。(Tom Lane)
       </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142938"
>E.50.3.2. レプリケーションとリカバリ</A
></H3
><P
></P
><UL
><LI
><P
>ストリーミングレプリケーションのスレーブが、他のスレーブにデータを転送できるようにしました(<A
HREF="warm-standby.html#CASCADING-REPLICATION"
><I
CLASS="FIRSTTERM"
>カスケードレプリケーション</I
></A
>)。(Fujii Masao)
       </P
><P
>以前は、スタンバイサーバにストリーミングレプリケーションのログファイルを提供できるのはマスターサーバだけでした。
       </P
></LI
><LI
><P
><A
HREF="runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT"
><TT
CLASS="VARNAME"
>synchronous_commit</TT
></A
>のモードに新しく<TT
CLASS="LITERAL"
>remote_write</TT
>を追加しました。 (Fujii Masao、Simon Riggs)
       </P
><P
>このモードでは、スタンバイサーバがトランザクションデータをスタンバイのオペレーティングシステム上で書き込むのを待ちますが、スタンバイのディスクにデータがフラッシュされるのは待ちません。
       </P
></LI
><LI
><P
><A
HREF="app-pgreceivexlog.html"
><SPAN
CLASS="APPLICATION"
>pg_receivexlog</SPAN
></A
>ツールを追加しました。
これは、完全なWALファイルを待つ代わりに、WALファイルの変更を、書き込まれたときにアーカイブします。(Magnus Hagander)
       </P
></LI
><LI
><P
><A
HREF="app-pgbasebackup.html"
><SPAN
CLASS="APPLICATION"
>pg_basebackup</SPAN
></A
>でスタンバイサーバからバックアップを作れるようにしました。(Jun Ishizuka、Fujii Masao)
       </P
><P
>この機能により、新しいベースバックアップを作る作業について、プライマリサーバの負荷を減らすことができます。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_basebackup</SPAN
>がバックアップを実行している間も、WALファイルをストリーム転送できるようにしました。(Magnus Hagander)
       </P
><P
>これにより、WALファイルがプライマリ上で捨てられる前に、スタンバイに転送することができます。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142965"
>E.50.3.3. 問い合わせ</A
></H3
><P
></P
><UL
><LI
><P
>クライアントが切断されたら、実行中の問い合わせを取り消すようにしました。(Florian Pflug)
       </P
><P
>問い合わせの実行中にクライアントの接続が失われたことをバックエンドが検知したら、問い合わせを完了しようとせずにキャンセルします。
       </P
></LI
><LI
><P
>行式において実行時に列名を保持するようにしました。(Andrew Dunstan、Tom Lane)
       </P
><P
>この変更により、行の値が<TT
CLASS="TYPE"
>hstore</TT
>あるいは<TT
CLASS="TYPE"
>json</TT
>型に変換される場合により良い結果が得られます。
つまり、返される値のフィールドには期待される名前がつけられます。
       </P
></LI
><LI
><P
>副<TT
CLASS="COMMAND"
>SELECT</TT
>の結果に使われる列のラベルを改善しました。(Marti Raudsepp)
       </P
><P
>以前は、<TT
CLASS="LITERAL"
>?column?</TT
>という一般的なラベルが使われていました。
       </P
></LI
><LI
><P
>不明の値の型を決定する経験則を改善しました。(Tom Lane)
       </P
><P
>不明の定数は、それを使う演算子のもう一方の側の値と同じ型を持つかもしれないという長年使われていた規則を、単純な演算子の場合だけでなく、多様演算子を考慮する場合も適用するようにしました。
       </P
></LI
><LI
><P
>ドメイン型へのキャスト、およびドメイン型からのキャストの作成について警告を出すようにしました。(Robert Haas)
       </P
><P
>そのようなキャストには何の効果もありません。
       </P
></LI
><LI
><P
>行が<TT
CLASS="LITERAL"
>CHECK</TT
>制約、あるいは<TT
CLASS="LITERAL"
>NOT NULL</TT
>制約に違反したとき、行の内容をエラー詳細として表示するようにしました。(Jan Kundr&aacute;t)
       </P
><P
>これにより、insertやupdateが多数の行を処理しているときに、どの行に問題があるか特定するのが容易になるはずです。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN142992"
>E.50.3.4. オブジェクトの操作</A
></H3
><P
></P
><UL
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>DDL</ACRONYM
>の同時実行中に、より信頼できる操作を提供しました。(Robert Haas、Noah Misch)
       </P
><P
>この変更ではロックを追加し、それにより、多くの状況で<SPAN
CLASS="QUOTE"
>"cache lookup failed"</SPAN
>(キャッシュの検索に失敗)のエラーを起こさなくなります。
また、同時削除中のスキーマにリレーションを追加することはできなくなりました。
以前はこれによりシステムカタログの内容が不整合を起こすことがありました。
       </P
></LI
><LI
><P
><A
HREF="sql-dropindex.html"
><TT
CLASS="COMMAND"
>DROP INDEX</TT
></A
>に<TT
CLASS="LITERAL"
>CONCURRENTLY</TT
>オプションを追加しました。(Simon Riggs)
       </P
><P
>これにより、他のセッションを妨害することなくインデックスを削除できます。
       </P
></LI
><LI
><P
>外部データラッパに列ごとのオプションが付けられるようにしました。(Shigeru Hanada)
       </P
></LI
><LI
><P
>ビューの定義の見やすい表示(pretty-print)を改善しました。(Andrew Dunstan)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143010"
>E.50.3.4.1. 制約</A
></H4
><P
></P
><UL
><LI
><P
><A
HREF="ddl-constraints.html"
><TT
CLASS="LITERAL"
>CHECK</TT
></A
>制約を<TT
CLASS="LITERAL"
>NOT VALID</TT
>として宣言できるようにしました。(&Aacute;lvaro Herrera)
       </P
><P
><TT
CLASS="LITERAL"
>NOT VALID</TT
>の制約を追加しても、既存の行が制約を満たすかどうかを検査するテーブルスキャンは実行されません。
その後に、新規に追加あるいは更新する行は検査されます。
すべての行が制約を満たすかどうか確かではありませんから、プランナが<TT
CLASS="VARNAME"
>constraint_exclusion</TT
>を考慮する際、そのような制約は無視されます。
       </P
><P
>新しい<TT
CLASS="COMMAND"
>ALTER TABLE VALIDATE</TT
>コマンドは<TT
CLASS="LITERAL"
>NOT VALID</TT
>の制約を既存の行について検査することができ、その後で通常の制約に変換します。
       </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>CHECK</TT
>制約を<TT
CLASS="LITERAL"
>NO INHERIT</TT
>として宣言できるようにしました。(Nikhil Sontakke、Alex Hunsaker、&Aacute;lvaro Herrera)
       </P
><P
>こうすると、制約は親テーブルでのみ有効で、子テーブルでは無効になります。
       </P
></LI
><LI
><P
>制約の<A
HREF="sql-altertable.html"
>名前を変更</A
>できる機能を追加しました。(Peter Eisentraut)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143032"
>E.50.3.4.2. <TT
CLASS="COMMAND"
>ALTER</TT
></A
></H4
><P
></P
><UL
><LI
><P
>いくつかの<A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE</TT
></A
> ... <TT
CLASS="LITERAL"
>ALTER COLUMN TYPE</TT
>の操作において、テーブルとインデックスの再作成の必要性を削減しました。(Noah Misch)
       </P
><P
><TT
CLASS="TYPE"
>varchar</TT
>あるいは<TT
CLASS="TYPE"
>varbit</TT
>の列の長さの制限を大きくする、あるいは制限をなくしてしまう場合には、テーブルの再書き込みは必要なくなりました。
<TT
CLASS="TYPE"
>numeric</TT
>列の精度を大きくする場合、あるいは列を制限のある<TT
CLASS="TYPE"
>numeric</TT
>から制限のないnumericに変更する場合は、テーブルの再書き込みは必要なくなりました。
<TT
CLASS="TYPE"
>interval</TT
>型、<TT
CLASS="TYPE"
>timestamp</TT
>型、<TT
CLASS="TYPE"
>timestamptz</TT
>型についての同様なケースでもテーブルの再書き込みは行われません。
       </P
></LI
><LI
><P
><A
HREF="sql-altertable.html"
><TT
CLASS="COMMAND"
>ALTER TABLE</TT
></A
>の外部キーの再検証について、不要な場合には実行しないようにしました。(Noah Misch)
       </P
></LI
><LI
><P
>いくつかの<TT
CLASS="COMMAND"
>ALTER</TT
>コマンドに<TT
CLASS="LITERAL"
>IF EXISTS</TT
>オプションを追加しました。(Pavel Stehule)
       </P
><P
>例えば、<TT
CLASS="COMMAND"
>ALTER FOREIGN TABLE IF EXISTS foo RENAME TO bar</TT
>のように使います。
       </P
></LI
><LI
><P
><A
HREF="sql-alterforeigndatawrapper.html"
><TT
CLASS="COMMAND"
>ALTER FOREIGN DATA WRAPPER</TT
></A
>および<A
HREF="sql-alterserver.html"
><TT
CLASS="COMMAND"
>ALTER SERVER</TT
></A
>に<TT
CLASS="LITERAL"
>RENAME</TT
>を追加しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
><A
HREF="sql-alterdomain.html"
><TT
CLASS="COMMAND"
>ALTER DOMAIN</TT
></A
>に<TT
CLASS="LITERAL"
>RENAME</TT
>を追加しました。(Peter Eisentraut)
       </P
><P
>以前も<TT
CLASS="COMMAND"
>ALTER TYPE</TT
>を使えばドメインの名前の変更は可能でした。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER DOMAIN</TT
>の<TT
CLASS="LITERAL"
>DROP CONSTRAINT</TT
>で、存在しない制約を指定したらエラーを発生させるようにしました。(Peter Eisentraut)
       </P
><P
><TT
CLASS="LITERAL"
>IF EXISTS</TT
>オプションが追加されたので、以前と同じ動作をさせることは可能です。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143079"
>E.50.3.4.3. <A
HREF="sql-createtable.html"
><TT
CLASS="COMMAND"
>CREATE TABLE</TT
></A
></A
></H4
><P
></P
><UL
><LI
><P
>外部テーブル、ビューおよび複合型からの<TT
CLASS="COMMAND"
>CREATE TABLE (LIKE ...)</TT
>を可能にしました。(Peter Eisentraut)
       </P
><P
>例えば、テーブルのスキーマがビューにマッチするようなテーブルを作成することも可能になります。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE TABLE (LIKE ...)</TT
>でインデックスのコメントをコピーするときに、インデックス名の衝突が起きないように修正しました。(Tom Lane)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE TABLE</TT
> ... <TT
CLASS="LITERAL"
>AS EXECUTE</TT
>で、<TT
CLASS="LITERAL"
>WITH NO DATA</TT
>と列名の指定を処理できるように修正しました。(Tom Lane)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143096"
>E.50.3.4.4. オブジェクトの権限</A
></H4
><P
></P
><UL
><LI
><P
>ビューに<A
HREF="sql-createview.html"
><TT
CLASS="LITERAL"
>security_barrier</TT
></A
>オプションを追加しました。(KaiGai Kohei、Robert Haas)
       </P
><P
>このオプションは、ビューが保護するデータがユーザに開示されるような最適化を防ぎます。
例えば、安全でない関数を含む句をビューの<TT
CLASS="LITERAL"
>WHERE</TT
>句に入れるようなことです。
このようなビューは、通常のビューに比べパフォーマンスが悪くなることが予想されます。
       </P
></LI
><LI
><P
>新しい関数の属性<A
HREF="sql-createfunction.html"
><TT
CLASS="LITERAL"
>LEAKPROOF</TT
></A
>を追加しました。
これは、<TT
CLASS="LITERAL"
>security_barrier</TT
>のビューで安全に利用できる関数に印を付けるものです。(KaiGai Kohei)
       </P
></LI
><LI
><P
>データ型についての権限の機能を追加しました。(Peter Eisentraut)
       </P
><P
>これにより、型とドメインについて、<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>準拠の<TT
CLASS="LITERAL"
>USAGE</TT
>権限がサポートされます。
その目的は、どのユーザが型の依存性を作成できるか制限することです。
というのは、そのような依存性は型の所有者による型定義の変更の能力を制限することになるからです。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>SELECT INTO</TT
>および<TT
CLASS="COMMAND"
>CREATE TABLE AS</TT
>で、<TT
CLASS="COMMAND"
>INSERT</TT
>権限について確認するようにしました。(KaiGai Kohei)
       </P
><P
><TT
CLASS="COMMAND"
>SELECT INTO</TT
>や<TT
CLASS="COMMAND"
>CREATE TABLE AS</TT
>ではオブジェクトが作られるので、作成者は通常はinsert権限を持っています。
しかし、<TT
CLASS="LITERAL"
>ALTER DEFAULT PRIVILEGES</TT
>によりそのような権限を取り消した場合など、そうならない例外的な場合もあります。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143124"
>E.50.3.5. ユーティリティ操作</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="sql-vacuum.html"
><TT
CLASS="COMMAND"
>VACUUM</TT
></A
>でページをロックできない時は、そのページをより安易にスキップするようにしました。(Simon Riggs、Robert Haas)
       </P
><P
>この変更により、<TT
CLASS="COMMAND"
>VACUUM</TT
>が<SPAN
CLASS="QUOTE"
>"詰まって"</SPAN
>しまう事故が大幅に減るでしょう。
       </P
></LI
><LI
><P
><A
HREF="sql-explain.html"
><TT
CLASS="COMMAND"
>EXPLAIN</TT
></A
> <TT
CLASS="LITERAL"
>(BUFFERS)</TT
>がダーティーにされたブロック数、書き込まれたブロックを数えるようにしました。(Robert Haas)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>EXPLAIN ANALYZE</TT
>がフィルタの段階で除外した行の数を報告するようにしました。(Marko Tiikkaja)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>EXPLAIN ANALYZE</TT
>で時間の値が必要とされていないとき、時間測定のオーバーヘッドがなくなるようにしました。(Tomas Vondra)
       </P
><P
>これは新しい<TT
CLASS="LITERAL"
>TIMING</TT
>オプションを<TT
CLASS="LITERAL"
>FALSE</TT
>に設定することで実現できます。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143148"
>E.50.3.6. データ型</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="rangetypes.html"
>範囲データ型</A
>の機能を追加しました。(Jeff Davis、Tom Lane、Alexander Korotkov)
       </P
><P
>範囲データ型は、その基本のデータ型に属する下限値と上限値を記録します。
含有、重なり、共通部分などの演算をサポートします。
       </P
></LI
><LI
><P
><A
HREF="datatype-json.html"
><TT
CLASS="TYPE"
>JSON</TT
></A
>データ型を追加しました。(Robert Haas)
       </P
><P
>この型は<ACRONYM
CLASS="ACRONYM"
>JSON</ACRONYM
>(JavaScript Object Notation)データを適切に検証して保存します。
       </P
></LI
><LI
><P
><A
HREF="functions-json.html"
><CODE
CLASS="FUNCTION"
>array_to_json()</CODE
></A
>および<CODE
CLASS="FUNCTION"
>row_to_json()</CODE
>を追加しました。(Andrew Dunstan)
       </P
></LI
><LI
><P
><A
HREF="datatype-numeric.html#DATATYPE-SERIAL"
><TT
CLASS="TYPE"
>SMALLSERIAL</TT
></A
>データ型を追加しました。(Mike Pultz)
       </P
><P
>これは<TT
CLASS="TYPE"
>SERIAL</TT
>と似ていますが、シーケンスを2バイトの整数の列(<TT
CLASS="TYPE"
>int2</TT
>)に格納します。
       </P
></LI
><LI
><P
><A
HREF="sql-createdomain.html"
>ドメイン</A
>を<TT
CLASS="LITERAL"
>NOT VALID</TT
>として宣言できるようにしました。(&Aacute;lvaro Herrera)
       </P
><P
>このオプションはドメインの作成時にも指定できますし、また<TT
CLASS="COMMAND"
>ALTER DOMAIN</TT
>&#62; ... <TT
CLASS="LITERAL"
>ADD CONSTRAINT</TT
> ... <TT
CLASS="LITERAL"
>NOT VALID</TT
>としても設定できます。
<TT
CLASS="COMMAND"
>ALTER DOMAIN</TT
> ... <TT
CLASS="LITERAL"
>VALIDATE CONSTRAINT</TT
>とすると、制約を完全に検証します。
       </P
></LI
><LI
><P
><A
HREF="datatype-money.html"
>money</A
>データ型で、サポートするロケール独自の書式オプションの数を増やしました。(Tom Lane)
       </P
><P
>具体的には、金額の出力における値の順序、符号、通貨記号についてすべてのPOSIXのオプションを尊重するようにしました。
また、3桁毎の区切り文字も、POSIXの要請に従い、小数点の左側にだけ挿入されることを確実にしました。
       </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>macaddr</TT
>データ型について、ビット演算の<SPAN
CLASS="QUOTE"
>"and"</SPAN
>、<SPAN
CLASS="QUOTE"
>"or"</SPAN
>、<SPAN
CLASS="QUOTE"
>"not"</SPAN
>演算子をサポートしました。(Brendan Jurd)
       </P
></LI
><LI
><P
><A
HREF="functions-xml.html#FUNCTIONS-XML-PROCESSING"
><CODE
CLASS="FUNCTION"
>xpath()</CODE
></A
>にスカラー値が渡されたとき、1つだけの要素を持つ<ACRONYM
CLASS="ACRONYM"
>XML</ACRONYM
>配列を返すようにしました。(Florian Pflug)
       </P
><P
>以前は空の配列を返していました。
この変更に伴い、そのような式について、<CODE
CLASS="FUNCTION"
>xpath_exists()</CODE
>は偽ではなく真を返すようになります。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>XML</ACRONYM
>のエラー処理がより堅牢になるよう改善しました。(Florian Pflug)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143203"
>E.50.3.7. 関数</A
></H3
><P
></P
><UL
><LI
><P
>スーパーユーザでないユーザが、同じユーザの他のセッションに対して<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL"
><CODE
CLASS="FUNCTION"
>pg_cancel_backend()</CODE
></A
>および<A
HREF="functions-admin.html#FUNCTIONS-ADMIN-SIGNAL"
><CODE
CLASS="FUNCTION"
>pg_terminate_backend()</CODE
></A
>を使うことができるようにしました。(Magnus Hagander、Josh Kupershmidt、Dan Farina)
       </P
><P
>以前は、スーパーユーザだけがこれらの関数を使うことができました。
       </P
></LI
><LI
><P
>トランザクションスナップショットのインポートとエクスポートができるようにしました。(Joachim Wieland、Tom Lane)
       </P
><P
>これにより、複数のトランザクションがデータベースの状態に関する同一のビューを共有することができるようになります。
スナップショットのエクスポートは<A
HREF="functions-admin.html#FUNCTIONS-SNAPSHOT-SYNCHRONIZATION"
><CODE
CLASS="FUNCTION"
>pg_export_snapshot()</CODE
></A
>によって、インポートは<A
HREF="sql-set-transaction.html"
><TT
CLASS="COMMAND"
>SET TRANSACTION SNAPSHOT</TT
></A
>によって行います。
現在実行中のトランザクションのスナップショットだけがインポート可能です。
       </P
></LI
><LI
><P
>式で<A
HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"
><TT
CLASS="LITERAL"
>COLLATION FOR</TT
></A
>をサポートしました。(Peter Eisentraut)
       </P
><P
>これは、式の照合順序を表す文字列を返します。
       </P
></LI
><LI
><P
><A
HREF="functions-info.html#FUNCTIONS-INFO-SCHEMA-TABLE"
><CODE
CLASS="FUNCTION"
>pg_opfamily_is_visible()</CODE
></A
>を追加しました。(Josh Kupershmidt)
       </P
></LI
><LI
><P
><A
HREF="functions-admin.html#FUNCTIONS-ADMIN-DBSIZE"
><CODE
CLASS="FUNCTION"
>pg_size_pretty()</CODE
></A
>を<CODE
CLASS="FUNCTION"
>pg_xlog_location_diff()</CODE
>で使えるように、<TT
CLASS="TYPE"
>numeric</TT
>型の亜種を追加しました。(Fujii Masao)
       </P
></LI
><LI
><P
><A
HREF="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE"
><CODE
CLASS="FUNCTION"
>pg_trigger_depth()</CODE
></A
>関数を追加しました。(Kevin Grittner)
       </P
><P
>この関数は、現在のトリガの呼び出し階層数を返します。
       </P
></LI
><LI
><P
><A
HREF="functions-aggregate.html#FUNCTIONS-AGGREGATE-TABLE"
><CODE
CLASS="FUNCTION"
>string_agg()</CODE
></A
>で<TT
CLASS="TYPE"
>bytea</TT
>型の値を処理できるようにしました。(Pavel Stehule)
       </P
></LI
><LI
><P
>正規表現で、より大きな量指定された部分表現の中で後方参照が使われる場合について修正しました。(Tom Lane)
       </P
><P
>例えば、<TT
CLASS="LITERAL"
>^(\w+)( \1)+$</TT
>です。
以前のリリースでは、後方参照が実際に最初の出現とマッチしていることを検査していませんでした。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143249"
>E.50.3.8. <A
HREF="information-schema.html"
>情報スキーマ</A
></A
></H3
><P
></P
><UL
><LI
><P
>情報スキーマにビュー<TT
CLASS="STRUCTNAME"
>role_udt_grants</TT
>、<TT
CLASS="STRUCTNAME"
>udt_privileges</TT
>、<TT
CLASS="STRUCTNAME"
>user_defined_types</TT
>を追加しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>情報スキーマのビュー<TT
CLASS="STRUCTNAME"
>element_types</TT
>に、複合型の属性を追加しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>情報スキーマに<TT
CLASS="STRUCTFIELD"
>interval_type</TT
>列を実装しました。(Peter Eisentraut)
       </P
><P
>以前はこの列はNULLとして読み出されていました。
       </P
></LI
><LI
><P
>情報スキーマのビュー<TT
CLASS="STRUCTNAME"
>attributes</TT
>、<TT
CLASS="STRUCTNAME"
>columns</TT
>、<TT
CLASS="STRUCTNAME"
>domains</TT
>、<TT
CLASS="STRUCTNAME"
>element_types</TT
>で、照合順序に関連した列を実装しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>情報スキーマのビュー<TT
CLASS="STRUCTNAME"
>table_privileges</TT
>で<TT
CLASS="STRUCTFIELD"
>with_hierarchy</TT
>列を実装しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>情報スキーマでシーケンスの<TT
CLASS="LITERAL"
>USAGE</TT
>権限の表示を追加しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>情報スキーマがデフォルト権限を表示するようにしました。(Peter Eisentraut)
       </P
><P
>以前は空でないデフォルト権限はビューに表示されませんでした。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143281"
>E.50.3.9. サーバサイド言語</A
></H3
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143283"
>E.50.3.9.1. <A
HREF="plpgsql.html"
>PL/pgSQL</A
>サーバサイド言語</A
></H4
><P
></P
><UL
><LI
><P
>PL/pgSQLのカーソルの<TT
CLASS="COMMAND"
>OPEN</TT
>コマンドで、パラメータを名前で指定できるようにしました。(Yeb Havinga)
       </P
></LI
><LI
><P
>PL/pgSQLで例外情報を取得する<TT
CLASS="COMMAND"
>GET STACKED DIAGNOSTICS</TT
>コマンドを追加しました。(Pavel Stehule)
       </P
></LI
><LI
><P
>型情報をキャッシュすることにより、PL/pgSQLでの配列の代入を高速化しました。(Pavel Stehule)
       </P
></LI
><LI
><P
>PL/pgSQLで<TT
CLASS="LITERAL"
>ELSIF</TT
>句が長く続いているときのパフォーマンスとメモリ消費を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
>PL/pgSQLのエラーメッセージで、関数の名前だけでなくシグネチャも出力するようにしました。(Pavel Stehule)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143300"
>E.50.3.9.2. <A
HREF="plpython.html"
>PL/Python</A
>サーバサイド言語</A
></H4
><P
></P
><UL
><LI
><P
>PL/Pythonに<ACRONYM
CLASS="ACRONYM"
>SPI</ACRONYM
>カーソルのサポートを追加しました。(Jan Urbanski)
       </P
><P
>これにより、PL/Pythonが結果集合の一部だけを読むことができるようになります。
       </P
></LI
><LI
><P
>PL/Pythonに結果メタデータ関数を追加しました。(Peter Eisentraut)
       </P
><P
>具体的には、結果オブジェクト関数<TT
CLASS="LITERAL"
>.colnames</TT
>、<TT
CLASS="LITERAL"
>.coltypes</TT
>、<TT
CLASS="LITERAL"
>.coltypmods</TT
>が追加されました。
       </P
></LI
><LI
><P
>Python 2.2をサポートから外しました。(Peter Eisentraut)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143316"
>E.50.3.9.3. <A
HREF="xfunc-sql.html"
>SQL</A
>サーバサイド言語</A
></H4
><P
></P
><UL
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>言語による関数で、パラメータを名前で参照できるようにしました。(Matthew Draper)
       </P
><P
>これを使うには、関数の引数を名前にして、その引数名を<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>関数の本体から参照するだけで良いです。
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143325"
>E.50.3.10. クライアントアプリケーション</A
></H3
><P
></P
><UL
><LI
><P
><A
HREF="app-initdb.html"
><SPAN
CLASS="APPLICATION"
>initdb</SPAN
></A
>のオプションに、<TT
CLASS="OPTION"
>--auth-local</TT
>と<TT
CLASS="OPTION"
>--auth-host</TT
>を追加しました。(Peter Eisentraut)
       </P
><P
>これにより、<TT
CLASS="FILENAME"
>pg_hba.conf</TT
>の認証設定で、<TT
CLASS="LITERAL"
>local</TT
>と<TT
CLASS="LITERAL"
>host</TT
>を別々に設定することができます。
<TT
CLASS="OPTION"
>--auth</TT
>は引き続き、両方の設定を行います。
       </P
></LI
><LI
><P
><A
HREF="app-createuser.html"
><SPAN
CLASS="APPLICATION"
>createuser</SPAN
></A
>で、レプリケーションの権限を設定するために、<TT
CLASS="OPTION"
>--replication</TT
>/<TT
CLASS="OPTION"
>--no-replication</TT
>のフラグを追加しました。(Fujii Masao)
       </P
></LI
><LI
><P
><A
HREF="app-dropdb.html"
><SPAN
CLASS="APPLICATION"
>dropdb</SPAN
></A
>と<A
HREF="app-dropuser.html"
><SPAN
CLASS="APPLICATION"
>dropuser</SPAN
></A
>に<TT
CLASS="OPTION"
>--if-exists</TT
>オプションを追加しました。(Josh Kupershmidt)
       </P
></LI
><LI
><P
>コマンドラインツールが接続先のデータベースを指定でき、また<TT
CLASS="LITERAL"
>postgres</TT
>データベースへの接続に失敗した時は、<TT
CLASS="LITERAL"
>template1</TT
>に接続するようにしました。(Robert Haas)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143356"
>E.50.3.10.1. <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
>端末の幅に合わせて、出力を自動的に拡張する表示モードを追加しました。(Peter Eisentraut)
       </P
><P
><TT
CLASS="COMMAND"
>\x</TT
>コマンドに<TT
CLASS="LITERAL"
>auto</TT
>オプションを追加しました。
通常の出力が画面の幅より広いとき、拡張モードに切り替えます。
       </P
></LI
><LI
><P
>起動に使われたファイルのディレクトリからの相対パス名でスクリプトファイルを指定できるようにしました。(Gurjeet Singh)
       </P
><P
>これは新しいコマンド<TT
CLASS="COMMAND"
>\ir</TT
>で実行できます。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の変数名で、非<ACRONYM
CLASS="ACRONYM"
>ASCII</ACRONYM
>文字の使用をサポートしました。(Tom Lane)
       </P
></LI
><LI
><P
>特定メジャーバージョン用の<TT
CLASS="FILENAME"
>.psqlrc</TT
>ファイルをサポートしました。(Bruce Momjian)
       </P
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>は以前から、特定マイナーバージョン用の<TT
CLASS="FILENAME"
>.psqlrc</TT
>ファイルはサポートしていました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>の履歴ファイル、起動ファイルの位置について、環境変数で優先指定できるようにしました。(Andrew Dunstan)
       </P
><P
><TT
CLASS="ENVAR"
>PSQL_HISTORY</TT
>と<TT
CLASS="ENVAR"
>PSQLRC</TT
>が設定されていれば、そこで指定されたファイル名が使われます。
       </P
></LI
><LI
><P
>子プロセスに渡される環境変数を変更できる<TT
CLASS="COMMAND"
>\setenv</TT
>コマンドを追加しました。(Andrew Dunstan)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>のエディタの一時ファイルで<TT
CLASS="FILENAME"
>.sql</TT
>を拡張子に使うようにしました。(Peter Eisentraut)
       </P
><P
>拡張子によって動作が変わるエディタは、これにより正しいモードを選択できるようになります。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>で、0バイトのフィールド区切り文字およびレコード区切り文字を使えるようにしました。(Peter Eisentraut)
       </P
><P
>様々なシェルツール(例：<SPAN
CLASS="APPLICATION"
>find</SPAN
>)で、0バイトの区切り文字(NUL)を使うことができます。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>\timing</TT
>オプションで、失敗した問い合わせについても時間を表示するようにしました。(Magnus Hagander)
       </P
><P
>以前は、成功した問い合わせについてのみ時間が表示されていました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>による<TT
CLASS="COMMAND"
>\copy</TT
>とSQLの<TT
CLASS="COMMAND"
>COPY</TT
>の処理を統一し、また厳格にしました。(Noah Misch)
       </P
><P
>この修正により、失敗した時の動作が、より予期できるものになり、また、<TT
CLASS="COMMAND"
>\set ON_ERROR_ROLLBACK</TT
>を尊重したものになります。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143410"
>E.50.3.10.2. 情報表示コマンド</A
></H4
><P
></P
><UL
><LI
><P
>シーケンスについての<TT
CLASS="COMMAND"
>\d</TT
>で、シーケンスを所有するテーブルと列の名前を表示するようにしました。(Magnus Hagander)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>\d+</TT
>で列の統計対象を表示するようにしました。(Magnus Hagander)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>\du</TT
>でロールのパスワードの有効期限日を表示するようにしました。(Fabr&iacute;zio de Royes Mello)
       </P
></LI
><LI
><P
>キャスト、変換、ドメイン、言語についてコメントを表示するようにしました。(Josh Kupershmidt)
       </P
><P
>これは、それぞれ<TT
CLASS="COMMAND"
>\dC+</TT
>、<TT
CLASS="COMMAND"
>\dc+</TT
>、<TT
CLASS="COMMAND"
>\dD+</TT
>、<TT
CLASS="COMMAND"
>\dL</TT
>の出力に含まれます。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>/<ACRONYM
CLASS="ACRONYM"
>MED</ACRONYM
>オブジェクトのコメントを表示するようにしました。(Josh Kupershmidt)
       </P
><P
>これは、外部サーバ、外部テーブル、外部データラッパのそれぞれについて、<TT
CLASS="COMMAND"
>\des+</TT
>、<TT
CLASS="COMMAND"
>\det+</TT
>、<TT
CLASS="COMMAND"
>\dew+</TT
>の出力に含まれます。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>\dd</TT
>を変更し、その種のオブジェクト型専用のバックスラッシュコマンドを持たないものについてのみコメントを表示するようにしました。(Josh Kupershmidt)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143440"
>E.50.3.10.3. タブ補完</A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>psql</SPAN
>のタブ補完で、<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>のキーワードについては、新しい<A
HREF="app-psql.html#APP-PSQL-VARIABLES"
><TT
CLASS="LITERAL"
>COMP_KEYWORD_CASE</TT
></A
>の設定に基づいて、大文字あるいは小文字で補完するようにしました。(Peter Eisentraut)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>EXECUTE</TT
>についてタブ補完ができるようにしました。(Andreas Karlsson)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>GRANT</TT
>/<TT
CLASS="COMMAND"
>REVOKE</TT
>でのロールの参照についてタブ補完ができるようにしました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>ファイル名のタブ補完で、必要なら引用符を補完できるようにしました。(Noah Misch)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>TABLE</TT
>についてのタブ補完で、ビューも含むように変更しました。(Magnus Hagander)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143461"
>E.50.3.10.4. <A
HREF="app-pgdump.html"
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>に<TT
CLASS="OPTION"
>--exclude-table-data</TT
>オプションを追加しました。(Andrew Dunstan)
       </P
><P
>これにより、テーブルの定義はダンプするがそのデータは出力しない、ということをテーブル毎に指定できます。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>と<SPAN
CLASS="APPLICATION"
>pg_restore</SPAN
>に<TT
CLASS="OPTION"
>--section</TT
>オプションを追加しました。(Andrew Dunstan)
       </P
><P
>有効な値は<TT
CLASS="LITERAL"
>pre-data</TT
>、<TT
CLASS="LITERAL"
>data</TT
>、<TT
CLASS="LITERAL"
>post-data</TT
>です。
このオプションは複数回指定することで、2つ以上のセクションを選択することができます。
       </P
></LI
><LI
><P
><A
HREF="app-pg-dumpall.html"
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
></A
>で、まずすべてのロールについてダンプし、それからロールのすべての構成設定についてダンプするようにしました。(Phil Sorber)
       </P
><P
>これにより、ロールの構成設定が他のロールを参照する場合でもエラーを発生しなくなります。
       </P
></LI
><LI
><P
>新しいクラスタに<TT
CLASS="LITERAL"
>postgres</TT
>データベースが存在しない場合でも、<SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>がエラーを起こさないようにしました。(Robert Haas)
       </P
></LI
><LI
><P
>外部サーバのユーザマッピングをユーザ名の順にダンプするようにしました。(Peter Eisentraut)
       </P
><P
>これにより、予測可能なダンプファイルが生成されます。
       </P
></LI
><LI
><P
>演算子を予測可能な順序でダンプするようにしました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>拡張設定テーブルが<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>でダンプされる時の規則を厳格にしました。 (Tom Lane)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>が、より役に立つ依存性の情報を吐き出すようにしました。(Tom Lane)
       </P
><P
>アーカイブ形式のダンプに含まれる依存性のリンクは、ダンプ内のどこにも現れないオブジェクトを参照することが多く、以前は非常に限られた使い方しかできませんでした。
これからはダンプされるオブジェクトの間の実際の依存性(間接的なこともある)を出力します。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>が多くのデータベースオブジェクトをダンプするときの性能を向上しました。(Tom Lane)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143504"
>E.50.3.11. <A
HREF="libpq.html"
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
></A
></A
></H3
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
>の接続文字列について<A
HREF="libpq-connect.html#LIBPQ-CONNSTRING"
><ACRONYM
CLASS="ACRONYM"
>URI</ACRONYM
></A
>の形式にすることを可能にしました。(Alexander Shulgin)
       </P
><P
>その構文は<TT
CLASS="LITERAL"
>postgres://</TT
>で始まります。
これにより、データベース接続を表現するURIについて、アプリケーションが独自のパーサを実装しなくても済むようになります。
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>圧縮を使用不可にする<A
HREF="libpq-connect.html#LIBPQ-CONNECT-SSLCOMPRESSION"
>接続オプション</A
>を追加しました。(Laurenz Albe)
       </P
><P
>高速なネットワークで<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>圧縮によるオーバーヘッドをなくすために使うことができます。
       </P
></LI
><LI
><P
>大きな結果集合をより良く処理できるように、<A
HREF="libpq-single-row-mode.html"
>1行処理モード</A
>を追加しました。(Kyotaro Horiguchi、Marko Kreen)
       </P
><P
>以前は、<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>は必ず問い合わせ結果の全体をメモリに取り込んでから、アプリケーションに返していました。
       </P
></LI
><LI
><P
>関数<CODE
CLASS="FUNCTION"
>PQconnectdbParams</CODE
>、<CODE
CLASS="FUNCTION"
>PQconnectStartParams</CODE
>、<CODE
CLASS="FUNCTION"
>PQpingParams</CODE
>の宣言に<TT
CLASS="LITERAL"
>const</TT
>修飾子を追加しました。(Lionel Elie Mamane)
       </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>.pgpass</TT
>ファイルで、パスワードフィールドにエスケープ文字を含められるようにしました。(Robert Haas)
       </P
></LI
><LI
><P
>プロセスを終了させる必要があるとき、ライブラリ関数が<CODE
CLASS="FUNCTION"
>exit()</CODE
>ではなく、<CODE
CLASS="FUNCTION"
>abort()</CODE
>を使うようにしました。(Peter Eisentraut)
       </P
><P
>この選択は、プログラムが使う通常の終了コードと競合せず、また呼び出し側が捕捉できるシグナルを生成します。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143541"
>E.50.3.12. ソースコード</A
></H3
><P
></P
><UL
><LI
><P
>使われていないポートを削除しました。(Peter Eisentraut)
       </P
><P
>以下のプラットフォームはサポートされなくなりました。
dgux、nextstep、sunos4、svr4、ultrix4、univel、bsdi。
       </P
></LI
><LI
><P
><A
HREF="install-windows.html"
>MS Visual Studio 2010</A
>でのビルドをサポートしました。(Brar Piening)
       </P
></LI
><LI
><P
>MinGW-w64の32ビットコンパイラでのコンパイルを可能にしました。(Lars Kanis)
       </P
></LI
><LI
><P
>インストール時に<TT
CLASS="FILENAME"
>plpgsql.h</TT
>を<TT
CLASS="FILENAME"
>include/server</TT
>にインストールするようにしました。(Heikki Linnakangas)
       </P
></LI
><LI
><P
>ラッチ機構にpostmasterの終了の検知を含めるよう改善しました。(Peter Geoghegan、Heikki Linnakangas、Tom Lane)
       </P
><P
>これにより、バックグラウンドプロセスが以前はイベントのポーリングのために再開しなければならなかった主要な理由の1つが取り除かれます。
       </P
></LI
><LI
><P
>Cの柔軟な配列のメンバーを(サポートされていれば)使うようにしました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>同時トランザクションのリグレッションテスト(<SPAN
CLASS="APPLICATION"
>isolationtester</SPAN
>)を改善しました。(Noah Misch)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>thread_test</SPAN
>を修正し、テストファイルを<TT
CLASS="FILENAME"
>/tmp</TT
>でなく、カレントディレクトリに作成するようにしました。(Bruce Momjian)
       </P
></LI
><LI
><P
>flexとbisonの警告およびエラー報告を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
>メモリバリアのサポートを追加しました。(Robert Haas)
       </P
><P
>これは、現在は使用されていません。
       </P
></LI
><LI
><P
>pgindentを修正し、typedefファイルを使うようにしました。(Bruce Momjian)
       </P
></LI
><LI
><P
>サーバのログに送信されることになっているメッセージを処理するフックを追加しました。(Martin Pihlak)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>DROP</TT
>コマンドに、オブジェクトアクセスのフックを追加しました。(KaiGai Kohei)
       </P
></LI
><LI
><P
>いくつかのオブジェクト型について<TT
CLASS="COMMAND"
>DROP</TT
>の処理を一つにまとめました。(KaiGai Kohei)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>テストスイートを追加しました。(Peter Eisentraut)
       </P
></LI
><LI
><P
>正規表現のコードを<ACRONYM
CLASS="ACRONYM"
>TCL</ACRONYM
> 8.5.11と同期し、内部処理を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>CRC</ACRONYM
>テーブルをlibpgportに移し、それを別のインクルードファイルで提供するようにしました。(Daniel Farina)
       </P
></LI
><LI
><P
>メジャーバージョンのリリースノートの作成で使えるように、<SPAN
CLASS="APPLICATION"
>git_changelog</SPAN
>のオプションを追加しました。(Bruce Momjian)
       </P
></LI
><LI
><P
>Linuxの<TT
CLASS="FILENAME"
>/proc/self/oom_score_adj</TT
> APIをサポートしました。(Tom Lane)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143598"
>E.50.3.13. 追加モジュール</A
></H3
><P
></P
><UL
><LI
><P
>libpqの新しい1行処理モードを使うことで、<A
HREF="dblink.html"
>dblink</A
>の性能を向上しました。(Kyotaro Horiguchi、Marko Kreen)
       </P
><P
>この改善は、<CODE
CLASS="FUNCTION"
>dblink_send_query()</CODE
>/<CODE
CLASS="FUNCTION"
>dblink_get_result()</CODE
>には適用されません。
       </P
></LI
><LI
><P
><A
HREF="file-fdw.html"
>file_fdw</A
>で<TT
CLASS="LITERAL"
>force_not_null</TT
>オプションをサポートしました。(Shigeru Hanada)
       </P
></LI
><LI
><P
><A
HREF="pgarchivecleanup.html"
><SPAN
CLASS="APPLICATION"
>pg_archivecleanup</SPAN
></A
>の試運転モードを実装しました。(Gabriele Bartolini)
       </P
><P
>これは、削除されることになるファイルの名前を出力するだけです。
       </P
></LI
><LI
><P
><A
HREF="pgbench.html"
>pgbench</A
>に新しいスイッチ<TT
CLASS="OPTION"
>--unlogged-tables</TT
>、<TT
CLASS="OPTION"
>--tablespace</TT
>、<TT
CLASS="OPTION"
>--index-tablespace</TT
>を追加しました。(Robert Haas)
       </P
></LI
><LI
><P
><A
HREF="pgtestfsync.html"
><SPAN
CLASS="APPLICATION"
>pg_test_fsync</SPAN
></A
>が、一定回数のサイクル内ではなく、一定の時間内についてテストするように変更しました。(Bruce Momjian)
       </P
><P
><TT
CLASS="OPTION"
>-o</TT
>/サイクル数、のオプションを削除し、<TT
CLASS="OPTION"
>-s</TT
>/秒数、のオプションを追加しました。
       </P
></LI
><LI
><P
>時計の単調性と時間測定のオーバーヘッドを測定するユーティリティ、<A
HREF="pgtesttiming.html"
><SPAN
CLASS="APPLICATION"
>pg_test_timing</SPAN
></A
>を追加しました。(Ants Aasma、Greg Smith)
       </P
></LI
><LI
><P
><A
HREF="tcn.html"
>tcn</A
>(Triggered Change Notification、トリガによる変更の通知)モジュールを追加しました。
これはテーブルの変更について、<TT
CLASS="COMMAND"
>NOTIFY</TT
>イベントを生成します。(Kevin Grittner)
       </P
></LI
></UL
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143637"
>E.50.3.13.1. <A
HREF="pgupgrade.html"
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>の環境変数を変更しました。(Bruce Momjian)
       </P
><P
>data、bin、portの環境変数名を<TT
CLASS="LITERAL"
>PG</TT
>で始まるものに変更しました。
<TT
CLASS="ENVAR"
>PGPORT</TT
>の代わりに<TT
CLASS="ENVAR"
>PGPORTOLD</TT
>/<TT
CLASS="ENVAR"
>PGPORTNEW</TT
>を使うようにしました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>のログ出力とエラー報告について大幅に見直しました。(Bruce Momjian)
       </P
><P
>追記書き込みのみのファイルを4つ作り、成功したときはそれらを削除するようにしました。
これらのファイルを無条件に残す、<TT
CLASS="OPTION"
>-r</TT
>/<TT
CLASS="OPTION"
>--retain</TT
>オプションを追加しました。
<SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>の<TT
CLASS="OPTION"
>-g</TT
>/<TT
CLASS="OPTION"
>-G</TT
>/<TT
CLASS="OPTION"
>-l</TT
>オプションは不要なので削除しました。
また、ログファイルのパーミッションを厳しくしました。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>で、より正確なオプティマイザ用統計情報を少しずつ生成するスクリプトを作成するようにしました。(Bruce Momjian)
       </P
><P
>これにより、アップグレード後に最小限のクラスタの統計情報を生成するのに要する時間を削減できます。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>で、<TT
CLASS="LITERAL"
>postgres</TT
>データベースのない古いクラスタをアップグレードできるようにしました。(Bruce Momjian)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>で、一部の古い、あるいは新しいデータベースが見つからなくても、それらが空であれば処理できるようにしました。(Bruce Momjian)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>で、設定ファイルだけがディレクトリにインストールされている場合を処理できるようにしました。(Bruce Momjian)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>でサーバーにパラメータを渡す<TT
CLASS="OPTION"
>-o</TT
>/<TT
CLASS="OPTION"
>-O</TT
>オプションを追加しました。(Bruce Momjian)
       </P
><P
>これは、設定ファイルだけがディレクトリにインストールされている場合に便利です。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>がデフォルトでポート50432を使うように変更しました。(Bruce Momjian)
       </P
><P
>これにより、アップグレード中にクライアントが意図せず接続してしまうのを防ぐことができます。
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_upgrade</SPAN
>におけるクラスタのロックを削減しました。(Bruce Momjian)
       </P
><P
>具体的には、リンクモードが利用されている場合に古いクラスタをロックするだけで、それをスキーマがリストアされた直後に実行します。
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143688"
>E.50.3.13.2. <A
HREF="pgstatstatements.html"
><SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
></A
></A
></H4
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
>で、SQLテキストの正規化により、類似した問い合わせを1つにまとめられるようにしました。(Peter Geoghegan、Tom Lane)
       </P
><P
>パラメータ化されていないSQLを使うアプリケーションのユーザは、ログファイルの詳細な分析をしなくても、問い合わせのパフォーマンスを監視できるようになります。
       </P
></LI
><LI
><P
>ダーティーにされたブロック数、書き込まれたブロック数、読み書きの回数を<SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
>に追加しました。(Robert Haas、Ants Aasma)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_stat_statements</SPAN
>が<TT
CLASS="COMMAND"
>PREPARE</TT
>および<TT
CLASS="COMMAND"
>EXECUTE</TT
>コマンドを二重に数えないようにしました。(Tom Lane)
       </P
></LI
></UL
></DIV
><DIV
CLASS="SECT4"
><H4
CLASS="SECT4"
><A
NAME="AEN143705"
>E.50.3.13.3. <A
HREF="sepgsql.html"
>sepgsql</A
></A
></H4
><P
></P
><UL
><LI
><P
>グローバルオブジェクトについて<TT
CLASS="LITERAL"
>SECURITY LABEL</TT
>をサポートしました。(KaiGai Kohei、Robert Haas)
       </P
><P
>具体的には、データベース、テーブル空間、ロールについてセキュリティラベルを追加しました。
       </P
></LI
><LI
><P
>sepgsqlがデータベースのラベルを尊重するようにしました。(KaiGai Kohei)
       </P
></LI
><LI
><P
>様々なオブジェクトの作成にあたり、sepgsqlのパーミッションの検査を行うようにしました。(KaiGai Kohei)
       </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>sepgsql_setcon()</CODE
>およびそれに関連した関数を追加しました。
これらはsepgsqlのセキュリティドメインを制御します。(KaiGai Kohei)
       </P
></LI
><LI
><P
>パフォーマンスを向上するため、sepgsqlにユーザ空間のアクセスのキャッシュを追加しました。(KaiGai Kohei)
       </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN143722"
>E.50.3.14. 文書</A
></H3
><P
></P
><UL
><LI
><P
>オプションで、Webサイトのスタイルシートを使ってHTML文書をビルドするルールを追加しました。(Magnus Hagander)
       </P
><P
><TT
CLASS="COMMAND"
>gmake STYLE=website draft</TT
>を使ってください。
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>EXPLAIN</TT
>の文書を改善しました。(Tom Lane)
       </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
>のようなコマンドラインツールを使うときに、ユーザ名やデータベース名が二重引用符付きとして維持されることを文書に記述しました。(Bruce Momjian)
       </P
></LI
><LI
><P
>MD5認証でクライアントによって返される実際の文字列について文書に記述しました。(Cyan Ogilvie)
       </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE TEMP TABLE</TT
>で<TT
CLASS="LITERAL"
>GLOBAL</TT
>と<TT
CLASS="LITERAL"
>LOCAL</TT
>の利用を勧められないものとしました。(Noah Misch)
       </P
><P
><SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>では長い間、これらのキーワードを意味のないものとして扱って来ましたし、今後もそのようにし続けます。
しかし将来、それらは標準SQLが意図しているものになるかも知れませんので、アプリケーションはそれらを使わないようにすべきです。
       </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-9-2-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-9-1-23.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース9.2.1</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース9.1.23</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>