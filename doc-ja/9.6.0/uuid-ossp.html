<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>uuid-ossp</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0文書"
HREF="index.html"><LINK
REL="UP"
TITLE="追加で提供されるモジュール"
HREF="contrib.html"><LINK
REL="PREVIOUS"
TITLE="unaccent"
HREF="unaccent.html"><LINK
REL="NEXT"
TITLE="xml2"
HREF="xml2.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2016-10-20T00:12:21"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="unaccent"
HREF="unaccent.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="contrib.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 F. 追加で提供されるモジュール</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="xml2"
HREF="xml2.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="UUID-OSSP"
>F.45. uuid-ossp</A
></H1
><P
><TT
CLASS="FILENAME"
>uuid-ossp</TT
>モジュールは複数の標準的なアルゴリズムの1つを使用して汎用一意識別子（UUID）を生成する関数を提供します。
また、特殊なUUID定数を生成する関数も提供します。
 </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182301"
>F.45.1. <TT
CLASS="LITERAL"
>uuid-ossp</TT
>関数</A
></H2
><P
>UUIDを生成するために利用できる関数を<A
HREF="uuid-ossp.html#UUID-OSSP-FUNCTIONS"
>表F-33</A
>に示します。関連する標準ITU-T Rec. X.667、ISO/IEC 9834-8:2005、RFC 4122はUUIDの生成に関して、バージョン番号1、3、4、5で識別される4つのアルゴリズムを規定します。
（バージョン2アルゴリズムは存在しません。）
これらのアルゴリズムのそれぞれは、異なるアプリケーション群に適切でしょう。
  </P
><DIV
CLASS="TABLE"
><A
NAME="UUID-OSSP-FUNCTIONS"
></A
><P
><B
>表 F-33. UUID生成用関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>関数</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><CODE
CLASS="FUNCTION"
>uuid_generate_v1()</CODE
></TD
><TD
>       <P
>この関数はバージョン1 UUIDを生成します。
これはコンピュータのMACアドレスとタイムスタンプが含まれます。
この種のUUIDは識別子を生成したコンピュータを識別できる情報や生成した時刻をあばくことができますので、ある種のセキュリティに注意すべきアプリケーションでは適しません。
       </P
>
      </TD
></TR
><TR
><TD
><CODE
CLASS="FUNCTION"
>uuid_generate_v1mc()</CODE
></TD
><TD
>       <P
>この関数は、コンピュータの実MACアドレスではなくランダムなマルチキャストMACアドレスを使用して、バージョン1 UUIDを作成します。
       </P
>
      </TD
></TR
><TR
><TD
><CODE
CLASS="FUNCTION"
>uuid_generate_v3(namespace uuid, name text)</CODE
></TD
><TD
>       <P
>この関数は、入力で指定されたnameを使用して、与えられた名前空間でバージョン3 UUIDを生成します。
名前空間は、<A
HREF="uuid-ossp.html#UUID-OSSP-CONSTANTS"
>表F-34</A
>で示す <CODE
CLASS="FUNCTION"
>uuid_ns_*()</CODE
>関数で生成される特殊な定数の1つでなければなりません。(理論上これは何らかのUUIDになります。)
nameは選択された名前空間内の識別子です。
       </P
>

       <P
>例えば以下の様になります。

</P><PRE
CLASS="PROGRAMLISTING"
>SELECT uuid_generate_v3(uuid_ns_url(), 'http://www.postgresql.org');</PRE
><P>

nameパラメータはMD5でハッシュ化されます。
このため、生成されたUUIDから平文が分かることはありません。
この方法によるUUIDの生成は不規則性はなく、また、環境に依存する要素もないため、再度生成されます。
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_generate_v4()</TT
></TD
><TD
>       <P
>この関数はバージョン4 UUIDを生成します。
これは完全にランダムな数から生成されます。
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_generate_v5(namespace uuid, name text)</TT
></TD
><TD
>       <P
>この関数はバージョン5 UUIDを生成します。
バージョン3 UUIDと似ていますが、ハッシュ方式としてSHA-1を使用することが異なります。
SHA-1がMD5より安全であることから、バージョン5はバージョン3に比べて好まれるはずです。
       </P
>
      </TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="TABLE"
><A
NAME="UUID-OSSP-CONSTANTS"
></A
><P
><B
>表 F-34. UUID定数を返す関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_nil()</TT
></TD
><TD
>       <P
><SPAN
CLASS="QUOTE"
>"nil"</SPAN
> UUID定数です。
これは実際のUUIDになることはありません。
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_ns_dns()</TT
></TD
><TD
>       <P
>DNS名前空間をUUIDに選定した定数です。
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_ns_url()</TT
></TD
><TD
>       <P
>URL名前空間をUUIDに選定した定数です。
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_ns_oid()</TT
></TD
><TD
>       <P
>ISOオブジェクト識別子（OID）をUUIDに選定した定数です。
（これはASN.1のOIDに関するもので、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>で使われるOIDとは関係ありません。）
       </P
>
      </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uuid_ns_x500()</TT
></TD
><TD
>       <P
>X.500区分名（DN）をUIDに選定した定数です。
       </P
>
      </TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182380"
>F.45.2. <TT
CLASS="FILENAME"
>uuid-ossp</TT
>の構築</A
></H2
><P
>歴史的にこのモジュールは、モジュールの名前の由来となったOSSP UUIDライブラリに依存していました。
OSSP UUIDライブラリはまだ<A
HREF="http://www.ossp.org/pkg/lib/uuid/"
TARGET="_top"
>http://www.ossp.org/pkg/lib/uuid/</A
>にありますが、あまりよく維持されておらず、より新しいプラットフォームへ移植することがますます困難になってきています。
<TT
CLASS="FILENAME"
>uuid-ossp</TT
>は今やいくつかのプラットフォームではOSSPライブラリなしで構築できます。
FreeBSD、NetBSD、その他のBSDから派生したプラットフォームでは、適切なUUID生成関数がコア<TT
CLASS="FILENAME"
>libc</TT
>ライブラリに含まれています。
Linux、OS X、その他のプラットフォームでは、適切な関数が<TT
CLASS="FILENAME"
>libuuid</TT
>ライブラリで提供されており、(現在のLinuxでは<TT
CLASS="LITERAL"
>util-linux-ng</TT
>の一部と考えられていますが)そのライブラリは<TT
CLASS="LITERAL"
>e2fsprogs</TT
>プロジェクトに由来します。
<TT
CLASS="FILENAME"
>configure</TT
>を実行する時に、BSD関数を使うのなら<TT
CLASS="OPTION"
>--with-uuid=bsd</TT
>を、<TT
CLASS="LITERAL"
>e2fsprogs</TT
>の<TT
CLASS="FILENAME"
>libuuid</TT
>を使うのなら<TT
CLASS="OPTION"
>--with-uuid=e2fs</TT
>を、OSSP UUIDライブラリを使うのなら<TT
CLASS="OPTION"
>--with-uuid=ossp</TT
>を指定してください。
あるマシンではこのライブラリのうち二つ以上が利用可能かもしれませんので、<TT
CLASS="FILENAME"
>configure</TT
>は自動的に一つを選びません。
  </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>注意: </B
>ランダムに生成された(バージョン4)UUIDのみが必要な場合には、代わりに<A
HREF="pgcrypto.html"
>pgcrypto</A
>モジュールの<CODE
CLASS="FUNCTION"
>gen_random_uuid()</CODE
>を利用すること検討してください。
   </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN182401"
>F.45.3. 作者</A
></H2
><P
>   Peter Eisentraut <CODE
CLASS="EMAIL"
>&#60;<A
HREF="mailto:peter_e@gmx.net"
>peter_e@gmx.net</A
>&#62;</CODE
>
  </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="unaccent.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="xml2.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>unaccent</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="contrib.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>xml2</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>