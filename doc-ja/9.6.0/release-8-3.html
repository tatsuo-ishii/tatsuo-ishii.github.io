<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース8.3</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.0文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース8.3.1"
HREF="release-8-3-1.html"><LINK
REL="NEXT"
TITLE="リリース8.2.23"
HREF="release-8-2-23.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2016-10-20T00:12:21"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.0文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース8.3.1"
HREF="release-8-3-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース8.2.23"
HREF="release-8-2-23.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-8-3"
>E.145. リリース8.3</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>リリース日: </B
>2008-02-04</P
></BLOCKQUOTE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN159331"
>E.145.1. 概要</A
></H2
><P
>重大な新機能と性能向上を伴うこのリリースは、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>を大きく飛躍させたものと言えます。
これは開発速度が劇的に速くなったコミュニティの成長によりなされました。
このリリースは以下の主要機能を追加します。
   </P
><P
></P
><UL
><LI
><P
>全文検索がコアデータベースシステムに統合されました。
     </P
></LI
><LI
><P
>SQL/XML標準をサポートしました。これに伴い、新しい演算子と<TT
CLASS="TYPE"
>XML</TT
>データ型が含められました。
     </P
></LI
><LI
><P
>列挙データ型（<TT
CLASS="TYPE"
>ENUM</TT
>）
     </P
></LI
><LI
><P
>複合型の配列
     </P
></LI
><LI
><P
>汎用一意識別子（<TT
CLASS="TYPE"
>UUID</TT
>）データ型
     </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>NULL</TT
>のソートを先にするか後にするかに関する制御を追加
     </P
></LI
><LI
><P
>更新可能カーソル
     </P
></LI
><LI
><P
>サーバ設定パラメータが関数単位で設定可能になりました。
     </P
></LI
><LI
><P
>ユーザ定義型が型修飾子を持つことができるようになりました。
     </P
></LI
><LI
><P
>テーブル定義の変更時または統計情報の更新時における、キャッシュされた問い合わせの自動計画再作成
     </P
></LI
><LI
><P
>ログ処理および統計情報収集における多くの改良
     </P
></LI
><LI
><P
>Windowsにおける認証のためのセキュリティサービスプロバイダインタフェース（<ACRONYM
CLASS="ACRONYM"
>SSPI</ACRONYM
>）のサポート
     </P
></LI
><LI
><P
>複数の同時実行autovacuumプロセスのサポート。およびその他のautovacuumの改良
     </P
></LI
><LI
><P
><SPAN
CLASS="PRODUCTNAME"
>Microsoft Visual C++</SPAN
>を使用した<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>配布物全体のコンパイルを可能にしました。
     </P
></LI
></UL
><P
>主要な性能に関する改良を以下に列挙します。
これらの改善のほとんどは自動的なものですので、ユーザによる変更や調整は不要です。
   </P
><P
></P
><UL
><LI
><P
>非同期コミットは、トランザクションコミット時のWALへの書き出しを遅延します。
     </P
></LI
><LI
><P
>各チェックポイントにおけるI/Oのピークを抑えるために、チェックポイントの書き出しをより長い時間に分散させることができます。
     </P
></LI
><LI
><P
>ヒープオンリータプル（<ACRONYM
CLASS="ACRONYM"
>HOT</ACRONYM
>）は、ほとんどの<TT
CLASS="COMMAND"
>UPDATE</TT
>と<TT
CLASS="COMMAND"
>DELETE</TT
>における領域の再利用を促進します。
     </P
></LI
><LI
><P
>ジャストインタイムのバックグラウンドライタ戦略はディスク書き出し効率を改善します。
     </P
></LI
><LI
><P
>読み取りのみのトランザクションに対して非永続的なトランザクションIDを使用することで、オーバーヘッドと<TT
CLASS="COMMAND"
>VACUUM</TT
>の必要性を削減します。
     </P
></LI
><LI
><P
>フィールド単位および行単位の格納にかかるオーバーヘッドが削減されました。
     </P
></LI
><LI
><P
>大規模なシーケンススキャンがよく使用されるキャッシュされたページを押し出さないようになりました。
     </P
></LI
><LI
><P
>同時に行われる大規模なシーケンススキャンがディスク読み取りを共有できるようになりました。
     </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>ORDER BY ... LIMIT</TT
>がソートなしで行うことができるようになりました。
     </P
></LI
></UL
><P
>上記項目は後述の節でより詳細に説明します。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN159397"
>E.145.2. バージョン8.3への移行</A
></H2
><P
>すべての過去のリリースからデータを移行する場合、<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>を使用したダンプ/リストアが必要です。
   </P
><P
>既知の非互換性を以下に示します。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159402"
>E.145.2.1. 一般</A
></H3
><P
></P
><UL
><LI
><P
>文字以外のデータ型が<TT
CLASS="TYPE"
>TEXT</TT
>への自動キャストが行われないようになりました。(Peter, Tom)
      </P
><P
>これまでは、文字以外の値が<TT
CLASS="TYPE"
>text</TT
>入力を必要とする演算子や関数に渡された場合、ほとんど（すべてではありません）の組み込みデータ型では自動的に<TT
CLASS="TYPE"
>text</TT
>にキャストされました。
これが行われなくなりました。
すべての文字以外の型で<TT
CLASS="TYPE"
>text</TT
>への明示的なキャストが必要になります。
例えば以下の式は以前は動作しました。

</P><PRE
CLASS="PROGRAMLISTING"
>substr(current_date, 1, 4)
23 LIKE '2%'</PRE
><P>

しかし、今回からそれぞれ<SPAN
CLASS="QUOTE"
>"function does not exist"</SPAN
>および<SPAN
CLASS="QUOTE"
>"operator does not exist"</SPAN
>というエラーメッセージが引き出されるようになります。
代わりに以下のように明示的なキャストを使用してください。

</P><PRE
CLASS="PROGRAMLISTING"
>substr(current_date::text, 1, 4)
23::text LIKE '2%'</PRE
><P>

（当然ですが、より冗長な<TT
CLASS="LITERAL"
>CAST()</TT
>構文を使用することも可能です。）
変更理由は、こうした自動キャストがよく思いもよらぬ動作を引き起こすためです。
過去のリリースにおけるこうした例を次に示します。
この式は受け付けられますが、想定した動作を行いません。

</P><PRE
CLASS="PROGRAMLISTING"
>current_date &lt; 2017-11-17</PRE
><P>

これは実際には日付と整数とを比較します。
これは拒絶すべきものです（このリリースでは拒絶するようになります）。
しかし、自動キャストの存在により、他に<TT
CLASS="LITERAL"
>&lt;</TT
>演算子に一致するものがなければ<TT
CLASS="LITERAL"
>text &lt; text</TT
>演算子がこの式に一致することができますので、両辺は<TT
CLASS="TYPE"
>text</TT
>にキャストされ、テキストの比較が行われます。
      </P
><P
><TT
CLASS="TYPE"
>char(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>および<TT
CLASS="TYPE"
>varchar(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>型はまだ<TT
CLASS="TYPE"
>text</TT
>に自動キャストされます。
また、<TT
CLASS="TYPE"
>text</TT
>への自動キャストはまだ連結演算子（<TT
CLASS="LITERAL"
>||</TT
>）では、少なくとも1つの入力が文字型であれば、動作します。
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>の全文検索機能がコアサーバに移りましたが、いくつか小さな構文変更があります。
      </P
><P
><TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>は互換性を保持するためのインタフェースを持つようになりました。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>ARRAY(SELECT ...)</TT
>において<TT
CLASS="COMMAND"
>SELECT</TT
>が行を返さない場合、NULLではなく空の配列を返すようになりました。
       (Tom)
      </P
></LI
><LI
><P
>基本データ型に対する配列型の名前が常にアンダースコアを基本型名称の前につけたものにならなくなりました。
      </P
><P
>古い命名規約は可能ならばまだ尊重されますが、アプリケーションのコードはこれに依存すべきではありません。
指定した型に関連付いた配列データ型を識別する際は、代わりに新しい<TT
CLASS="LITERAL"
>pg_type.typarray</TT
>列を使用してください。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>ORDER BY ... USING</TT
> <TT
CLASS="REPLACEABLE"
><I
>operator</I
></TT
>がB-tree演算子クラスで定義される小なり<TT
CLASS="REPLACEABLE"
><I
>演算子</I
></TT
>または大なり<TT
CLASS="REPLACEABLE"
><I
>演算子</I
></TT
>を使用しなければならなくなりました。
      </P
><P
>この制限は一貫性がない結果を防ぐために加えられました。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>SET LOCAL</TT
>がロールバックされない限り、最も外側のトランザクションの終わりまで永続するように変わりました。(Tom)
      </P
><P
>以前は<TT
CLASS="COMMAND"
>SET LOCAL</TT
>の効果は副トランザクションのコミット（<TT
CLASS="COMMAND"
>RELEASE SAVEPOINT</TT
>またはPL/pgSQL例外ブロックからの終了）後失われました。
      </P
></LI
><LI
><P
>トランザクションブロック内で拒絶されたコマンドが、複数文からなる問い合わせ文字列内でも拒絶されるようになりました。(Tom)
      </P
><P
>例えば<TT
CLASS="LITERAL"
>"BEGIN; DROP DATABASE; COMMIT"</TT
>は単一の問い合わせメッセージとして送信されたとしても拒絶されるようになります。
      </P
></LI
><LI
><P
>トランザクションブロック外の<TT
CLASS="COMMAND"
>ROLLBACK</TT
>が<TT
CLASS="LITERAL"
>WARNING</TT
>ではなく<TT
CLASS="LITERAL"
>NOTICE</TT
>を発行するようになりました。(Bruce)
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>NOTIFY</TT
>/<TT
CLASS="COMMAND"
>LISTEN</TT
>/<TT
CLASS="COMMAND"
>UNLISTEN</TT
>がスキーマ修飾された名前を受付ないようにしました。(Bruce)
      </P
><P
>これまではこれらのコマンドは<TT
CLASS="LITERAL"
>schema.relation</TT
>を受け付けていましたが、スキーマ部分を無視していたため、混乱を招きました。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER SEQUENCE</TT
>がシーケンスの<CODE
CLASS="FUNCTION"
>currval()</CODE
>の状態に影響を与えないようになりました。 (Tom)
      </P
></LI
><LI
><P
>外部キーはデータ型をまたがる参照においてインデックス付け可能な状態に一致しなければならなくなりました。(Tom)
      </P
><P
>これは意味的な一貫性を向上させ、また、性能に関する問題を防止する役に立ちます。
      </P
></LI
><LI
><P
>オブジェクトサイズに関する情報を閲覧する合理的な権限を持つユーザに、オブジェクトサイズに関する関数を限定します。(Tom)
      </P
><P
>例えば<CODE
CLASS="FUNCTION"
>pg_database_size()</CODE
>は、デフォルトで全員に与えられている<TT
CLASS="LITERAL"
>CONNECT</TT
>権限を要求します。
<CODE
CLASS="FUNCTION"
>pg_tablespace_size()</CODE
>はテーブル空間における<TT
CLASS="LITERAL"
>CREATE</TT
>権限を要求します。
また、テーブル空間がデータベースのデフォルトのテーブル空間である場合にも許可されます。
      </P
></LI
><LI
><P
>文書化されていない<TT
CLASS="LITERAL"
>!!=</TT
>（含まれていない）演算子を削除しました。(Tom)
      </P
><P
>こうした操作を行うには<TT
CLASS="LITERAL"
>NOT IN (SELECT ...)</TT
>が適しています。
      </P
></LI
><LI
><P
>内部用ハッシュ関数がより均一に分布するようになりました。(Tom)
      </P
><P
>アプリケーションコードが<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>内部用のハッシュ関数を使用してハッシュ値を計算し格納する場合、ハッシュ値は再生成されなければなりません。
      </P
></LI
><LI
><P
>可変長データ値の取扱いに関するCコード規約を変更しました。(Greg Stark, Tom)
      </P
><P
>新しい<CODE
CLASS="FUNCTION"
>SET_VARSIZE()</CODE
>マクロは、生成された<TT
CLASS="TYPE"
>varlena</TT
>型の長さを設定するために使用<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>しなければなりません</I
></SPAN
>。
また、より多くの状況で入力値の伸長（<SPAN
CLASS="QUOTE"
>"TOAST解除"</SPAN
>）を行う必要があるかもしれません。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>DEBUG</TT
>レベルを使用しない限り、連続アーカイブ処理がアーカイブ操作の成功の度にサーバログに報告しないようになりました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159504"
>E.145.2.2. 設定パラメータ</A
></H3
><P
></P
><UL
><LI
><P
>サーバ管理用のパラメータで多くの変更があります。
      </P
><P
><TT
CLASS="VARNAME"
>bgwriter_lru_percent</TT
>、<TT
CLASS="VARNAME"
>bgwriter_all_percent</TT
>、<TT
CLASS="VARNAME"
>bgwriter_all_maxpages</TT
>、<TT
CLASS="VARNAME"
>stats_start_collector</TT
>、<TT
CLASS="VARNAME"
>stats_reset_on_server_start</TT
>が削除されました。
<TT
CLASS="VARNAME"
>redirect_stderr</TT
>の名前が<TT
CLASS="VARNAME"
>logging_collector</TT
>になりました。
<TT
CLASS="VARNAME"
>stats_command_string</TT
>の名前が<TT
CLASS="VARNAME"
>track_activities</TT
>になりました。
<TT
CLASS="VARNAME"
>stats_block_level</TT
>と<TT
CLASS="VARNAME"
>stats_row_level</TT
>は<TT
CLASS="VARNAME"
>track_counts</TT
>にまとめられました。
<TT
CLASS="VARNAME"
>archive_mode</TT
>という新しい論理型の設定パラメータはアーカイブ処理を制御します。
Autovacuumのデフォルト設定が変わりました。
      </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>stats_start_collector</TT
>パラメータが削除されました。(Tom)
      </P
><P
><ACRONYM
CLASS="ACRONYM"
>UDP</ACRONYM
>ソケットの作成に失敗しない限りコレクタプロセスを常に起動するようになりました。
      </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>stats_reset_on_server_start</TT
>パラメータが削除されました。(Tom)
      </P
><P
>この目的に<CODE
CLASS="FUNCTION"
>pg_stat_reset()</CODE
>を使用することができますので、このパラメータは削除されました。
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>postgresql.conf</TT
>でパラメータをコメントにすることで、そのデフォルト値に戻るようにしました。(Joachim Wieland)
      </P
><P
>これまではコメント化された項目は、次にサーバを再起動するまで、その値は変わらずに残りました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159537"
>E.145.2.3. 文字符号化方式</A
></H3
><P
></P
><UL
><LI
><P
>符号化が無効なデータに対して、より多くの検査を追加しました。(Andrew)
      </P
><P
>この変更は、バックスラッシュでエスケープされた文字列リテラル処理と<TT
CLASS="COMMAND"
>COPY</TT
>のエスケープ処理に存在したいくつかの抜け穴を塞ぐものです。
これで、結果が無効なマルチバイト文字を作成したかどうか、エスケープを解除した文字列を再度検査するようになりました。
      </P
></LI
><LI
><P
>サーバのロケール設定と矛盾するデータベース符号化方式を不許可としました。(Tom)
      </P
><P
>多くのプラットフォームでは、<TT
CLASS="LITERAL"
>C</TT
>ロケールがすべてのデータベース符号化方式で動作する唯一のロケールです。
他のロケール設定は特定の符号化方式を意味することになり、データベース符号化方式と多少異なると、誤動作します。
（典型的な症例として、間違ったテキストソート順や<CODE
CLASS="FUNCTION"
>upper()</CODE
>もしくは<CODE
CLASS="FUNCTION"
>lower()</CODE
>の誤動作があります。）
サーバは互換性が無い符号化方式でデータベースを作成することを拒絶するようになりました。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>chr()</CODE
>が無効な符号化方式の値を生成できないことを確実にしました。(Andrew)
      </P
><P
>UTF8で符号化されたデータベースでは、<CODE
CLASS="FUNCTION"
>chr()</CODE
>の引数はUnicodeコードポイントとして扱われるようになりました。
他のマルチバイト符号化方式では、<CODE
CLASS="FUNCTION"
>chr()</CODE
>の引数は7ビットASCII文字を指名しなければなりません。
ゼロは受け付けられません。
<CODE
CLASS="FUNCTION"
>ascii()</CODE
>も併せて調整されました。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>convert()</CODE
>の動作を有効な符号化方式に確実になるように調整しました。(Andrew)
      </P
><P
>2つの引数を取る<CODE
CLASS="FUNCTION"
>convert()</CODE
>構文は削除されました。
3つの引数を取る構文は、最初の引数として<TT
CLASS="TYPE"
>bytea</TT
>を取り、<TT
CLASS="TYPE"
>bytea</TT
>を返すようになりました。
機能の欠落を補うために、新しい関数を3つ追加しました。
      </P
><P
></P
><UL
><LI
><P
><CODE
CLASS="FUNCTION"
>convert_from(bytea, name)</CODE
> returns <TT
CLASS="TYPE"
>text</TT
> &mdash; 最初の引数を指定された符号化方式からデータベースの符号化方式に変換します。
        </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>convert_to(text, name)</CODE
> returns <TT
CLASS="TYPE"
>bytea</TT
> &mdash; 最初の引数をデータベース符号化方式から指定された符号化方式に変換します。
        </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>length(bytea, name)</CODE
> returns <TT
CLASS="TYPE"
>integer</TT
> &mdash;指定した符号化方式における最初の引数の文字長を返します。
        </P
></LI
></UL
></LI
><LI
><P
><TT
CLASS="LITERAL"
>convert(argument USING conversion_name)</TT
>を削除しました。(Andrew)
      </P
><P
>この動作は標準SQLに合いませんでした。
      </P
></LI
><LI
><P
>JOHAB符号化方式をクライアント側のみにしました。(Tatsuo)
      </P
><P
>サーバ側の符号化方式としてJOHABは安全ではありません。
      </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN159584"
>E.145.3. 変更点</A
></H2
><P
><SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 8.3と以前のメジャーリリースとの間の違いについて、以下に詳しく説明します。
   </P
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159588"
>E.145.3.1. 性能</A
></H3
><P
></P
><UL
><LI
><P
>非同期コミットは、トランザクションコミット時のWALへの書き出しを遅延します。(Simon)
      </P
><P
>この機能により、短期のデータ変更を行うトランザクションの性能が大きく向上しました。
欠点はディスクへの書き出しが遅れるため、データをディスクへの書き出す前にデータベースシステムまたはオペレーティングシステムがクラッシュした場合コミットしたデータが失われる点です。
この機能は多少のデータ損失を受け入れることができるアプリケーションでは役に立ちます。
<TT
CLASS="VARNAME"
>fsync</TT
>を無効にする場合と異なり、非同期コミットを使用する場合にはデータベースの一貫性に関する危険はありません。
最悪の場合でも、クラッシュの後、コミットされたと報告されている最後の数個のトランザクションが完全にコミットされていない可能性があるだけです。
この機能は<TT
CLASS="VARNAME"
>synchronous_commit</TT
>を無効にすることで有効になります（一部のトランザクションが極めて重要であり、その他は重要でないような場合、これはセッション単位やトランザクション単位で行うことができます）。
<TT
CLASS="VARNAME"
>wal_writer_delay</TT
>を調整して、トランザクションが実際にディスクに書き出されるまでの最大遅延を制御することができます。
      </P
></LI
><LI
><P
>各チェックポイントにおけるI/Oのピークを抑えるために、チェックポイントの書き出しをより長い時間に分散させることができます。(Itagaki TakahiroとHeikki Linnakangas)
      </P
><P
>これまでは、すべての変更済みバッファはチェックポイント時可能な限り高速にディスクに書き出すことが強制されていました。
これによりI/Oが急激に増加するため、サーバの性能が劣化しました。
この新しい方式はチェックポイント時のディスク書き出しを分散させ、I/O使用のピークを抑えます。
（ユーザが要求したチェックポイントおよび停止時のチェックポイントではまだできる限り高速に書き出されます。）
      </P
></LI
><LI
><P
>ヒープオンリータプル（<ACRONYM
CLASS="ACRONYM"
>HOT</ACRONYM
>）は、ほとんどの<TT
CLASS="COMMAND"
>UPDATE</TT
>と<TT
CLASS="COMMAND"
>DELETE</TT
>における領域の再利用を促進します。(Pavan Deolaseeおよび他の多くからのアイディアによる)
      </P
><P
><TT
CLASS="COMMAND"
>UPDATE</TT
>および<TT
CLASS="COMMAND"
>DELETE</TT
>は、失敗した<TT
CLASS="COMMAND"
>INSERT</TT
>と同様、不要なタプルを背後に残します。
これまでは<TT
CLASS="COMMAND"
>VACUUM</TT
>のみが不要タプルにより占められた領域を回収することができました。
<ACRONYM
CLASS="ACRONYM"
>HOT</ACRONYM
>により、インデックス付けされた列に変更がなされていなければ、不要タプル領域を<TT
CLASS="COMMAND"
>INSERT</TT
>または<TT
CLASS="COMMAND"
>UPDATE</TT
>と同時に、自動的に回収できるようになりました。
これにより、より一貫した性能が得られます。
また、<ACRONYM
CLASS="ACRONYM"
>HOT</ACRONYM
>は重複したインデックス項目が追加されることを防止します。
      </P
></LI
><LI
><P
>ジャストインタイムのバックグラウンドライタ戦略はディスク書き出し効率を改善します。(Greg Smith, Itagaki Takahiro)
      </P
><P
>これはバックグラウンドライタの手作業による調整作業の必要性を大きく減らします。
      </P
></LI
><LI
><P
>フィールド単位および行単位の格納にかかるオーバーヘッドが削減されました。(Greg Stark, Heikki Linnakangas)
      </P
><P
>128バイト未満の長さのデータ値を持つ可変長データ型において、その格納が3から6バイト減少することがわかります。
例えば、隣接する2つの<TT
CLASS="TYPE"
>char(1)</TT
>型のフィールドでは16バイトではなく4バイト使用するようになりました。
また、行ヘッダは以前に比べ4バイト短くなりました。
      </P
></LI
><LI
><P
>読み取りのみのトランザクションにて非永続トランザクションIDを使用することでオーバーヘッドと<TT
CLASS="COMMAND"
>VACUUM</TT
>の必要性が減少します。(Florian Pflug)
      </P
><P
>非永続トランザクションIDは大域的なトランザクションカウンタを増加させません。
このため、これは<TT
CLASS="STRUCTNAME"
>pg_clog</TT
>への負荷を低減し、トランザクションID周回を防ぐための強制的なバキュームの実行間隔を長くします。
同時実行性を向上させる性能向上も行われました。
      </P
></LI
><LI
><P
>読み取りのみのコマンドの後にコマンドカウンタの増加を行いません。(Tom)
      </P
><P
>これまでは1トランザクション当たり2<SUP
>32</SUP
> (40億)コマンドという固定の限界がありました。
今回実際にデータベースを変更するコマンドのみが数えられるようになりました。
このため制限自体はまだ存在しますが、悩まされることはかなり減少したはずです。
      </P
></LI
><LI
><P
>バックエンドから作業を分けるために専用の<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>ライタプロセスを作成しました。(Simon)
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CLUSTER</TT
>および<TT
CLASS="COMMAND"
>COPY</TT
>で不要なWAL書き出しを行わないようにしました。(Simon)
      </P
><P
>WALアーカイブ処理が有効でない限り、
システムは<TT
CLASS="COMMAND"
>CLUSTER</TT
>でのWAL書き出しを行わず、コマンドの終りでテーブルを<CODE
CLASS="FUNCTION"
>fsync()</CODE
>するだけになりました。
また、テーブルが同じトランザクションで作成された場合の<TT
CLASS="COMMAND"
>COPY</TT
>でも同じことを行います。
      </P
></LI
><LI
><P
>大規模なシーケンススキャンがよく使用されるキャッシュされたページを押し出さないようになりました。(Simon, Heikki, Tom)
      </P
></LI
><LI
><P
>同時に行われる大規模なシーケンススキャンがディスク読み取りを共有できるようになりました。
      </P
><P
>これは、（他のシーケンススキャンがすでに実行中の）テーブルの途中から新しいシーケンススキャンを開始すること、および、その開始から終わりまでを包み隠すことによりなされました。
これは<TT
CLASS="LITERAL"
>ORDER BY</TT
>の指定がない問い合わせで返される行の順序に影響を与えます。
必要ならば<TT
CLASS="VARNAME"
>synchronize_seqscans</TT
>設定パラメータを使用して無効にすることができます。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>ORDER BY ... LIMIT</TT
>がソートなしで行うことができるようになりました。(Greg Stark)
      </P
><P
>これは、テーブル全体を完全にソートする代わりに、テーブルのスキャンを断続的に行い、<SPAN
CLASS="QUOTE"
>"上位N個の"</SPAN
>候補行のみを追跡することで行われます。
これは対応するインデックスがない場合や<TT
CLASS="LITERAL"
>LIMIT</TT
>が大きな値でない場合に有用です。
      </P
></LI
><LI
><P
>バックエンドから統計情報コレクタに送信されるメッセージの頻度に制限を加えました。(Tom)
      </P
><P
>これは短めのトランザクションにおけるオーバーヘッドを低減します。
しかし、統計情報が計算される前の遅延が増加する場合もあります。
      </P
></LI
><LI
><P
>多くのNULLを持つ場合のハッシュ結合の性能を向上しました。(Tom)
      </P
></LI
><LI
><P
>正確にデータ型が一致しない場合の演算子検索が高速になりました。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159661"
>E.145.3.2. サーバ</A
></H3
><P
></P
><UL
><LI
><P
>自動バキュームがデフォルトで有効になりました。(Alvaro)
      </P
><P
>デフォルトに変更することを正当化するために、自動バキュームを有効にさせた場合の欠点を除去するための変更が多くなされました。
この他の自動バキュームに関するパラメータも複数変更されました。
      </P
></LI
><LI
><P
>複数の自動バキュームプロセスの同時実行をサポートします。(Alvaro, Itagaki Takahiro)
      </P
><P
>これにより複数のバキュームを同時に実行できるようになります。
これは、大規模テーブルのバキュームにより、より小さなテーブルのバキュームが遅延されることを防ぎます。
      </P
></LI
><LI
><P
>テーブル定義の変更時または統計情報の更新時における、キャッシュされた問い合わせ計画を自動的に再作成します。(Tom)
      </P
><P
>これまで一時テーブルを参照するPL/pgSQL関数は<TT
CLASS="LITERAL"
>EXECUTE</TT
>が使用されていない限り、その関数を呼び出し中に一時テーブルが削除、再作成された場合、失敗しました。
この改良により、この問題および関連する多くの問題が解消されます。
      </P
></LI
><LI
><P
>一時テーブルおよび一時ファイル用のテーブル空間を制御する<TT
CLASS="VARNAME"
>temp_tablespaces</TT
>パラメータが追加されました。(Jaime Casanova, Albert Cervera, Bernd Helmle)
      </P
><P
>このパラメータは使用されるテーブル空間のリストを定義します。
これにより複数のテーブル空間をまたがったI/O負荷分散が可能です。
一時オブジェクトが作成される度にランダムなテーブル空間が選択されます。
一時ファイルはデータベース単位の<TT
CLASS="FILENAME"
>pgsql_tmp/</TT
>ディレクトリに格納されず、テーブル空間単位のディレクトリに格納されるようになりました。
      </P
></LI
><LI
><P
>一時テーブル用のTOASTテーブルを特別な<TT
CLASS="LITERAL"
>pg_toast_temp_<TT
CLASS="REPLACEABLE"
><I
>nnn</I
></TT
></TT
>という名前のスキーマに格納します。(Tom)
      </P
><P
>これにより低レベルなコードでこれらのテーブルを一時的なものと認識できるようになります。
WALに記録されない変更や共有バッファではなくアクセスにローカルを使用するなど、各種最適化が可能です。
またこれは、バックエンドが予期せず一時TOASTテーブルへのファイル参照を開き続ける際の不具合を解消します。
      </P
></LI
><LI
><P
>新しい接続要求の固定的な処理フローが、postmasterの停止やクラッシュからの再起動を不定期間遅延させられるという問題を解消します。(Tom)
      </P
></LI
><LI
><P
>次のチェックポイントの後まで削除されたテーブルのrelfilenodeの再利用を防止することで、非常に可能性が低いデータが損失する状況を保護します。(Heikki)
      </P
></LI
><LI
><P
>古い形式の外部キートリガ定義を通常の外部キー制約に変換するように<TT
CLASS="COMMAND"
>CREATE CONSTRAINT TRIGGER</TT
>を修正しました。(Tom)
      </P
><P
>これは、<TT
CLASS="FILENAME"
>contrib/adddepend</TT
>を使用して返還されていない、7.3以前のデータベースで持ち込まれた外部キー制約の移行を簡単にします。
      </P
></LI
><LI
><P
>継承されたデフォルトを上書きするよう<TT
CLASS="LITERAL"
>DEFAULT NULL</TT
>を修正しました。(Tom)
      </P
><P
>これまで<TT
CLASS="LITERAL"
>DEFAULT NULL</TT
>はノイズ語句とみなされていました。
しかし、存在しなかった場合に親テーブルまたはドメインから継承される非NULLのデフォルトを上書きすべきでした（今回から上書きします）。
      </P
></LI
><LI
><P
>新しい符号化方式EUC_JIS_2004とSHIFT_JIS_2004を追加しました。(Tatsuo)
      </P
><P
>これらの符号化方式とUTF-8は相互に変換可能です。
      </P
></LI
><LI
><P
>サーバ起動時のログメッセージを <SPAN
CLASS="QUOTE"
>"database system is ready"</SPAN
>から<SPAN
CLASS="QUOTE"
>"database system is ready to accept connections"</SPAN
>へ変更しました。
また、その時期も調整しました。
      </P
><P
>このメッセージは本当に接続を受け付ける準備が整った時にのみ現れるようになりました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159706"
>E.145.3.3. 監視</A
></H3
><P
></P
><UL
><LI
><P
>自動バキュームの活動ログ処理の設定をサポートするための<TT
CLASS="VARNAME"
>log_autovacuum_min_duration</TT
>を追加しました。(Simon, Alvaro)
      </P
></LI
><LI
><P
>ロック待機をログに記録するための<TT
CLASS="VARNAME"
>log_lock_waits</TT
>パラメータを追加しました。(Simon)
      </P
></LI
><LI
><P
>一時ファイルの使用状況をログに記録するための<TT
CLASS="VARNAME"
>log_temp_files</TT
>パラメータを追加しました。(Bill Moran)
      </P
></LI
><LI
><P
>チェックポイントのログ処理を改良するための<TT
CLASS="VARNAME"
>log_checkpoints</TT
>パラメータを追加しました。(Greg Smith, Heikki)
      </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>log_line_prefix</TT
>がすべてのプロセス内で<TT
CLASS="LITERAL"
>%s</TT
>および<TT
CLASS="LITERAL"
>%c</TT
>エスケープをサポートするようになりました。(Andrew)
      </P
><P
>これまでは、これらのエスケープはユーザセッションでのみ動作し、バックグラウンドデータベースプロセスでは動作しませんでした。
      </P
></LI
><LI
><P
>ポイントインタイムリカバリの再起動点のログ処理を制御するための<TT
CLASS="VARNAME"
>log_restartpoints</TT
>を追加しました。(Simon)
      </P
></LI
><LI
><P
>リカバリの終わり、および、記録された再起動点で最終トランザクションの終了時刻がログに記録されるようになりました。(Simon)
      </P
></LI
><LI
><P
>自動バキュームが<TT
CLASS="LITERAL"
>pg_stat_activity</TT
>内にその活動開始時刻を報告するようになりました。(Tom)
      </P
></LI
><LI
><P
>サーバログをカンマ区切り値（CSV）書式で出力できるようになりました。(Arul Shaji, Greg Smith, Andrew Dunstan)
      </P
><P
>後の解析のために、CSV書式のログファイルを簡単にデータベーステーブルにロードすることができます。
      </P
></LI
><LI
><P
>PostgreSQLが提供する時間帯サポートをサーバログで表示されるタイムスタンプの書式に使用します。(Tom)
      </P
><P
>間違った符号化方式のローカルの時間帯を使用した場合のWindows固有の問題を防止します。
クライアント側で可視の<TT
CLASS="VARNAME"
>timezone</TT
>パラメータとは独立した、ログメッセージで使用する時間帯を制御するための<TT
CLASS="VARNAME"
>log_timezone</TT
>パラメータが追加されました。
      </P
></LI
><LI
><P
>新しい<TT
CLASS="LITERAL"
>pg_stat_bgwriter</TT
>システムビューはバックグラウンドライタの活動に関する統計情報を表します。
      </P
></LI
><LI
><P
>データベース全体のタプル統計情報のための列を<TT
CLASS="LITERAL"
>pg_stat_database</TT
>に新しく追加しました。(Magnus)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>xact_start</TT
>（トランザクションの開始時刻）列を<TT
CLASS="LITERAL"
>pg_stat_activity</TT
>に追加しました。(Neil)
      </P
><P
>これで、長期間実行中のトランザクションの識別が容易になります。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>n_live_tuples</TT
>および<TT
CLASS="LITERAL"
>n_dead_tuples</TT
>列を<TT
CLASS="LITERAL"
>pg_stat_all_tables</TT
>と関連するビューに追加しました。(Glen Parker)
      </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>stats_block_level</TT
>と<TT
CLASS="VARNAME"
>stats_row_level</TT
>パラメータを1つの<TT
CLASS="VARNAME"
>track_counts</TT
>パラメータにまとめました。
これは、統計情報コレクタプロセスにすべてのメッセージを送信するかどうかを制御します。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>stats_command_string</TT
>パラメータの名前を<TT
CLASS="VARNAME"
>track_activities</TT
>に変更しました。(Tom)
      </P
></LI
><LI
><P
>コミットされたトランザクションとアボートしたトランザクションが異なる影響を持つことを認識するために、有効タプルと無効タプルの統計的な数え方を修正しました。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159770"
>E.145.3.4. 認証</A
></H3
><P
></P
><UL
><LI
><P
>Windowsにおける認証用のセキュリティサービスプロバイダインタフェース（<ACRONYM
CLASS="ACRONYM"
>SSPI</ACRONYM
>）をサポートします。(Magnus)
      </P
></LI
><LI
><P
>GSSAPI認証をサポートします。(Henry Hotz, Magnus)
      </P
><P
>GSSAPIは業界標準ですので、Kerberos認証そのものより好まれるはずです。
      </P
></LI
><LI
><P
>グローバルなSSL設定ファイルをサポートします。(Victor Wagner)
      </P
></LI
><LI
><P
>受け付けるSSL暗号を制御するための<TT
CLASS="VARNAME"
>ssl_ciphers</TT
>パラメータを追加しました。(Victor Wagner)
      </P
></LI
><LI
><P
>Kerberosレルムパラメータ<TT
CLASS="VARNAME"
>krb_realm</TT
>を追加しました。(Magnus)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159787"
>E.145.3.5. 先行書き込みログ（<ACRONYM
CLASS="ACRONYM"
>WAL</ACRONYM
>）と連続的なアーカイブ処理</A
></H3
><P
></P
><UL
><LI
><P
>トランザクションWAL記録に記録されるタイムスタンプがtime_tからTimestampTz表現に変わりました。(Tom)
      </P
><P
>これは0.5秒という精度をWALに提供します。
これはポイントインタイムリカバリで役に立ちます。
      </P
></LI
><LI
><P
>ウォームスタンバイサーバで必要とするWALディスク容量を減少させました。 (Simon)
      </P
><P
>この変更によりウォームスタンバイサーバは、不要になったWALファイルの自動削除を行いつつ、もっとも初期かつまだ必要なWALファイルの名前をリカバリスクリプトに渡すことができます。
これは<TT
CLASS="FILENAME"
>recovery.conf</TT
>の <TT
CLASS="VARNAME"
>restore_command</TT
>において<TT
CLASS="LITERAL"
>%r</TT
>を使用することで行われます。
      </P
></LI
><LI
><P
>新しい論理型の設定パラメータ<TT
CLASS="VARNAME"
>archive_mode</TT
>はアーカイブ処理を制御します。(Simon)
      </P
><P
>これまでは、<TT
CLASS="VARNAME"
>archive_command</TT
>を空文字列に設定することでアーカイブ処理を無効にしました。
今回からは<TT
CLASS="VARNAME"
>archive_command</TT
>と独立した<TT
CLASS="VARNAME"
>archive_mode</TT
>がアーカイブ処理の有効無効を切替えます。
これは一時的にアーカイブ処理を停止する際に役に立ちます。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159807"
>E.145.3.6. 問い合わせ</A
></H3
><P
></P
><UL
><LI
><P
>全文検索がコアデータベースシステムに統合されました。(Teodor, Oleg)
      </P
><P
>テキスト検索が改良され、コアのコードに移り、デフォルトでインストールされるようになりました。
<TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>は互換性を維持するためのインタフェースを含むようになりました。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>NULL</TT
>のソートを先にするか後にするかに関する制御を追加しました。(Teodor, Tom)
      </P
><P
><TT
CLASS="LITERAL"
>ORDER BY ... NULLS FIRST/LAST</TT
>という構文です。
      </P
></LI
><LI
><P
>インデックスにおいて、列単位の昇順/降順（<TT
CLASS="LITERAL"
>ASC</TT
>/<TT
CLASS="LITERAL"
>DESC</TT
>）順序付けオプションが可能です。(Teodor, Tom)
      </P
><P
>これまでは、<TT
CLASS="LITERAL"
>ASC</TT
>/<TT
CLASS="LITERAL"
>DESC</TT
>指示子が混在した<TT
CLASS="LITERAL"
>ORDER BY</TT
>を使用する問い合わせでは、インデックスを十分使用することはできませんでした。
今回から、<TT
CLASS="LITERAL"
>ASC</TT
>/<TT
CLASS="LITERAL"
>DESC</TT
>指示子に一致するようにインデックスが作成された場合、こうした状況でもインデックスを十分に使用できるようになります。
インデックス内の<TT
CLASS="LITERAL"
>NULL</TT
>のソート順も制御できるようになりました。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>col IS NULL</TT
>がインデックスを使用できるようになりました。(Teodor)
      </P
></LI
><LI
><P
>更新可能なカーソル(Arul Shaji, Tom)
      </P
><P
>これは、カーソルで返される行を<TT
CLASS="COMMAND"
>UPDATE</TT
>または<TT
CLASS="COMMAND"
>DELETE</TT
>するために主キーを参照する必要をなくします。
<TT
CLASS="LITERAL"
>UPDATE/DELETE WHERE CURRENT OF</TT
>という構文です。
      </P
></LI
><LI
><P
>カーソルで<TT
CLASS="LITERAL"
>FOR UPDATE</TT
>が使用可能です。(Arul Shaji, Tom)
      </P
></LI
><LI
><P
>データ型のI/O関数を呼び出すことで、<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>すべて</I
></SPAN
>のデータ型と標準文字列型（<TT
CLASS="TYPE"
>TEXT</TT
>、<TT
CLASS="TYPE"
>VARCHAR</TT
>、<TT
CLASS="TYPE"
>CHAR</TT
>）との間の双方向のキャストをサポートする汎用機構を作成しました。(Tom)
      </P
><P
>これまでは、こうしたキャストはこの目的に特化した関数を持つ型でのみ利用可能でした。
こうした新しいキャストは文字列へキャストする場合は代入のみ、逆は明示的のみです。
このため予期しない動作を行わないはずです。
      </P
></LI
><LI
><P
>すべての入力がドメイン型の時、<TT
CLASS="LITERAL"
>UNION</TT
>とそれに関連する式がドメイン型を返すことができます。
      </P
><P
>これまでは、出力はドメインの基本型になるものとみなされていました。
      </P
></LI
><LI
><P
>2つの異なるデータ型を使用する時限定されたハッシュ処理が可能です。(Tom)
      </P
><P
>これにより、データ型を跨った比較を行う状況においてデータ型のハッシュ関数が互換性がある場合、ハッシュ結合、ハッシュインデックス、ハッシュ化副計画、ハッシュ集約を使用することができます。
現在、データ型を跨るハッシュ処理のサポートは、<TT
CLASS="TYPE"
>smallint</TT
>/<TT
CLASS="TYPE"
>integer</TT
>/<TT
CLASS="TYPE"
>bigint</TT
>に対するもの、および<TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
>に対するものが存在します。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>WHERE</TT
>句内に同じ変数があることを検知する、オプティマイザのロジックを改良しました。(Tom)
      </P
><P
>これにより、マージ結合が降順ソート順で動作するようになります。
また、冗長なソート列の認識も改良されました。
      </P
></LI
><LI
><P
>ほとんどのテーブルが制約による除外を行う大規模な継承構造の計画を作成する性能が向上しました。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159867"
>E.145.3.7. オブジェクトの操作</A
></H3
><P
></P
><UL
><LI
><P
>複合型の配列。(David Fetter, Andrew, Tom)
      </P
><P
>明示的に宣言された複合型の配列の他、システムカタログ、シーケンス、TOASTテーブルの行型を除く、通常のテーブルやビューの行型の配列もサポートされます。
      </P
></LI
><LI
><P
>サーバ設定パラメータを関数単位で設定できるようになりました。(Tom)
      </P
><P
>例えば関数は、実行時に異なる<TT
CLASS="VARNAME"
>search_path</TT
>が存在する場合の誤動作を防ぐために、独自の<TT
CLASS="VARNAME"
>search_path</TT
>を設定することができます。
SECURITY DEFINER関数はセキュリティの抜け穴を防ぐために<TT
CLASS="VARNAME"
>search_path</TT
>を設定すべきです。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE/ALTER FUNCTION</TT
>が<TT
CLASS="LITERAL"
>COST</TT
>および<TT
CLASS="LITERAL"
>ROWS</TT
>オプションをサポートするようになりました。(Tom)
      </P
><P
><TT
CLASS="LITERAL"
>COST</TT
>により関数呼び出しにかかるコストを指定できます。
<TT
CLASS="LITERAL"
>ROWS</TT
>により集合を返す関数で返される平均行数を指定できます。
これらの値は最善の計画を選択する際にオプティマイザにより使用されます。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE TABLE LIKE ...  INCLUDING INDEXES</TT
>を実装しました。(Trevor Hardcastle, Nikhil Sontakke, Neil)
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE INDEX CONCURRENTLY</TT
>は他のデータベース内のトランザクションを無視することができます。(Simon)
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER VIEW ... RENAME TO</TT
>および<TT
CLASS="COMMAND"
>ALTER SEQUENCE ... RENAME TO</TT
>を追加しました。(David Fetter, Neil)
      </P
><P
>これまでは、<TT
CLASS="COMMAND"
>ALTER TABLE ... RENAME TO</TT
>経由でしか行うことができませんでした。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE/DROP/RENAME DATABASE</TT
>が失敗する前に、競合するバックエンドの終了を短期間待機するようにしました。(Tom)
      </P
><P
>これにより、これらのコマンドが成功する可能性が増えました。
      </P
></LI
><LI
><P
>レプリケーションを目的とした、設定パラメータを使用してトリガとルールをまとめて無効化することができます。(Jan)
      </P
><P
>これによりレプリケーションシステムは、システムカタログを直接変更することなく、トリガとルールをグループとして無効にすることができます。
この動作は<TT
CLASS="COMMAND"
>ALTER TABLE</TT
>と新しい<TT
CLASS="VARNAME"
>session_replication_role</TT
>パラメータにより制御されます。
      </P
></LI
><LI
><P
>ユーザ定義型が型修飾子を持つことができるようになりました。(Teodor, Tom)
      </P
><P
>これによりユーザ定義型は<TT
CLASS="TYPE"
>ssnum(7)</TT
>のような修飾子を取ることができます。
以前は組み込み型のみが修飾子を持つことができました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159912"
>E.145.3.8. ユーティリティコマンド</A
></H3
><P
></P
><UL
><LI
><P
>スーパーユーザ以外のデータベース所有者が、デフォルトで所有するデータベースに信頼できる手続き言語を追加できるようになりました。(Jeremy Drake)
      </P
><P
>これはかなり安全ですが、一部の管理者はこの権限を取り上げたいと考えるかもしれません。
これは<TT
CLASS="STRUCTNAME"
>pg_pltemplate</TT
>.<TT
CLASS="STRUCTFIELD"
>tmpldbacreate</TT
>で制御されます。
      </P
></LI
><LI
><P
>セッションの現在のパラメータ設定を今後のセッションにおけるデフォルトとして使用できます。(Tom)
      </P
><P
>これは<TT
CLASS="COMMAND"
>CREATE/ALTER FUNCTION</TT
>、<TT
CLASS="COMMAND"
>ALTER DATABASE</TT
>、<TT
CLASS="COMMAND"
>ALTER ROLE</TT
>で<TT
CLASS="LITERAL"
>SET ... FROM CURRENT</TT
>を付けることで行われます。
      </P
></LI
><LI
><P
>新しいコマンド<TT
CLASS="COMMAND"
>DISCARD ALL</TT
>、<TT
CLASS="COMMAND"
>DISCARD PLANS</TT
>、<TT
CLASS="COMMAND"
>DISCARD TEMPORARY</TT
>、<TT
CLASS="COMMAND"
>CLOSE ALL</TT
>、<TT
CLASS="COMMAND"
>DEALLOCATE ALL</TT
>を実装しました。(Marko Kreen, Neil)
      </P
><P
>これらのコマンドは単にデータベースセッションをその初期状態に再設定します。
特に接続プールソフトウェアで有用です。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CLUSTER</TT
>をMVCCセーフにしました。(Heikki Linnakangas)
      </P
><P
>これまでは<TT
CLASS="COMMAND"
>CLUSTER</TT
>は、不要と確定したすべてのタプルを、たとえMVCCの可視性規則の下でそのタプルを参照することができるはずのトランザクションが他にあったとしても破棄しました。
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CLUSTER</TT
>に新しい構文、<TT
CLASS="LITERAL"
>CLUSTER <TT
CLASS="REPLACEABLE"
><I
>table</I
></TT
> USING <TT
CLASS="REPLACEABLE"
><I
>index</I
></TT
></TT
>を追加しました。(Holger Schurig)
     </P
><P
>古い<TT
CLASS="COMMAND"
>CLUSTER</TT
>構文もまだサポートされますが、新しい構文の方が論理的であるとみなされています。
      </P
></LI
><LI
><P
>複雑な計画をより正確に表示できるように<TT
CLASS="COMMAND"
>EXPLAIN</TT
>を修正しました。(Tom)
      </P
><P
>副計画出力への参照が、複雑な場合<TT
CLASS="LITERAL"
>?column<TT
CLASS="REPLACEABLE"
><I
>N</I
></TT
>?</TT
>を使わずに、常に正しく表示されるようになりました。
      </P
></LI
><LI
><P
>ユーザが削除された時に報告される情報量を制限しました。(Alvaro)
      </P
><P
>これまでは、多くのオブジェクトを所有するユーザを削除した（または削除しようとした）時、そのオブジェクトすべてを列挙する、多くの<TT
CLASS="LITERAL"
>NOTICE</TT
>または<TT
CLASS="LITERAL"
>ERROR</TT
>メッセージが生成されました。
これは一部のクライアントアプリケーションで問題になりました。
メッセージ長は制限されるようになりましたが、サーバログにはまだすべてのリストが送信されます。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159959"
>E.145.3.9. データ型</A
></H3
><P
></P
><UL
><LI
><P
>SQL/XML標準をサポートしました。これに伴い、新しい演算子と<TT
CLASS="TYPE"
>XML</TT
>データ型が含められました。(Nikolay Samokhvalov, Pavel Stehule, Peter)
      </P
></LI
><LI
><P
> 
列挙データ型（<TT
CLASS="TYPE"
>ENUM</TT
>）。(Tom Dunstan)
      </P
><P
>この機能は、小さく、固定の集合のみの値を許すフィールドに対して簡便なサポートを提供します。
<TT
CLASS="LITERAL"
>ENUM</TT
>型の作成例は<TT
CLASS="LITERAL"
>CREATE TYPE mood AS ENUM ('sad', 'ok', 'happy')</TT
>です。
      </P
></LI
><LI
><P
>汎用一意識別子（<TT
CLASS="TYPE"
>UUID</TT
>）データ型。(Gevik Babakhani, Neil)
      </P
><P
>これは<ACRONYM
CLASS="ACRONYM"
>RFC</ACRONYM
> 4122にほぼ合致します。
      </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>MONEY</TT
>データ型を64ビットに広げました。 (D'Arcy Cain)
      </P
><P
>これは <TT
CLASS="TYPE"
>MONEY</TT
>型の値がサポートする範囲を大きく増やします。
      </P
></LI
><LI
><P
>一貫して<TT
CLASS="LITERAL"
>Infinity</TT
>と<TT
CLASS="LITERAL"
>NAN</TT
> (Not A Number)を扱うことができるように<TT
CLASS="TYPE"
>float4</TT
>/<TT
CLASS="TYPE"
>float8</TT
>を修正しました。(Bruce)
      </P
><P
>以前のコードでは<TT
CLASS="LITERAL"
>Infinity</TT
> とオーバーフロー条件の区別に一貫性がありませんでした。
      </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>boolean</TT
>値の入力の際、前後の空白文字が許されます。(Neil)
      </P
></LI
><LI
><P
>区切り文字として数字と小文字を使用することを<TT
CLASS="COMMAND"
>COPY</TT
>は防止するようになりました。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN159995"
>E.145.3.10. 関数</A
></H3
><P
></P
><UL
><LI
><P
>新しい正規表現関数<CODE
CLASS="FUNCTION"
>regexp_matches()</CODE
>、<CODE
CLASS="FUNCTION"
>regexp_split_to_array()</CODE
>、<CODE
CLASS="FUNCTION"
>regexp_split_to_table()</CODE
>を追加しました。(Jeremy Drake, Neil)
      </P
><P
>これらの関数は正規表現副式の抽出を提供し、POSIX正規表現を使用した文字列の分割を行うことができます。
      </P
></LI
><LI
><P
>ラージオブジェクトの切り詰めを行う<CODE
CLASS="FUNCTION"
>lo_truncate()</CODE
>を追加しました。(Kris Jurka)
      </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>float8</TT
>データ型に対する<CODE
CLASS="FUNCTION"
>width_bucket()</CODE
>を実装しました。(Neil)
      </P
></LI
><LI
><P
>現在のトランザクションで収集された統計情報のスナップショットを破棄する<CODE
CLASS="FUNCTION"
>pg_stat_clear_snapshot()</CODE
>を追加しました。(Tom)
      </P
><P
>トランザクションにおける最初の統計情報の要求はトランザクション期間で変更されない統計情報のスナップショットを取ることです。
この関数によりこのスナップショットを破棄し、次の統計情報問い合わせで新しいスナップショットを読み込むことができます。
これは特に、単一トランザクション内に制限されるPL/pgSQL関数で有用です。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>EXTRACT()</CODE
>および<CODE
CLASS="FUNCTION"
>date_part()</CODE
>に<TT
CLASS="LITERAL"
>isodow</TT
> オプションを追加しました。(Bruce)
      </P
><P
>これは日曜を7とした週内日数を返します（<TT
CLASS="LITERAL"
>dow</TT
>は日曜を0とします）。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_char()</CODE
>、<CODE
CLASS="FUNCTION"
>to_date()</CODE
>、<CODE
CLASS="FUNCTION"
>to_timestamp()</CODE
>に<TT
CLASS="LITERAL"
>ID</TT
>（ISO週内日数）および<TT
CLASS="LITERAL"
>IDDD</TT
>（ISO年内日数）書式コードを追加しました。(Brendan Jurd)
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_timestamp()</CODE
>および<CODE
CLASS="FUNCTION"
>to_date()</CODE
>が、長さが可変となる可能性があるフィールドに対して<TT
CLASS="LITERAL"
>TM</TT
> (trim)オプションを前提とするようにしました。
      </P
><P
>これは<SPAN
CLASS="PRODUCTNAME"
>Oracle</SPAN
>の動作と合致します。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_date()</CODE
>/<CODE
CLASS="FUNCTION"
>to_timestamp()</CODE
>の<TT
CLASS="LITERAL"
>D</TT
>（非ISO週内日数）の変換における一つ違いのエラーを修正しました。(Bruce)
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>setseed()</CODE
>を、無意味な整数値ではなくvoidを返すようにしました。(Neil)
      </P
></LI
><LI
><P
><TT
CLASS="TYPE"
>NUMERIC</TT
>用のハッシュ関数を追加しました。(Neil)
      </P
><P
>これにより<TT
CLASS="TYPE"
>NUMERIC</TT
>列でハッシュインデックスとハッシュを基にした計画が利用できるようになりました。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>LIKE</TT
>/<TT
CLASS="LITERAL"
>ILIKE</TT
>の効率を、特にUTF-8のようなマルチバイト文字セットで、向上させました。(Andrew, Itagaki Takahiro)
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>currtid()</CODE
>が対象テーブルについての<TT
CLASS="LITERAL"
>SELECT</TT
>を必要とするようにしました。(Tom)
      </P
></LI
><LI
><P
>活動中のトランザクションIDを問い合わせるための<CODE
CLASS="FUNCTION"
>txid_*()</CODE
>関数を複数追加しました。(Jan)
      </P
><P
>これは各種レプリケーションソリューションで有用です。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160061"
>E.145.3.11. PL/pgSQLサーバサイド言語</A
></H3
><P
></P
><UL
><LI
><P
><TT
CLASS="COMMAND"
>FETCH</TT
>での方向指定を含む、スクロール可能なカーソルのサポートを追加しました。(Pavel Stehule)
      </P
></LI
><LI
><P
>バックエンドの<TT
CLASS="COMMAND"
>FETCH</TT
>コマンドと合わせ、PL/pgSQLの<TT
CLASS="COMMAND"
>FETCH</TT
>にて<TT
CLASS="LITERAL"
>FROM</TT
>の代わりに<TT
CLASS="LITERAL"
>IN</TT
>を使用可能にしました。(Pavel Stehule)
      </P
></LI
><LI
><P
>PL/pgSQLに<TT
CLASS="COMMAND"
>MOVE</TT
>を追加しました。(Magnus, Pavel Stehule, Neil)
      </P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>RETURN QUERY</TT
>を実装しました。(Pavel Stehule, Neil)
      </P
><P
>これは、PL/pgSQLの集合を返す関数で問い合わせの結果を返したい場合向けに簡便な構文を追加します。
<TT
CLASS="COMMAND"
>RETURN QUERY</TT
>は、 <TT
CLASS="COMMAND"
>RETURN NEXT</TT
>をループさせるよりも簡単で効率的です。
      </P
></LI
><LI
><P
>関数のパラメータ名を関数名で修飾できるようにしました。(Tom)
      </P
><P
>例えば、<TT
CLASS="LITERAL"
>myfunc.myvar</TT
>です。
これは特に、列名と名前が一致する可能性がある変数を問い合わせ内で指定する場合に役に立ちます。
      </P
></LI
><LI
><P
>ブロックレベルの変数修飾が適切に動作するようにしました。(Tom)
      </P
><P
>これまでは、より外側のブロックラベルがより内側のレコードや行参照の認識に意図せず干渉していました。
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>FOR</TT
>ループの<TT
CLASS="LITERAL"
>STEP</TT
>値の必要条件を厳密にしました。(Tom)
      </P
><P
>非正の<TT
CLASS="LITERAL"
>STEP</TT
>値を許しません。
また、ループのオーバーフローを取り扱います。
      </P
></LI
><LI
><P
>構文エラーで報告する発生位置の精度を高めました。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160097"
>E.145.3.12. 他のサーバサイド言語</A
></H3
><P
></P
><UL
><LI
><P
>PL/Perl <CODE
CLASS="FUNCTION"
>spi_prepare()</CODE
>への型名引数が<TT
CLASS="LITERAL"
>pg_type</TT
>内の名前の他にデータ型の別名を取ることができるようになりました。(Andrew)
      </P
></LI
><LI
><P
>PL/Python <CODE
CLASS="FUNCTION"
>plpy.prepare()</CODE
>への型名引数が<TT
CLASS="LITERAL"
>pg_type</TT
>内の名前の他にデータ型の別名を取ることができるようになりました。(Andrew)
      </P
></LI
><LI
><P
>PL/Tcl <CODE
CLASS="FUNCTION"
>spi_prepare</CODE
>への型名引数が<TT
CLASS="LITERAL"
>pg_type</TT
>内の名前の他にデータ型の別名を取ることができるようになりました。(Andrew)
      </P
></LI
><LI
><P
>PL/PythonUがPython 2.5でコンパイルできるようになりました。 (Marko Kreen)
      </P
></LI
><LI
><P
>Python版と互換性のある、本当のPL/Python論理型をサポートします。(Marko Kreen)
      </P
></LI
><LI
><P
>スレッドが有効な<TT
CLASS="FILENAME"
>libtcl</TT
>を使用した場合にバックエンド内で複数のスレッドが生成されるPL/Tclの問題を修正しました。(Steve Marshall, Paul Bayer,Doug Knight)
      </P
><P
>これはまったく不愉快な事象を引き起こしました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160120"
>E.145.3.13. <A
HREF="app-psql.html"
><SPAN
CLASS="APPLICATION"
>psql</SPAN
></A
></A
></H3
><P
></P
><UL
><LI
><P
><TT
CLASS="LITERAL"
>\d</TT
>の出力で無効なトリガを別途列挙します。(Brendan Jurd)
      </P
></LI
><LI
><P
>パターン指定の<TT
CLASS="LITERAL"
>\d</TT
>で、常に<TT
CLASS="LITERAL"
>$</TT
>そのものに一致します。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\da</TT
>出力にて集約の戻り値型を示します。(Greg Sabino Mullane)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\df+</TT
>の出力に関数の揮発性状態を追加しました。 (Neil)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\prompt</TT
>機能を追加しました。(Chad Wagner)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\pset</TT
>、<TT
CLASS="LITERAL"
>\t</TT
>、<TT
CLASS="LITERAL"
>\x</TT
>が単に切替えるだけでなく<TT
CLASS="LITERAL"
>on</TT
>または<TT
CLASS="LITERAL"
>off</TT
>を指定できるようになりました。(Chad Wagner)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\sleep</TT
>機能を追加しました。(Jan)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>\copy</TT
>で<TT
CLASS="LITERAL"
>\timing</TT
>出力を有効にしました。(Andrew)
      </P
></LI
><LI
><P
>Windowsにおいて<TT
CLASS="LITERAL"
>\timing</TT
>の解像度を向上させました。(Itagaki Takahiro)
      </P
></LI
><LI
><P
>各バックスラッシュコマンドの後<TT
CLASS="LITERAL"
>\o</TT
>出力をフラッシュします。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>-f</TT
>で指定された入力ファイルの読み取り時に正確にエラーを検知し報告します。(Peter)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>-u</TT
>オプションを削除しました（これはかなり前から廃止予定でした）。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160167"
>E.145.3.14. <A
HREF="app-pgdump.html"
><SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
></A
></A
></H3
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>に<TT
CLASS="LITERAL"
>--tablespaces-only</TT
>および<TT
CLASS="LITERAL"
>--roles-only</TT
>オプションを追加しました。(Dave Page)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>に出力ファイルオプションを追加しました。(Dave Page)
      </P
><P
>これは主に、<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>子プロセスの出力リダイレクションが動作しない、Windowsで有用です。
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_dumpall</SPAN
>が初期接続用にデフォルトの<TT
CLASS="LITERAL"
>template1</TT
>以外のデータベース名を受け付けられるようになりました。(Dave Page)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>-n</TT
>および<TT
CLASS="LITERAL"
>-t</TT
>スイッチにて、常に<TT
CLASS="LITERAL"
>$</TT
>そのものに一致します。(Tom)
      </P
></LI
><LI
><P
>データベースが数千のオブジェクトを持つ場合の性能を向上しました。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>-u</TT
>オプションを削除しました（これはかなり前から廃止予定でした）。(Tom)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160196"
>E.145.3.15. 他のクライアントアプリケーション</A
></H3
><P
></P
><UL
><LI
><P
><SPAN
CLASS="APPLICATION"
>initdb</SPAN
>で、<TT
CLASS="FILENAME"
>pg_xlog</TT
>ディレクトリの場所を指定できるようになりました。(Euler Taveira de Oliveira)
      </P
></LI
><LI
><P
>サポートされるオペレーティングシステムでは、<SPAN
CLASS="APPLICATION"
>pg_regress</SPAN
>内でサーバコアファイルの生成が有効になりました。(Andrew)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>に<TT
CLASS="LITERAL"
>-t</TT
>（時間切れ）パラメータを追加しました。(Bruce)
      </P
><P
>これは、サーバ起動時または停止時に<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>が待機する時間を制御します。
これまでの待機時間は固定で60秒でした。
      </P
></LI
><LI
><P
>サーバコアダンプの生成を制御するために<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>のオプションを追加しました。(Andrew)
      </P
></LI
><LI
><P
>Control-Cで<SPAN
CLASS="APPLICATION"
>clusterdb</SPAN
>、<SPAN
CLASS="APPLICATION"
>reindexdb</SPAN
>、<SPAN
CLASS="APPLICATION"
>vacuumdb</SPAN
>をキャンセルできるようにしました。(Itagaki Takahiro, Magnus)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>createdb</SPAN
>、<SPAN
CLASS="APPLICATION"
>createuser</SPAN
>、<SPAN
CLASS="APPLICATION"
>dropdb</SPAN
>、<SPAN
CLASS="APPLICATION"
>dropuser</SPAN
>でコマンドタグの出力を抑制します。(Peter)
      </P
><P
><TT
CLASS="LITERAL"
>--quiet</TT
>オプションは無視され、8.4で削除される予定です。
全データベースを実行している場合の進行メッセージは、実際のエラーではありませんので、標準エラー出力ではなく標準出力に出力されるようになりました。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160228"
>E.145.3.16. <A
HREF="libpq.html"
><SPAN
CLASS="APPLICATION"
>libpq</SPAN
></A
></A
></H3
><P
></P
><UL
><LI
><P
><CODE
CLASS="FUNCTION"
>PQsetdbLogin()</CODE
>の<TT
CLASS="LITERAL"
>dbName</TT
>パラメータが等号記号を含む時<TT
CLASS="LITERAL"
>conninfo</TT
>文字列として解釈されます。(Andrew)
      </P
><P
>まだ<TT
CLASS="LITERAL"
>PQsetdbLogin()</TT
>を使用しているクライアントプログラムで<TT
CLASS="LITERAL"
>conninfo</TT
>文字列を使用できるようになります。
      </P
></LI
><LI
><P
>大域的な<ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>設定ファイルをサポートします。(Victor Wagner)
      </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>ハードウェアキーを制御する<TT
CLASS="VARNAME"
>PGSSLKEY</TT
>環境変数を追加しました。(Victor Wagner)
      </P
></LI
><LI
><P
>ラージオブジェクトを切り詰めるための<CODE
CLASS="FUNCTION"
>lo_truncate()</CODE
>を追加しました。(Kris Jurka)
      </P
></LI
><LI
><P
>サーバがパスワードを必要としているが、何も与えられていない場合に真を返す<CODE
CLASS="FUNCTION"
>PQconnectionNeedsPassword()</CODE
>を追加しました。(Joe Conway, Tom)
      </P
><P
>接続試行に失敗した後に真を返した場合、クライアントアプリケーションはユーザにパスワードの入力を促すべきです。
これまでのアプリケーションでは、パスワードが必要かどうかを決めるために、特定エラーメッセージの検査を行う必要がありました。
この方法は推奨されなくなりました。
      </P
></LI
><LI
><P
>与えたパスワードが実際に使用された場合に真を返す<CODE
CLASS="FUNCTION"
>PQconnectionUsedPassword()</CODE
>を追加しました。(Joe Conway, Tom)
      </P
><P
>ユーザが与えたパスワードが実際に有効だったかどうかの確認が重要となる一部のセキュリティコンテキストで、これは役に立ちます。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160259"
>E.145.3.17. <A
HREF="ecpg.html"
><SPAN
CLASS="APPLICATION"
>ecpg</SPAN
></A
></A
></H3
><P
></P
><UL
><LI
><P
>V3フロントエンド/バックエンドプロトコルを使用します。(Michael)
      </P
><P
>これは、サーバサイドの準備済み文のサポートを追加します。
      </P
></LI
><LI
><P
>Windowsでpthreadではなくネイティブのスレッドを使用します。(Magnus)
      </P
></LI
><LI
><P
>ecpglibのスレッド安全性を向上しました。(Itagaki Takahiro)
      </P
></LI
><LI
><P
>ecpgライブラリが必要なAPIシンボルのみをエキスポートするようにしました。(Michael)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160273"
>E.145.3.18. <SPAN
CLASS="APPLICATION"
>Windows</SPAN
>への移植</A
></H3
><P
></P
><UL
><LI
><P
><SPAN
CLASS="PRODUCTNAME"
>Microsoft Visual C++</SPAN
>を使用した<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>配布物全体のコンパイルを可能にしました。(Magnus他)
      </P
><P
>これによりWindowsを基に開発する開発者が慣れた開発ツール、デバッグツールを使用できるようになりました。
また、Visual C++で作成されたWindows実行形式ファイルは、他のツールセットで作成されたファイルより優れた安定性と性能を持ちます。
クライアントのみを構築するVisual C++のスクリプトは削除されました。
      </P
></LI
><LI
><P
>多くの子プロセスを持つ時のpostmasterのメモリ使用量を劇的に減少させました。(Magnus)
      </P
></LI
><LI
><P
>リグレッションテストが管理者ユーザで起動できるようになりました。(Magnus)
      </P
></LI
><LI
><P
>ネイティブな共有メモリの実装を追加しました。(Magnus)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160288"
>E.145.3.19. サーバプログラミングインタフェース(<ACRONYM
CLASS="ACRONYM"
>SPI</ACRONYM
>)</A
></H3
><P
></P
><UL
><LI
><P
>SPIにカーソル関連の機能を追加しました。(Pavel Stehule)
      </P
><P
>カーソル関連の計画作成オプションにアクセスすることができます。
また、<TT
CLASS="COMMAND"
>FETCH</TT
>/<TT
CLASS="COMMAND"
>MOVE</TT
>処理を追加しました。
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>SPI_execute</CODE
>経由でカーソルコマンドを実行することができます。 (Tom)
      </P
><P
><TT
CLASS="LITERAL"
>SPI_ERROR_CURSOR</TT
>はまだ存在しますが、何も返しません。
      </P
></LI
><LI
><P
>SPI計画ポインタは<TT
CLASS="LITERAL"
>void *</TT
>ではなく<TT
CLASS="LITERAL"
>SPIPlanPtr</TT
>として宣言されます。(Tom)
      </P
><P
>これはアプリケーションコードを壊しませんが、単純なプログラムミスを見付けやすくするために変更することを勧めます。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160307"
>E.145.3.20. 構築オプション</A
></H3
><P
></P
><UL
><LI
><P
>コードプロファイリング（<SPAN
CLASS="APPLICATION"
>gcc</SPAN
>でのみ動作）を有効にするために<SPAN
CLASS="APPLICATION"
>configure</SPAN
>のオプションに<TT
CLASS="LITERAL"
>--enable-profiling</TT
>を追加しました。(Korry DouglasとNikhil Sontakke)
      </P
></LI
><LI
><P
>オペレーティングシステムの時間帯データベースを使用するために<SPAN
CLASS="APPLICATION"
>configure</SPAN
>のオプションに<TT
CLASS="LITERAL"
>--with-system-tzdata</TT
>を追加しました。(Peter)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_config</SPAN
>プログラムが<TT
CLASS="VARNAME"
>PATH</TT
>の先頭にないPostgreSQLインストレーションに対して拡張を構築できるように<ACRONYM
CLASS="ACRONYM"
>PGXS</ACRONYM
>を修正しました。(Tom)
      </P
></LI
><LI
><P
><ACRONYM
CLASS="ACRONYM"
>SGML</ACRONYM
>文書の構築時の<TT
CLASS="COMMAND"
>gmake draft</TT
>をサポートします。(Bruce)
      </P
><P
><TT
CLASS="LITERAL"
>draft</TT
>を使わない場合、インデックス更新を確実にするために必要ならば、文書の構築が2回行われます。
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160330"
>E.145.3.21. ソースコード</A
></H3
><P
></P
><UL
><LI
><P
>サードパーティにより<TT
CLASS="LITERAL"
>DLLIMPORT</TT
>が宣言されたインクルードファイル（Tclのような）との競合を防ぐために、<TT
CLASS="LITERAL"
>DLLIMPORT</TT
>マクロ名を<TT
CLASS="LITERAL"
>PGDLLIMPORT</TT
>に変更しました。(Magnus)
      </P
></LI
><LI
><P
>データ型を跨った比較を含む問い合わせの計画作成を改良するために<SPAN
CLASS="QUOTE"
>"演算子族"</SPAN
>を作成しました。(Tom)
      </P
></LI
><LI
><P
>問い合わせを満たすことができるものが存在しなかったことを通知できるようにGINの<CODE
CLASS="FUNCTION"
>extractQuery()</CODE
> APIを更新しました。(Teodor)
      </P
></LI
><LI
><P
><TT
CLASS="LITERAL"
>NAMEDATALEN</TT
>定義を<TT
CLASS="FILENAME"
>postgres_ext.h</TT
>から<TT
CLASS="FILENAME"
>pg_config_manual.h</TT
>に移動しました。(Peter)
      </P
></LI
><LI
><P
>すべてのプラットフォームで<CODE
CLASS="FUNCTION"
>strlcpy()</CODE
>および<CODE
CLASS="FUNCTION"
>strlcat()</CODE
>を提供します。
また、エラーが起こりがちの<CODE
CLASS="FUNCTION"
>strncpy()</CODE
>、<CODE
CLASS="FUNCTION"
>strncat()</CODE
>などの使用を置き換えました。(Peter)
      </P
></LI
><LI
><P
>外部のプラグインによりプランナを監視（置き換えることすら可能）させる、および、仮定の状況に対する計画を作成するためのフックを作成しました。(Gurjeet Singh, Tom)
      </P
></LI
><LI
><P
>プラグインにプランナの結合検索順の位置を上書きさせるための<TT
CLASS="LITERAL"
>join_search_hook</TT
>関数変数を作成しました。(Julius Stroffek)
      </P
></LI
><LI
><P
>ルネサスM32Rプロセッサ向けの<CODE
CLASS="FUNCTION"
>tas()</CODE
>サポートを追加しました。(Kazuhiro Inaoka)
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>quote_identifier()</CODE
>および<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>は、文法に従い保持されないキーワードに引用符を付けません。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="STRUCTFIELD"
>sign_dscale</TT
>ワードが重みより前に来るように、<TT
CLASS="TYPE"
>NUMERIC</TT
>データ型のディスク上の表現を変更しました。
      </P
></LI
><LI
><P
>Darwin &gt;= 6.0、つまりOS X 10.2以上でPOSIXではなく<ACRONYM
CLASS="ACRONYM"
>SYSV</ACRONYM
>セマフォを使用します。(Chris Marcellino)
      </P
></LI
><LI
><P
><A
HREF="acronyms.html"
>acronym</A
>および<A
HREF="creating-cluster.html#CREATING-CLUSTER-NFS"
>NFS</A
>に関する節を文書に追加しました。(Bruce)
      </P
></LI
><LI
><P
>"PostgreSQL"の別名として受け入れられるものとして"Postgres"が文書化されました。(Peter)
      </P
></LI
><LI
><P
>データベースサーバが停止している場合のサーバなりすまし防止に関する文書を追加しました。(Bruce)
      </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><H3
CLASS="SECT3"
><A
NAME="AEN160382"
>E.145.3.22. Contrib</A
></H3
><P
></P
><UL
><LI
><P
><TT
CLASS="FILENAME"
>contrib</TT
> <TT
CLASS="FILENAME"
>README</TT
>の内容を主<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>文書に移しました。(Albert Cervera i Areny)
      </P
></LI
><LI
><P
>低レベルなページ検査を行う<TT
CLASS="FILENAME"
>contrib/pageinspect</TT
>モジュールを追加しました。(Simon, Heikki)
      </P
></LI
><LI
><P
>ウォームスタンバイ操作を制御する<TT
CLASS="FILENAME"
>contrib/pg_standby</TT
>モジュールを追加しました。(Simon)
      </P
></LI
><LI
><P
>OSSP UUIDライブラリを使用して<TT
CLASS="TYPE"
>UUID</TT
>値を生成する<TT
CLASS="FILENAME"
>contrib/uuid-ossp</TT
>モジュールを追加しました。(Peter)
      </P
><P
><SPAN
CLASS="APPLICATION"
>configure</SPAN
> <TT
CLASS="LITERAL"
>--with-ossp-uuid</TT
>を使用して有効にします。
これは新しく組込まれた<TT
CLASS="TYPE"
>UUID</TT
>型を使用します。
      </P
></LI
><LI
><P
>テキスト検索辞書テンプレートとパーサを追加するためのサンプルを提供する<TT
CLASS="FILENAME"
>contrib/dict_int</TT
>、<TT
CLASS="FILENAME"
>contrib/dict_xsyn</TT
>、<TT
CLASS="FILENAME"
>contrib/test_parser</TT
>モジュールを追加しました。(Sergey Karpov)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>contrib/pgbench</SPAN
>でフィルファクタを設定できるようにしました。(Pavan Deolasee)
      </P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>contrib/pgbench</SPAN
> <TT
CLASS="LITERAL"
>-l</TT
>にタイムスタンプを追加しました。(Greg Smith)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/pgbuffercache</TT
>に使用カウントに関する統計情報を追加しました。(Greg Smith)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/hstore</TT
>にGINサポートを追加しました。(Teodor)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/pg_trgm</TT
>にGINサポートを追加しました。(Guillaume Smet, Teodor)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/start-scripts</TT
>のOS/X用起動スクリプトを更新しました。(Mark Cotner, David Fetter)
      </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>pgrowlocks()</CODE
>と<CODE
CLASS="FUNCTION"
>dblink_get_pkey()</CODE
>を対象テーブルに<TT
CLASS="LITERAL"
>SELECT</TT
>権限を持つユーザに制限しました。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/pgstattuple</TT
>関数をスーパーユーザに制限しました。(Tom)
      </P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/xml2</TT
>は推奨しません。8.4で削除される予定です。
      </P
><P
>PostgreSQLのコアにある新しいXMLサポートがこのモジュールに取って代わりました。
      </P
></LI
></UL
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-8-3-1.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-8-2-23.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース8.3.1</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース8.2.23</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>