<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>COMMENT</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.5.2文書"
HREF="index.html"><LINK
REL="UP"
TITLE="SQLコマンド"
HREF="sql-commands.html"><LINK
REL="PREVIOUS"
TITLE="CLUSTER"
HREF="sql-cluster.html"><LINK
REL="NEXT"
TITLE="COMMIT"
HREF="sql-commit.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2016-05-13T05:09:04"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.5.2文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="CLUSTER"
HREF="sql-cluster.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="COMMIT"
HREF="sql-commit.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SQL-COMMENT"
></A
>COMMENT</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN73745"
></A
><H2
>名前</H2
>COMMENT&nbsp;--&nbsp;オブジェクトのコメントを定義する、または変更する</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN73748"
></A
><H2
>概要</H2
><PRE
CLASS="SYNOPSIS"
>COMMENT ON
{
  AGGREGATE <TT
CLASS="REPLACEABLE"
><I
>aggregate_name</I
></TT
> ( <TT
CLASS="REPLACEABLE"
><I
>aggregate_signature</I
></TT
> ) |
  CAST (<TT
CLASS="REPLACEABLE"
><I
>source_type</I
></TT
> AS <TT
CLASS="REPLACEABLE"
><I
>target_type</I
></TT
>) |
  COLLATION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  COLUMN <TT
CLASS="REPLACEABLE"
><I
>relation_name</I
></TT
>.<TT
CLASS="REPLACEABLE"
><I
>column_name</I
></TT
> |
  CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>constraint_name</I
></TT
> ON <TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
> |
  CONSTRAINT <TT
CLASS="REPLACEABLE"
><I
>constraint_name</I
></TT
> ON DOMAIN <TT
CLASS="REPLACEABLE"
><I
>domain_name</I
></TT
> |
  CONVERSION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  DATABASE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  DOMAIN <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  EXTENSION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  EVENT TRIGGER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FOREIGN DATA WRAPPER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FOREIGN TABLE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  FUNCTION <TT
CLASS="REPLACEABLE"
><I
>function_name</I
></TT
> ( [ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [, ...] ] ) |
  INDEX <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  LARGE OBJECT <TT
CLASS="REPLACEABLE"
><I
>large_object_oid</I
></TT
> |
  MATERIALIZED VIEW <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  OPERATOR <TT
CLASS="REPLACEABLE"
><I
>operator_name</I
></TT
> (<TT
CLASS="REPLACEABLE"
><I
>left_type</I
></TT
>, <TT
CLASS="REPLACEABLE"
><I
>right_type</I
></TT
>) |
  OPERATOR CLASS <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> USING <TT
CLASS="REPLACEABLE"
><I
>index_method</I
></TT
> |
  OPERATOR FAMILY <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> USING <TT
CLASS="REPLACEABLE"
><I
>index_method</I
></TT
> |
  POLICY <TT
CLASS="REPLACEABLE"
><I
>policy_name</I
></TT
> ON <TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
> |
  [ PROCEDURAL ] LANGUAGE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  ROLE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  RULE <TT
CLASS="REPLACEABLE"
><I
>rule_name</I
></TT
> ON <TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
> |
  SCHEMA <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  SEQUENCE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  SERVER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TABLE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TABLESPACE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH CONFIGURATION <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH DICTIONARY <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH PARSER <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TEXT SEARCH TEMPLATE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  TRANSFORM FOR <TT
CLASS="REPLACEABLE"
><I
>type_name</I
></TT
> LANGUAGE <TT
CLASS="REPLACEABLE"
><I
>lang_name</I
></TT
> |
  TRIGGER <TT
CLASS="REPLACEABLE"
><I
>trigger_name</I
></TT
> ON <TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
> |
  TYPE <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
> |
  VIEW <TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
>
} IS '<TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
>'

<SPAN
CLASS="phrase"
><SPAN
CLASS="PHRASE"
>ここで<TT
CLASS="REPLACEABLE"
><I
>aggregate_signature</I
></TT
>は以下の通りです。</SPAN
></SPAN
>

* |
[ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [ , ... ] |
[ [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [ , ... ] ] ORDER BY [ <TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
> ] [ <TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
> ] <TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
> [ , ... ]</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73815"
></A
><H2
>説明</H2
><P
><TT
CLASS="COMMAND"
>COMMENT</TT
>は、データベースオブジェクトに関するコメントを保存します。
  </P
><P
>各オブジェクトに保存できるコメント文字列は1つだけです。
ですので、コメントを編集するためには、同一オブジェクトに対して新しく<TT
CLASS="COMMAND"
>COMMENT</TT
>コマンドを発行してください。
コメントを削除するには、テキスト文字列の部分に<TT
CLASS="LITERAL"
>NULL</TT
>を記述してください。
オブジェクトが削除された時、コメントは自動的に削除されます。
  </P
><P
>ほとんどの種類のオブジェクトでは、オブジェクトの所有者のみがコメントを設定することができます。
ロールには所有者がありませんので、<TT
CLASS="LITERAL"
>COMMENT ON ROLE</TT
>における規則は、スーパーユーザロールに対するコメント付けはスーパーユーザでなければならず、スーパーユーザ以外のロールに対するコメント付けは<TT
CLASS="LITERAL"
>CREATEROLE</TT
>を持たなければならないとなります。
当然ながらスーパーユーザは何にでもコメントを付けることができます。
  </P
><P
>コメントは、<SPAN
CLASS="APPLICATION"
>psql</SPAN
>の<TT
CLASS="COMMAND"
>\d</TT
>系のコマンドで表示することができます。
<CODE
CLASS="FUNCTION"
>obj_description()</CODE
>、<CODE
CLASS="FUNCTION"
>col_description()</CODE
>、<CODE
CLASS="FUNCTION"
>shobj_description</CODE
>という名前の、<SPAN
CLASS="APPLICATION"
>psql</SPAN
>が使用する組み込み関数を使うように構築することで、他のユーザインタフェースを使ってコメントを取り出せるようになります
（<A
HREF="functions-info.html#FUNCTIONS-INFO-COMMENT-TABLE"
>表9-62</A
>を参照してください）。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73833"
></A
><H2
>パラメータ</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="REPLACEABLE"
><I
>object_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>relation_name</I
></TT
>.<TT
CLASS="REPLACEABLE"
><I
>column_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>aggregate_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>constraint_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>function_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>operator_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>policy_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>rule_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>trigger_name</I
></TT
></DT
><DD
><P
>コメントを付加するオブジェクトの名前です。
テーブル、集約、照合順、変換、ドメイン、外部テーブル、関数、インデックス、演算子、演算子クラス、演算子族、シーケンス、テキスト検索オブジェクト、データ型、ビューの名前は、スキーマ修飾することができます。
列にコメントを付与する場合、<TT
CLASS="REPLACEABLE"
><I
>relation_name</I
></TT
>はテーブル、ビュー、複合型、外部テーブルを参照するものでなければなりません。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>table_name</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>domain_name</I
></TT
></DT
><DD
><P
>制約、テーブル、ドメイン、ポリシーにコメントを作成する場合、これらのパラメータは制約を定義するテーブルまたはドメインの名前を指定します。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>source_type</I
></TT
></DT
><DD
><P
>キャストの変換元データ型の名前です。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>target_type</I
></TT
></DT
><DD
><P
>キャストの変換先のデータ型の名前です。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argmode</I
></TT
></DT
><DD
><P
>関数または集約の引数のモードで、<TT
CLASS="LITERAL"
>IN</TT
>、<TT
CLASS="LITERAL"
>OUT</TT
>、<TT
CLASS="LITERAL"
>INOUT</TT
>、<TT
CLASS="LITERAL"
>VARIADIC</TT
>のいずれかです。
省略時のデフォルトは<TT
CLASS="LITERAL"
>IN</TT
>です。
関数を識別するには入力引数のみが必要ですので、<TT
CLASS="COMMAND"
>COMMENT</TT
>が実際には<TT
CLASS="LITERAL"
>OUT</TT
>引数を無視することに注意してください。
したがって、<TT
CLASS="LITERAL"
>IN</TT
>、<TT
CLASS="LITERAL"
>INOUT</TT
>および<TT
CLASS="LITERAL"
>VARIADIC</TT
>引数を列挙することで十分です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argname</I
></TT
></DT
><DD
><P
>関数または集約の引数の名前です。
関数の識別には引数データ型のみが必要ですので、<TT
CLASS="COMMAND"
>COMMENT</TT
>が実際には引数の名前を無視することに注意してください。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>argtype</I
></TT
></DT
><DD
><P
>関数または集約の引数のデータ型です。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>large_object_oid</I
></TT
></DT
><DD
><P
>ラージオブジェクトのOIDです。
     </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>left_type</I
></TT
><BR><TT
CLASS="REPLACEABLE"
><I
>right_type</I
></TT
></DT
><DD
><P
>演算子の引数のデータ型（スキーマ修飾も可）です。
右単項演算子、左単項演算子における存在しない引数については<TT
CLASS="LITERAL"
>NONE</TT
>と記述してください。
     </P
></DD
><DT
><TT
CLASS="LITERAL"
>PROCEDURAL</TT
></DT
><DD
><P
>これには意味はありません。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>type_name</I
></TT
></DT
><DD
><P
>変換のデータ型の名前です。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>lang_name</I
></TT
></DT
><DD
><P
>変換の言語の名前です。
      </P
></DD
><DT
><TT
CLASS="REPLACEABLE"
><I
>text</I
></TT
></DT
><DD
><P
>追加するコメントです。文字列リテラルとして記述します。
コメントを削除する場合は<TT
CLASS="LITERAL"
>NULL</TT
>を記述します。
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73936"
></A
><H2
>注釈</H2
><P
>現在、コメントの閲覧に関するセキュリティ機構は存在しません。
データベースに接続したユーザは誰でも、そのデータベース内のオブジェクトのコメントを参照することができます。
データベース、ロール、テーブル空間などの共有オブジェクトに対するコメントは大域的に格納され、クラスタ内の任意のデータベースに接続した任意のユーザが共有オブジェクトに対するコメントをすべて見ることができます。
そのため、コメントにはセキュリティ的に重大な情報を記載してはいけません。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73939"
></A
><H2
>例</H2
><P
>テーブル<TT
CLASS="LITERAL"
>mytable</TT
>にコメントを付けます。

</P><PRE
CLASS="PROGRAMLISTING"
>COMMENT ON TABLE mytable IS 'This is my table.';</PRE
><P>

先ほどのコメントを削除します。

</P><PRE
CLASS="PROGRAMLISTING"
>COMMENT ON TABLE mytable IS NULL;</PRE
><P>
  </P
><P
>その他の例をいくつか示します。

</P><PRE
CLASS="PROGRAMLISTING"
>COMMENT ON AGGREGATE my_aggregate (double precision) IS 'Computes sample variance';
COMMENT ON CAST (text AS int4) IS 'Allow casts from text to int4';
COMMENT ON COLLATION "fr_CA" IS 'Canadian French';
COMMENT ON COLUMN my_table.my_column IS 'Employee ID number';
COMMENT ON CONVERSION my_conv IS 'Conversion to UTF8';
COMMENT ON CONSTRAINT bar_col_cons ON bar IS 'Constrains column col';
COMMENT ON CONSTRAINT dom_col_constr ON DOMAIN dom IS 'Constrains col of domain';
COMMENT ON DATABASE my_database IS 'Development Database';
COMMENT ON DOMAIN my_domain IS 'Email Address Domain';
COMMENT ON EXTENSION hstore IS 'implements the hstore data type';
COMMENT ON FOREIGN DATA WRAPPER mywrapper IS 'my foreign data wrapper';
COMMENT ON FOREIGN TABLE my_foreign_table IS 'Employee Information in other database';
COMMENT ON FUNCTION my_function (timestamp) IS 'Returns Roman Numeral';
COMMENT ON INDEX my_index IS 'Enforces uniqueness on employee ID';
COMMENT ON LANGUAGE plpython IS 'Python support for stored procedures';
COMMENT ON LARGE OBJECT 346344 IS 'Planning document';
COMMENT ON MATERIALIZED VIEW my_matview IS 'Summary of order history';
COMMENT ON OPERATOR ^ (text, text) IS 'Performs intersection of two texts';
COMMENT ON OPERATOR - (NONE, integer) IS 'Unary minus';
COMMENT ON OPERATOR CLASS int4ops USING btree IS '4 byte integer operators for btrees';
COMMENT ON OPERATOR FAMILY integer_ops USING btree IS 'all integer operators for btrees';
COMMENT ON POLICY my_policy ON mytable IS 'Filter rows by users';
COMMENT ON ROLE my_role IS 'Administration group for finance tables';
COMMENT ON RULE my_rule ON my_table IS 'Logs updates of employee records';
COMMENT ON SCHEMA my_schema IS 'Departmental data';
COMMENT ON SEQUENCE my_sequence IS 'Used to generate primary keys';
COMMENT ON SERVER myserver IS 'my foreign server';
COMMENT ON TABLE my_schema.my_table IS 'Employee Information';
COMMENT ON TABLESPACE my_tablespace IS 'Tablespace for indexes';
COMMENT ON TEXT SEARCH CONFIGURATION my_config IS 'Special word filtering';
COMMENT ON TEXT SEARCH DICTIONARY swedish IS 'Snowball stemmer for Swedish language';
COMMENT ON TEXT SEARCH PARSER my_parser IS 'Splits text into words';
COMMENT ON TEXT SEARCH TEMPLATE snowball IS 'Snowball stemmer';
COMMENT ON TRANSFORM FOR hstore LANGUAGE plpythonu IS 'Transform between hstore and Python dict';
COMMENT ON TRIGGER my_trigger ON my_table IS 'Used for RI';
COMMENT ON TYPE complex IS 'Complex number data type';
COMMENT ON VIEW my_view IS 'View of departmental costs';</PRE
><P></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN73947"
></A
><H2
>互換性</H2
><P
>標準SQLには<TT
CLASS="COMMAND"
>COMMENT</TT
>はありません。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="sql-cluster.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="sql-commit.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>CLUSTER</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="sql-commands.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>COMMIT</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>