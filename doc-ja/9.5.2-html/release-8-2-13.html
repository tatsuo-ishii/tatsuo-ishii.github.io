<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース8.2.13</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.5.2文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース8.2.14"
HREF="release-8-2-14.html"><LINK
REL="NEXT"
TITLE="リリース8.2.12"
HREF="release-8-2-12.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2016-05-13T05:09:04"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.5.2文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース8.2.14"
HREF="release-8-2-14.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース8.2.12"
HREF="release-8-2-12.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-8-2-13"
>E.145. リリース8.2.13</A
></H1
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>リリース日: </B
>2009-03-16</P
></BLOCKQUOTE
></DIV
><P
>このリリースは8.2.12に対し、各種の不具合を修正したものです。
8.2メジャーリリースにおける新機能については<A
HREF="release-8-2.html"
>項E.158</A
>を参照してください。
  </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN154422"
>E.145.1. バージョン8.2.13への移行</A
></H2
><P
>8.2.Xからの移行ではダンプ/リストアは不要です。
しかし、8.2.11より前のバージョンからアップグレードする場合は、<A
HREF="release-8-2-11.html"
>項E.147</A
>を参照してください。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN154426"
>E.145.2. 変更点</A
></H2
><P
></P
><UL
><LI
><P
>符号化方式の変換に失敗した時、再帰的なエラーによるクラッシュを防止しました。(Tom)
     </P
><P
>この変更は、最近の2つのマイナーリリースにて関連する失敗の状況に対してなされた改修を拡張したものです。
前回の修正は元の問題報告に特化したものでしたが、符号化方式変換関数で発生する<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>すべての</I
></SPAN
>エラーがそのエラーを報告しようとして、無限に再帰される可能性があることが分かりました。
したがって、再帰的なエラー報告を行う状況になったことがわかった時の解決策は、変換と符号化方式を無効にし、通常のASCII形式のエラーメッセージで報告することです。
      (CVE-2009-0922)
     </P
></LI
><LI
><P
>特定の変換関数に対する、間違った符号化方式を用いた<TT
CLASS="COMMAND"
>CREATE CONVERSION</TT
>を許可しません。(Heikki)
     </P
><P
>これにより、符号化方式に関する失敗における、あり得る状況を防止します。
前回の変更は、同じ問題における別の種類の失敗に対する防止策でした。
     </P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_char()</CODE
>に引数のデータに対して不適切な整形用のコードが渡された時のコアダンプを修正しました。(Tom)
     </P
></LI
><LI
><P
>Cロケールがマルチバイト符号化方式で使用された場合の<TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>が失敗する可能性を修正しました。(Teodor)
     </P
><P
><TT
CLASS="TYPE"
>wchar_t</TT
>が<TT
CLASS="TYPE"
>int</TT
>よりもビット数が小さい時にクラッシュする可能性がありました。
具体的にはWindowsです。
     </P
></LI
><LI
><P
>Eメールのような複数の<TT
CLASS="LITERAL"
>@</TT
>文字を含む文字列に対する、非常に非効率的な<TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>のパーサの扱いを修正しました。(Heikki)
     </P
></LI
><LI
><P
>暗黙的な強制を使用した<TT
CLASS="LITERAL"
>CASE WHEN</TT
>の逆コンパイルを修正しました。
      (Tom)
     </P
><P
>この間違いにより、アサートを有効にして構築した場合にアサート失敗が発生する可能性がありました。
また、他の構築状況でもビューの検証やダンプを行う際に<SPAN
CLASS="QUOTE"
>"unexpected CASE WHEN clause"</SPAN
>というエラーメッセージが発生する可能性がありました。
     </P
></LI
><LI
><P
>TOASTテーブルの行型に対する所有者を間違って割り当てる可能性を修正しました。(Tom)
     </P
><P
><TT
CLASS="COMMAND"
>CLUSTER</TT
>または<TT
CLASS="COMMAND"
>ALTER TABLE</TT
>の書き換え構文がテーブル所有者以外のユーザにより実行された場合、テーブルのTOASTテーブル向けの<TT
CLASS="STRUCTNAME"
>pg_type</TT
>項目が実行したユーザの所有するものとして記録されてしまいました。
TOASTの行型に対する権限は通常のデータベース操作ではまったく検証されませんので、これによりすぐに問題が発生することはありません。
しかし、後でコマンドを発行したロールを削除しようとした場合に想定外の失敗（8.1または8.2）や削除後に<SPAN
CLASS="APPLICATION"
>pg_dump</SPAN
>が<SPAN
CLASS="QUOTE"
>"owner of data type appears to be invalid"</SPAN
>という警告が発生する（8.3）可能性がありました。
     </P
></LI
><LI
><P
>PL/pgSQLが、<TT
CLASS="COMMAND"
>INSERT</TT
>後の<TT
CLASS="LITERAL"
>INTO</TT
>を文字列の起点だけではなく、任意の位置におけるINTO変数句として扱わないように修正しました。
具体的には、<TT
CLASS="COMMAND"
>CREATE RULE</TT
>内の<TT
CLASS="COMMAND"
>INSERT INTO</TT
>にて失敗しないようにしました。(Tom)
     </P
></LI
><LI
><P
>ブロックの終了時に、PL/pgSQLのエラー状態変数を完全に消去します。(Ashesh Vashi、Dave Page)
     </P
><P
>これはPL/pgSQL自体の問題ではありませんが、これを行わないと、PL/pgSQLデバッガが関数の状態を検証する際にクラッシュする可能性がありました。
     </P
></LI
><LI
><P
>Windowsにおいて<CODE
CLASS="FUNCTION"
>CallNamedPipe()</CODE
>呼び出しが失敗した時に再試行します。(Steve Marshall、Magnus)
     </P
><P
>この関数は一時的に失敗することが時々あるようです。
これまでは重大なエラーとしてすべての失敗を扱っていましたが、<TT
CLASS="COMMAND"
>LISTEN</TT
>、<TT
CLASS="COMMAND"
>NOTIFY</TT
>やその他の操作が混乱する可能性がありました。
     </P
></LI
><LI
><P
>デフォルトの既知の時間帯省略形のリストに<TT
CLASS="LITERAL"
>MUST</TT
>（モーリシャス島夏時間）を追加しました。(Xavier Bugaud)
     </P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-8-2-14.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-8-2-12.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース8.2.14</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース8.2.12</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>