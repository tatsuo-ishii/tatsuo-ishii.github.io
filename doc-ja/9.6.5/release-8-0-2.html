<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>リリース8.0.2</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.6.5文書"
HREF="index.html"><LINK
REL="UP"
TITLE="リリースノート"
HREF="release.html"><LINK
REL="PREVIOUS"
TITLE="リリース8.0.3"
HREF="release-8-0-3.html"><LINK
REL="NEXT"
TITLE="リリース8.0.1"
HREF="release-8-0-1.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2017-10-17T11:51:21"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.6.5文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="リリース8.0.3"
HREF="release-8-0-3.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>付録 E. リリースノート</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="リリース8.0.1"
HREF="release-8-0-1.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RELEASE-8-0-2"
>E.244. リリース8.0.2</A
></H1
><DIV
CLASS="FORMALPARA"
><P
><B
>リリース日: </B
>2005-04-07</P
></DIV
><P
>このリリースは、8.0.1の各種不具合を修正したものです。
8.0メジャーリリースにおける新機能については<A
HREF="release-8-0.html"
>項E.246</A
>を参照してください。
  </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN171898"
>E.244.1. バージョン8.0.2への移行</A
></H2
><P
>8.0.*からの移行ではダンプ/リストアは不要です。
このリリースでは<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>ライブラリの主バージョン番号が更新されました。
従って、ユーザアプリケーションが適切な番号の共有ライブラリを検出できなかった場合、再リンクしなければならないかもしれません。
   </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN171902"
>E.244.2. 変更点</A
></H2
><P
></P
><UL
><LI
><P
>すべてのインタフェースライブラリの主バージョン番号を増加させました(Bruce)</P
><P
>これは8.0.0の時に行われるはずでした。
<SPAN
CLASS="APPLICATION"
>psql</SPAN
>などの7.4.x版のPostgreSQLクライアントアプリケーションを8.0.xアプリケーションと同じマシンで使用できるようにするために要求されました。
こうしたライブラリを使用するユーザアプリケーションの再リンクが必要になるかもしれません。</P
></LI
><LI
><P
>Windows専用の<TT
CLASS="VARNAME"
>wal_sync_method</TT
>の設定<TT
CLASS="OPTION"
>fsync_writethrough</TT
>を追加しました(Magnus, Bruce)</P
><P
>この設定により、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>はWALへの書き出し時にディスクドライブのライトキャッシュを経由して書き出すようになります。
この振舞いは以前は<TT
CLASS="OPTION"
>fsync</TT
>と呼ばれていましたが、他のプラットフォームにおける<TT
CLASS="OPTION"
>fsync</TT
>とかなり異なる動作であるため別の名前にしました。</P
></LI
><LI
><P
>Windows上で<TT
CLASS="VARNAME"
>wal_sync_method</TT
>の設定<TT
CLASS="OPTION"
>open_datasync</TT
>を有効にし、このプラットフォームにおけるデフォルトにしました(Magnus, Bruce)</P
><P
>デフォルトが<TT
CLASS="OPTION"
>fsync_writethrough</TT
>ではありませんので、ディスクドライブのライトキャッシュが有効な場合、電源障害時にデータ損失の可能性があります。
Windows上でライトキャッシュを無効にするためには、<SPAN
CLASS="APPLICATION"
>デバイスマネージャ</SPAN
>からドライブのプロパティを選択し、そして<TT
CLASS="LITERAL"
>ポリシー</TT
>を選択してください。</P
></LI
><LI
><P
>新しいキャッシュ管理アルゴリズム<ACRONYM
CLASS="ACRONYM"
>2Q</ACRONYM
>で<ACRONYM
CLASS="ACRONYM"
>ARC</ACRONYM
>を置き換えました(Tom)</P
><P
>これは<ACRONYM
CLASS="ACRONYM"
>ARC</ACRONYM
>に関する審査待ちの米国特許を避けるために実施しました。
<ACRONYM
CLASS="ACRONYM"
>2Q</ACRONYM
>コードは、ある種の作業状態では<ACRONYM
CLASS="ACRONYM"
>ARC</ACRONYM
>より数パーセント速度が落ちる可能性があります。
より優れたキャッシュアルゴリズムが8.1で導入される予定です。</P
></LI
><LI
><P
>新規に作成されたテーブルに対する動作を改良するためのプランナの調整 (Tom)</P
></LI
><LI
><P
>plpgsqlにて初期値が<TT
CLASS="LITERAL"
>NULL</TT
>の配列要素に代入できるようにしました(Tom)</P
><P
>これまではこうした配列は<TT
CLASS="LITERAL"
>NULL</TT
>のままでしたが、現在では単一要素の配列になりました。
8.0にてNULL配列値の<TT
CLASS="COMMAND"
>UPDATE</TT
>の主SQLエンジンにおける扱いがこの方法に変更されましたが、plpgsqlにおける同じ状況が見落とされていました。</P
></LI
><LI
><P
>plpythonの関数本体において<TT
CLASS="LITERAL"
>\r\n</TT
>と<TT
CLASS="LITERAL"
>\r</TT
>を<TT
CLASS="LITERAL"
>\n</TT
>に変換しました(Michael Fuhr)</P
><P
>これにより、plpythonのコードがWindowsクライアントやMacクライアントで作成された場合の構文エラーを防止できます。</P
></LI
><LI
><P
>SPIカーソルで<TT
CLASS="COMMAND"
>EXPLAIN</TT
>などの行を返すユーティリティコマンドを扱えるようにしました (Tom)</P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER TABLE SET WITHOUT OIDS</TT
>後の<TT
CLASS="COMMAND"
>CLUSTER</TT
>の障害を修正しました (Tom)</P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER TABLE ADD COLUMN</TT
>のメモリ消費量を減少させました(Neil)</P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER LANGUAGE RENAME</TT
>を修正しました (Tom)</P
></LI
><LI
><P
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>のWindows独自の<TT
CLASS="LITERAL"
>register</TT
>オプションと<TT
CLASS="LITERAL"
>unregister</TT
>オプションを文書化しました(Magnus)</P
></LI
><LI
><P
>バックエンドシャットダウン中に行われた操作が統計情報コレクタで確実に集計されるようにしました。</P
><P
>これは、システムカタログのバキューム処理が十分な間隔で行われていないという<SPAN
CLASS="APPLICATION"
>pg_autovacuum</SPAN
>の報告を解消するためのものです。
バックエンド終了時の一時テーブル削除が原因のカタログの削除に関するものではありません。</P
></LI
><LI
><P
><TT
CLASS="VARNAME"
>log_destination</TT
>設定パラメータのWindowsのデフォルトを<TT
CLASS="OPTION"
>eventlog</TT
>に変更しました (Magnus)</P
><P
>デフォルトでは、Windowsで稼動しているサーバはログ出力を標準エラーではなく、Windowsイベントロガーに送信します。</P
></LI
><LI
><P
>Kerberos認証をWindowsで動作できるようにしました(Magnus)</P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>ALTER DATABASE RENAME</TT
>を、CREATEDB権限を持たないスーパーユーザで実行できるようにしました(Tom)</P
></LI
><LI
><P
> <TT
CLASS="COMMAND"
>CREATE</TT
>および<TT
CLASS="COMMAND"
>DROP DATABASE</TT
>のWALログ項目を絶対パスを指定しないように変更しました(Tom)</P
><P
>これにより、ポイントインタイムリカバリをデータベースの格納場所が異なる可能性がある別のマシンで実行できるようになりました。
こうした状況はまだ<TT
CLASS="COMMAND"
>CREATE TABLESPACE</TT
>では危険であることに注意してください。</P
></LI
><LI
><P
>テーブルを作成し、そのテーブルへのカーソルを開いているトランザクションが実行中に、そのバックエンドが終了した場合のクラッシュを修正しました。(Tom)</P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>array_map()</CODE
>を修正し、PL関数からそれを呼び出すことができるようにしました(Tom)</P
></LI
><LI
><P
><TT
CLASS="FILENAME"
>contrib/tsearch2</TT
>および<TT
CLASS="FILENAME"
>contrib/btree_gist</TT
>に関する複数の修正 (Teodor)</P
></LI
><LI
><P
>あるプラットフォームにおける<TT
CLASS="FILENAME"
>contrib/pgcrypto</TT
>関数のクラッシュを修正しました
(Marko Kreen)</P
></LI
><LI
><P
>64ビットプラットフォーム用に<TT
CLASS="FILENAME"
>contrib/intagg</TT
>を修正しました
(Tom)</P
></LI
><LI
><P
><TT
CLASS="COMMAND"
>CREATE</TT
>文の解析におけるECPGの不具合を修正しました
(Michael)</P
></LI
><LI
><P
>ECPGの問題の原因となる、powerpcおよびamd64におけるgccの不具合を回避しました
(Christof Petig)</P
></LI
><LI
><P
>ロケールが<TT
CLASS="LITERAL"
>C</TT
>の場合に、ロケールを考慮した<CODE
CLASS="FUNCTION"
>upper()</CODE
>、<CODE
CLASS="FUNCTION"
>lower()</CODE
>、<CODE
CLASS="FUNCTION"
>initcap()</CODE
>を使用しないようにしました
 (Bruce)</P
><P
>これにより、ロケールが<TT
CLASS="LITERAL"
>C</TT
>の場合に非7ビットデータに対してエラーを生成するプラットフォームで、こうした関数が動作するようになります。</P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>quote_ident()</CODE
>がキーワードに一致する名前を引用符で括るように修正しました
 (Tom)</P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_date()</CODE
>が<TT
CLASS="LITERAL"
>CC</TT
>フィールドと<TT
CLASS="LITERAL"
>YY</TT
>フィールドの両方が使用された場合に合理的に振舞うように修正しました
 (Karel)</P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>to_char(interval)</CODE
>が月の間隔として0が指定された場合に失敗することを防止しました
 (Tom)</P
></LI
><LI
><P
><CODE
CLASS="FUNCTION"
>date_trunc('week')</CODE
>が間違った週を返さないように修正しました
 (Bruce)</P
><P
><CODE
CLASS="FUNCTION"
>date_trunc('week')</CODE
>は、ある年の1月の初めの数日に対して間違った年を返しました。</P
></LI
><LI
><P
><TT
CLASS="TYPE"
>INET</TT
>データ型において、クラス<TT
CLASS="LITERAL"
>D</TT
>アドレスのデフォルトのマスク長を正しく使用するようにしました
 (Tom)</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="release-8-0-3.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="release-8-0-1.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>リリース8.0.3</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="release.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>リリース8.0.1</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>