<A NAME="19">
<PRE><B>
From: Hiroyuki Hanai &lt;hanai@venusux1.kek.jp&gt;
Date: Thu, 31 Aug 1995 11:10:42 +0900
Subject: [postgres95 80] Re: I can't start the postmaster 
Message-Id: &lt;199508310210.LAA10681@kekux.kek.jp&gt;
</A>
</B></PRE>
<PRE>


あんまり使い込んでないので自信は無いのですが、

石井さん:
&gt; ところで、Sparc 以外のプラットフォームでは shmem の拡張は必要ないんで
&gt; しょうか？

HP-9000 / HP-UX では必要ないようです。

-----
hanai@venusux1.kek.jp	花井浩之
大阪大学
Please don't ask me about my thesis !!!!!!
<HR>
</PRE>
<A NAME="18">
<PRE><B>
From: Tsuhako &lt;tsuhako@dbg.bs1.fc.nec.co.jp&gt;
Date: Thu, 31 Aug 95 11:05:47 +0900
Subject: [postgres95 79] Re: Welcome to postgres95 
Message-Id: &lt;9508310205.AA00864@guam.dbg.bs1.fc.nec.co.jp&gt;
</A>
</B></PRE>
<PRE>

こんにちは、津波古＠ＮＥＣともうします。

&gt;&gt; なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
&gt;&gt; にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
&gt;&gt; すので、御協力のほどをお願いします。

ということですので、簡単にあいさついたします。

SQL の使えるフリーのデータベースということで postgress95 
に興味があり、このたび ML にさせていただくことになりました。

知らないことのほうが多く、情報提供よりも情報をいただくこと
のほうがずっと多いとは思いますが、どうぞよろしくお願いしま
す。

では、失礼します。

----------------------------------------------------------
津波古 振一郎＠ＮＥＣ
tsuhako@dbg.bs1.fc.nec.co.jp 〒 23-26160 telnet 8-23-26163
----------------------------------------------------------
<HR>
</PRE>
<A NAME="17">
<PRE><B>
From: haniuda@soda.okilab.oki.co.jp (HANIUDA Hiromi)
Date: Thu, 31 Aug 1995 10:46:40 +0900
Subject: [postgres95 78] Re: Welcome to postgres95
Message-Id: &lt;199508310145.KAA00626@soda.okilab.oki.co.jp&gt;
</A>
</B></PRE>
<PRE>

At  2:45 PM 95/8/30 +0900, majordomo@sramhe.sra.co.jp wrote:

 | なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
 | にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
 | すので、御協力のほどをお願いします。

羽生田＠沖です。かつて、データベース マシンや演繹データベー
スの研究開発に関わっていました。


______________
HANIUDA Hiromi
羽生田博美

<HR>
</PRE>
<A NAME="16">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 31 Aug 1995 10:00:07 +0900
Subject: [postgres95 77] Re: I can't start the postmaster 
Message-Id: &lt;199508310100.KAA11359@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

神戸　隆博（かんべ　たかひろ）さん：
&gt;ただの、postgresのときもカーネルをconfigしてshmemを思いっきり(でもな
&gt;いか?)増やした記憶があります。

そうなんですよね。インストールマニュアルには、v4r2 のころにはshmem の
ことが丁重に書かれていたんですが、95 になってからその辺の記述がスッポ
リ抜けています。まあ、他にも大事なことがたくさん 95 のドキュメントから
抜けているんで、本格的に 95 を使おうと思う方は、postgres v4r2 のドキュ
メントも是非読んでおくことを勧めします。

ところで、Sparc 以外のプラットフォームでは shmem の拡張は必要ないんで
しょうか？
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="15">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 31 Aug 1995 09:52:32 +0900
Subject: [postgres95 76] Re: [Q] postgres dies when adding a lot of data
Message-Id: &lt;199508310052.JAA10663@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

近藤努＠筑波大学図書館さん：
&gt;&gt; データを全部 copy し終ってから index を作る。
&gt;で、今これをやっています。

やはりかなり時間がかかるんでしょうね。

後もう一つ思いついたんですが、limit がかかっていて、ファイルか、メモリ
の制限にひっかかている、なんてことはないですよね？

# うーむ、だんだんアタルもハッケの世界になってきたな:-)
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="14">
<PRE><B>
From: HIROSE Kazuyoshi &lt;hirose@mms.ei.nsc.co.jp&gt;
Date: Thu, 31 Aug 1995 00:53:34 +0900
Subject: [postgres95 75] Re: Welcome to postgres95 
Message-Id: &lt;199508301553.AAA05563@mms.ei.nsc.co.jp&gt;
</A>
</B></PRE>
<PRE>

In message &lt;199508301154.UAA29111@sramhe.sra.co.jp&gt;you write:
&gt;なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
&gt;にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
&gt;すので、御協力のほどをお願いします。

　ひろせ＠新日鐵です。

　いわゆるデータベースプログラマではないのですが、
　httpd と database の組み合わせでいろいろと
　やらなければならない仕事があって、subscribe しました。

　フリーのデータベースプログラムなら、その内部構造
　なんかも勉強できるかなとおもっています。

　宜しくお願いいたします。
<HR>
</PRE>
<A NAME="13">
<PRE><B>
From: Tsuhako &lt;tsuhako@dbg.bs1.fc.nec.co.jp&gt;
Date: Wed, 30 Aug 95 22:19:05 +0900
Subject: [postgres95 74] subscribe postgres95
Message-Id: &lt;9508301319.AA29673@guam.dbg.bs1.fc.nec.co.jp&gt;
</A>
</B></PRE>
<PRE>

subscribe postgres95
<HR>
</PRE>
<A NAME="12">
<PRE><B>
From: Takahiro Kanbe &lt;taka@nwt.fxis.fujixerox.co.jp&gt;
Date: Wed, 30 Aug 1995 19:06:29 +0900
Subject: [postgres95 73] Re: I can't start the postmaster 
Message-Id: &lt;199508301006.TAA15510@litra.nwt.fxis.fujixerox.co.jp&gt;
</A>
</B></PRE>
<PRE>

既に解決されていると思いますが、

On Wed, 30 Aug 1995 10:40:45 +0900
	miyata shigeaki &lt;miyata@sra.co.jp&gt; writes:
&gt; &gt; 問題はどこにあるか教えて頂けませんでしょうか。
&gt; 
&gt; シェアードメモリーが足りないみたいです。
&gt; カーネルのコンフィグが必要ですね。
ただの、postgresのときもカーネルをconfigしてshmemを思いっきり(でもな
いか?)増やした記憶があります。

--
神戸　隆博（かんべ　たかひろ）		at FXIS
<HR>
</PRE>
<A NAME="11">
<PRE><B>
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Date: Wed, 30 Aug 1995 18:07:31 +0900
Subject: [postgres95 72] Re: [Q] postgres dies when adding a lot of data
Message-Id: &lt;9508300907.AA03486@babel&gt;
</A>
</B></PRE>
<PRE>

「１０万件オーダーのレコードをbtree indexを作りながら copy コマ
ンドで追加していくと、postgres がコアを吐く」という質問をした近
藤です。

&gt; 石井＠SRAです。
さっそくありがとうございます。_o_

&gt; o btree index の扱いにバグがあるかも知れないので、index を作るのをやめ
&gt; るか、
index なしで全件検索すると非現実的な時間がかかりそうなので、これ
はちょっと無理ですね。

&gt; データを全部 copy し終ってから index を作る。
で、今これをやっています。

&gt; o varchar は SQL に準拠するために postgres95 から導入された型である。
&gt; バグがあるかも知れないので、代わりに varchar(8)→char8 varchar(20)→
&gt; text などとする。
これは知りませんでした。現在やっている索引の作成が失敗したら試し
てみます。

&gt; o 差し支えなければ、begin〜end をやめる。
まったく差し支えありません。と、言うより「トランザクション」の概
念が全然分からないまま適当に入れてしまいました。

&gt; 後は、本家の ML に流す手もありますね。
本家 ML と言えば、今朝 「postgres 4.2 で copy コマンドを使っていて 
`No response from the backend' エラーが出た」の報告メールが流れ
ていました。自分の現象と良く似ている気がするので、誰か解決してく
れないかと密かに期待しています。

近藤努＠筑波大学図書館 kondou@tulips.tsukuba.ac.jp 
■■■―――――■■■ D01203 (NACSIS simail)
■■■　　　　　■■■ 
■■■―――――■■■ http://www.tulips.tsukuba.ac.jp/memb/kondou/home.html
 
<HR>
</PRE>
<A NAME="10">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Wed, 30 Aug 1995 12:39:06 +0900
Subject: [postgres95 71] Re: Mirror configuration is modified. 
Message-Id: &lt;199508300339.MAA14877@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

&gt;藤枝＠ＪＡＩＳＴです。
&gt;
&gt;ftp://ftp.jaist.ac.jp/pub/dbms/postgres95 のmirrorの設定を変更して、
&gt;本家の ftp://s2k-ftp.CS.Berkeley.EDU/pub/postgres95 の下を全部持って
&gt;来るようにしました。
&gt;
&gt;ftp://ftp.jaist.ac.jp/pub/dbms/postgres95/index.html でPostgres95の
&gt;ホームページや、バグリストにアクセスできるようになりましたので、ご利
&gt;用下さい。

おーぱちぱち。本家はしょっちゅうアクセス不能になるので助かります。どう
もありがとうございました。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="9">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Wed, 30 Aug 1995 12:35:42 +0900
Subject: [postgres95 70] Re: [Q] postgres dies when adding a lot of data 
Message-Id: &lt;199508300335.MAA14712@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

&gt;はじめまして。筑波大学図書館部の近藤と申します。日本語で質問が出来
&gt;るMLができてすごく嬉しいです。
&gt;
&gt;早速ですが質問させて下さい。環境は、
&gt;	Solaris 2.4
&gt;	postgres95-beta0.03 + 日本語パッチ(compliled with gcc-2.7.0)
&gt;です。
&gt;
&gt;次のようなデータベースを定義しました。
&gt;CREATE TABLE trt_tbl (
&gt;	bibid	varchar(8),
&gt;	keyword	varchar(20)
&gt;);
&gt;CREATE INDEX trt_index ON trt_tbl
&gt;	USING btree(keyword varchar_ops);
&gt;
&gt;そして、次の形式のテキストファイルを copy コマンドで trt_tbl にどんど
&gt;ん追加していきました。
&gt;
&gt;00254759        ARNOLD
&gt;00271232        ARNOLD
&gt;00254755        ASAKURA
&gt;00271232        ASAKURA
&gt;00254599        BBC
&gt;00254755        BIOLOGY
&gt;00254756        BIOLOGY
&gt;....
&gt;
&gt;追加は、
&gt;
&gt;	begin;
&gt;	copy trt_tbl from '/some/dir/text_data';
&gt;	end;
&gt;	vacuum;
&gt;
&gt;を Pg パッケージを組み込んだ perl5 のスクリプトの中でぐるぐるルー
&gt;プさせました。１回のループでおよそ3〜4万件のデータが追加されます。
&gt;(もちろんループするたびに text_data の内容は新しく作り変えられま
&gt;す)
&gt;
&gt;このスクリプトを走らせると、およそ１２〜１４回目のループで、postgres 
&gt;がコアを吐いて死んでしまいます。destroydb→createdbを何度かやってやり
&gt;直してみましたが、同じ回数で発生するとは限りませんでした。
&gt;
&gt;　perl スクリプトを使わず psql の中から copy コマンドで追加していって
&gt;も同じで、同じぐらいの量のデータを追加したところで「バックエンドから返
&gt;事がないよ」のメッセージが出ます。
(以下省略）

対象療法で申し訳ないのですが、以下のような方法を試してみてはいかがでしょ
うか？

o btree index の扱いにバグがあるかも知れないので、index を作るのをやめ
るか、データを全部 copy し終ってから index を作る。

o varchar は SQL に準拠するために postgres95 から導入された型である。
バグがあるかも知れないので、代わりに varchar(8)→char8 varchar(20)→
text などとする。

o 差し支えなければ、begin〜end をやめる。

o vacum は最後に１回だけ行なう。

後は、本家の ML に流す手もありますね。差し支えなければ、anon ftp か何
かでテストデータを提供できるようにしておけば、より解析がスムーズにいく
と思います。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ

<HR>
</PRE>
<A NAME="8">
<PRE><B>
From: Kazuyuki Kuribayashi &lt;kuri@bridge.co.jp&gt;
Date: Wed, 30 Aug 95 12:07:53 JST
Subject: [postgres95 69] Self Introduction
Message-Id: &lt;9508300308.AA16066@eos.bridge.co.JP&gt;
</A>
</B></PRE>
<PRE>

はじめして、くりばやし＠ブリッジです。

簡単な自己紹介です。

大昔(12年前),最初の勤め先で、MUMPSで社内データベースを構築したことがあ
ります。データベースの経験はそれくらいです。

データの原理やSQLを勉強するのに何か良い教本はありませんか？
教えて下さい。

これからもよろしくお願いします。
<HR>
</PRE>
<A NAME="7">
<PRE><B>
From: Hideo Sashida/指田英雄  &lt;sashida@ae.keio.ac.jp&gt;
Date: Wed, 30 Aug 1995 12:09:21 +0900
Subject: [postgres95 68] Re: Welcome to postgres95
Message-Id: &lt;9508300309.AA00834@cairns.ae.keio.ac.jp&gt;
</A>
</B></PRE>
<PRE>


始めまして。指田＠慶應義塾大学と申します。

以前、私の趣味(アイドルなんです…)で作ったデータベースをWebのページに
変換するという試みをしていました。(現在も手を加えておりますが)

もちろん、今後、postgres95を多方面に利用していきたいと考えております。
皆様、今後ともよろしくお願いします。

では。

--
     指田     英雄       理工学研究科 管理工学専攻 修士１年 遠山研究室
     SASHIDA  Hideo      矢上 23棟620  TEL 045-563-1151(内3678)
 &lt;sashida@ae.keio.ac.jp&gt; http://www.comp.ae.keio.ac.jp/~sashida/
<HR>
</PRE>
<A NAME="6">
<PRE><B>
From: hoshi@foolhp.ap.kagu.sut.ac.jp
Date: Wed, 30 Aug 95 12:04:50 +0900
Subject: [postgres95 67] (No Subject in original)
Message-Id: &lt;199508300304.MAA05102@sraigw.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

subscribe postgres95
<HR>
</PRE>
<A NAME="5">
<PRE><B>
From: Shintaro Watanobe &lt;sin@soum.co.jp&gt;
Date: Wed, 30 Aug 1995 11:48:42 +0900
Subject: [postgres95 66] Re: Welcome to postgres95 
Message-Id: &lt;199508300248.LAA07385@force.soum.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして、渡部(わたのべ)＠創夢です。

以前、仕事で infomix を使った経験はあったのですが、5 月に業
務関連の情報をデータベース化するため Solaris 上で postgres
を使用しました。
今後、postgres95 を仕事の情報整理に活用したいと考えています。

よろしくお願いします。
<HR>
</PRE>
<A NAME="4">
<PRE><B>
From: Yuichia YASUDA &lt;gojira@amaebi.trad.pfu.fujitsu.co.jp&gt;
Date: Wed, 30 Aug 1995 11:42:05 +0900
Subject: [postgres95 65] Self introduction 
Message-Id: &lt;9508300242.AA00993@amaebi.trad.pfu.fujitsu.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして。保田＠ＰＦＵです。
遅れましたが自己紹介です。

本業はOODBライクなC++簡易DBライブラリ(良くわからんですね)の開発
  一応データベース関係者かな。

いわゆるRDBの経験はありません。
隣ではOracleのサポートや富士通のRDBシステムの開発などやっているので周りにプロは
多いのですが。
いっちょ本格的なデータベースシステムも勉強してみるかってところでしょうか。
また、エンジンのインプリメントとかにも興味があります。

一方、趣味でFreeBSD上でのプログラミングをやっていますが、柔軟なデータベース
システムが利用できることの必要性を感じていて、こちらでも使ってみたいと思って
います。

よろしくお願いします。


    保田　有一　（株）ＰＦＵ
    gojira@pfu.fujitsu.co.jp
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: 藤枝 和宏 (FUJIEDA Kazuhiro) &lt;fujieda@jaist.ac.jp&gt;
Date: Wed, 30 Aug 1995 11:13:13 JST
Subject: [postgres95 64] Mirror configuration is modified.
Message-Id: &lt;199508300213.LAA11131@melon.jaist.ac.jp&gt;
</A>
</B></PRE>
<PRE>

藤枝＠ＪＡＩＳＴです。

ftp://ftp.jaist.ac.jp/pub/dbms/postgres95 のmirrorの設定を変更して、
本家の ftp://s2k-ftp.CS.Berkeley.EDU/pub/postgres95 の下を全部持って
来るようにしました。

ftp://ftp.jaist.ac.jp/pub/dbms/postgres95/index.html でPostgres95の
ホームページや、バグリストにアクセスできるようになりましたので、ご利
用下さい。

ちなみにmirrorの周期は1週間です。新しいバージョンがリリースされたと
きには手動でmirrorしています。
____
  | ＡＩＳＴ  北陸先端科学技術大学院大学
  | HOKURIKU  情報科学研究科 落水研究室
o_/ 1990      藤枝 和宏 fujieda@jaist.ac.jp
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: Junichi Kobayashi &lt;junichi@sra.co.jp&gt;
Date: Wed, 30 Aug 95 10:56:08 +0900
Subject: [postgres95 63] Re: Self introduction 
Message-Id: &lt;9508300156.AA26895@sran330.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして、SRAの小林と申します。

&gt; …堅苦しい挨拶はこのくらいにして:-)、とりあえず当MLのスタートは自己紹
&gt; 介から始めませんか？では、いいだしっぺの私から行きます。

やっと、自己紹介を書く時間がとれました。
-----------------------------------------------------------------
仕事:
	（株）SRA 技術第3グループ所属。現在横浜市の事業所に
	勤務。石井さん宮田さんと同じビルです。
	ソフトウェア開発の現場作業なので、提案書作りや見積をし
	たり(げっ、つまんない)、perlでツールを組んだり(わー
	いっ！楽しいぞ)などをしています。

	石井さんは、もうだいぶ前ですが、私が入社して最初のプロジェクト
	リーダです(ラッキー)。

	宮田さんとは、以前、四谷のサッシペレレというお店で、
	元ミシガン大学のDr. Jone H. Sayler 先生とサンバを踊った
	ことがあります。:-)

職場でのコンピュータ環境:
	NEWS 1860 が机の上に乗ってます。その他。

家庭でのコンピュータ環境:
	ファミコンがあったのですが、壊れてしまいました。

興味をもっていること:
	OO関連、perl、peopleware。

Postgres歴:
	なし。これから入門します。
--
			(株)SRA 技3G 小林純一
			junichi@sra.co.jp Tel:045-948-1600 Fax:045-948-1616
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Asada Kazuhisa (浅田 和久) &lt;asada@trust.co.jp&gt;
Date: Wed, 30 Aug 1995 10:27:16 +0900
Subject: [postgres95 62] こんにちは
Message-Id: &lt;9508300127.AA00413@pigeon.trust.co.jp&gt;
</A>
</B></PRE>
<PRE>

  こんにちは、浅田と申します。

  これまでRDBには多少興味があったものの縁が無くて触らずに来ましたが
  Postgres95ではSQLが使えるとの事で当MLに参加させて頂きました。

  まだPostgress95を作成していないのですが自宅用マシンとしてPentium
  のPCを購入したので(OSはSolaris 2.4/x86)使ってみたいと思っておりま
  す。

  # 本当はSPARCstationが欲しかったんですけど…

  会社ではSYBASE(4.9.2とSystem 10)が動いていますが残念ながら私は使っ
  た事がありません。Ingressはコンパイルした事があるのですけど(4.2BSD
  ソースから持って来たもの)、SQLが使えないので捨ててしまった前歴があ
  ります。

  どうぞよろしくお願い致します。

  ******************************************************
    株式会社トラストシステム  オープンシステムグループ
        浅田和久         E-mail: asada@trust.co.jp
            TEL: 06-389-6119  FAX: 06-338-5938
  ******************************************************
<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Wed, 30 Aug 1995 10:42:48 +0900
Subject: [postgres95 61] Re: I can't start the postmaster 
Message-Id: &lt;199508300142.KAA10127@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

&gt;postgres95-beta0.03が無事でコンパイルできましたが，postmaster -Sは
&gt;起動できてません。起動してみたら以下のメッセージが出ます。
&gt;
&gt;postgres@mckinley[182]%postmaster -S
&gt;IpcMemoryCreate: memKey=155356405 , size=24588 ,
&gt;permission=448IpcMemoryCreate: shmget(..., create, ...) failed:
&gt;Invalid argument
&gt;IpcMemoryIdGet: memKey=155356405 , size=24588 ,
&gt;permission=0IpcMemoryIdGet:  shmget() failed: Invalid argument
&gt;
&gt;問題はどこにあるか教えて頂けませんでしょうか。
&gt;
&gt;ちなみに，プラットフォームは
&gt;
&gt;	 SPARCstation-LX
&gt;	 SunOS Release 4.1.3C-JLE1.1.3C 
&gt;         gcc 2.5.8
&gt;
&gt;です。

基本的なことで失礼ですが、Makefile.global の PORTNAME は sparc になっ
てますよね？

これ以外に考えられるのは、shared memory の不足です。

http://s2k-ftp.cs.berkeley.edu:8000/postgres/postgres-v4r2/postgres-setup.{ps,cat} 
を参考に shared memory を増やしてみてはどうでしょう？
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
