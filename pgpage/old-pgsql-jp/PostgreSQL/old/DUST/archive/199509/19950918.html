<A NAME="11">
<PRE><B>
From: Zengo Furukawa &lt;zengo@ec.kyushu-u.ac.jp&gt;
Date: Mon, 18 Sep 1995 18:32:20 +0900
Subject: [postgres95 168] Re: POSTGRES95　VR1.0について
Message-Id: &lt;199509180932.SAA11351@zeus.ec.kyushu-u.ac.jp&gt;
</A>
</B></PRE>
<PRE>

九州大学の古川です。

From: Yoshihiro Oka &lt;oka@2s.mais.mei.co.jp&gt;
Date: Mon, 18 Sep 1995 17:59:46 +0900

&gt; ソースディレクトリとインストールディレクトリを分けてコンパイルしたの
&gt; ですが、おおむね成功しているのですが、肝心なpostgresが生成されません。
&gt; 下記の様なエラーに成っています。
&gt; 
&gt; /usr/home/oka/SRC/postgres95/src/backend/parser/scan.l:190: Undefined symbol `_yy_flush_buffer' referenced from text segment
&gt; gmake: *** [postgres] Error 1

From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Subject: [postgres95 167] Re: POSTGRES95　VR1.0について
Date: Mon, 18 Sep 1995 18:09:30 +0900

&gt; もしかして、最新版の flex をインストールする必要があるのではないでし
&gt; ょうか？

これが、正しい対処かも知れませんが、単なる逃げ道です。

From: Zengo Furukawa &lt;zengo&gt;
Subject: Instlation on linux.
Date: Tue, 05 Sep 1995 13:36:02 +0900

&gt; ・もう一つ、リンク時に scan.l の中の yy_flush_buffer がリンクできない
&gt; とメッセージが出たので、その部分をコメントアウトしてしまいました:-)
&gt; gcc は、2.6.3、 flex は 1.2 です (と思います:-)

&gt; ・psql からの実行時に一旦シンタックスエラーがでると、後もうまく行きま
&gt; せん (yy_flush_buffer をコメントアウトしたせいでしょうね)。

From: Hiroyuki Hanai &lt;hanai@venusux1.kek.jp&gt;
Subject: [postgres95 122] Re: Instlation on linux. 
Date: Tue, 05 Sep 1995 14:29:34 +0900

&gt; &gt; ・psql からの実行時に一旦シンタックスエラーがでると、後もうまく行きま
&gt; &gt; せん (yy_flush_buffer をコメントアウトしたせいでしょうね)。
&gt; 何回か ;&lt;return&gt; を入力してやるとまたうまく行くようになりませんか？

とのことです。と、つぎはぎだけのメイルで済みません:-)

----
古川善吾＠九州大学・情報処理教育センター
〒812 福岡市東区箱崎6-10-1
TEL: 092-641-1101 内線 2651 FAX: 092-641-4047
E-Mail: zengo@ec.kyushu-u.ac.jp
<HR>
</PRE>
<A NAME="10">
<PRE><B>
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Date: Mon, 18 Sep 1995 18:09:30 +0900
Subject: [postgres95 167] Re: POSTGRES95　 VR1.0	 について 
Message-Id: &lt;9509180909.AA04232@mu.tulips.tsukuba.ac.jp&gt;
</A>
</B></PRE>
<PRE>

&gt; すが、おおむね成功しているのですが、肝心なpostgresが生成されません。
&gt; 下記の様なエラーに成っています。
&gt; 
&gt; /usr/home/oka/SRC/postgres95/src/backend/parser/scan.l:190: Undefined symbol `_yy_flush_buffer' referenced from text segment
もしかして、最新版の flex をインストールする必要があるのではない
でしょうか？
□===□　近藤.
<HR>
</PRE>
<A NAME="9">
<PRE><B>
From: Yoshihiro Oka &lt;oka@2s.mais.mei.co.jp&gt;
Date: Mon, 18 Sep 1995 17:59:46 +0900
Subject: [postgres95 166] Re: POSTGRES95　 VR1.0	について
Message-Id: &lt;9509180859.AA21322@2s.mais.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

岡です。今日の昼休みと仕事の合間にコソコソとして、DHU+FreeBSDにインス
トールしておりました。
ソースディレクトリとインストールディレクトリを分けてコンパイルしたので
すが、おおむね成功しているのですが、肝心なpostgresが生成されません。
下記の様なエラーに成っています。

/usr/home/oka/SRC/postgres95/src/backend/parser/scan.l:190: Undefined symbol `_yy_flush_buffer' referenced from text segment
gmake: *** [postgres] Error 1

で、scan.1の問題の箇所はこのように成っています。
    188 #if defined(FLEX_SCANNER)
    189     if (YY_CURRENT_BUFFER)
    190         yy_flush_buffer(YY_CURRENT_BUFFER);
    191 #endif /* FLEX_SCANNER */
    192     BEGIN INITIAL;
    193 }
これの対処はどのようにすれば、いいのでしょうか？

MAKEFILE.GLOBALは、小文字ですが、srcの所に有って、コンパイル時に全体に
影響を与える項目を定義しています。一番簡単にはＯＳのタイプを定義すれば
コンパイル可能に成ります。但し私の様にはまってしまう可能性は有りますね:-p 
こんな説明でいいのかな？＞ａｌｌ
＃ 所属が少し変わりました。 ◇●☆◆○★◇●☆◆○★◇●☆◆○★◇●☆◆
○　松下情報システム（株）　　　　　　　第２システム開発部事業開発室　☆
◆　岡　　善博　　TEL 06-350-3729 　　　e-mail:oka@2s.mais.mei.co.jp　◆
★◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★

<HR>
</PRE>
<A NAME="8">
<PRE><B>
From: HENMI Kentoshi/逸見  	謙年  &lt;hen@graphtec.co.jp&gt;
Date: Mon, 18 Sep 1995 17:48:12 +0900
Subject: [postgres95 165] Re: ちょっと基本的な質問
Message-Id: &lt;199509180848.RAA00870@eds6.graphtec.co.jp&gt;
</A>
</B></PRE>
<PRE>

&gt;&gt;&gt;&gt;&gt; &quot;&gt;&quot; == T・ユキ&lt;LHD33613@pcvan.or.jp&gt; writes:

&gt;&gt; 　みなさんがいろいろとぎろんなさっているMAKEFILE.GLOBALっていったいなんのこと
&gt;&gt; でしょうか？　おしえてください。

pstgres の配布物に入っている src/Makefile.global のことです。

＃ 台風でネットワーク障害が出て、その復旧で、&quot;~&quot;オペレータの検索時間の
＃ 実験ができない。 ;_;

	逸見 謙年 (Kentoshi Henmi)  hen@graphtec.co.jp
<HR>
</PRE>
<A NAME="7">
<PRE><B>
From: T・ユキ &lt;LHD33613@pcvan.or.jp&gt;
Date: Mon, 18 Sep 95 16:04:24 +0900
Subject: [postgres95 164] ちょっと基本的な質問
Message-Id: &lt;950918160419.21577@pcvan.or.jp&gt;
</A>
</B></PRE>
<PRE>

　みなさんがいろいろとぎろんなさっているMAKEFILE.GLOBALっていったいなんのこと
でしょうか？　おしえてください。
*****************************
NAME:          UEDA TAKAYUKI*
E-MAIL:LHD33613@PCVAN.OR.JP *
*****************************
<HR>
</PRE>
<A NAME="6">
<PRE><B>
From: Asada Kazuhisa (浅田 和久) &lt;asada@trust.co.jp&gt;
Date: Mon, 18 Sep 1995 11:15:35 +0900
Subject: [postgres95 163] Re: POSTGRES95　 VR1.0	 について 
Message-Id: &lt;9509180215.AA00566@pigeon.trust.co.jp&gt;
</A>
</B></PRE>
<PRE>

&gt;ちょっと確認ですが、これは Makefile.global を修正してコンパイルしても
&gt;駄目だと言うことですか？私の場合、Makefile.global の POSTGRESDIR をセッ
&gt;トして、/usr/local/postgres95 以外でも問題なくコンパイルできてますが。

  ごめんなさい。自分もこれでコンパイルしていたというのに嘘をつきまし
  た。(寝惚けてますね)

  木曜日の定時後にちまちまといい加減な修正を加えている過程でそう思い
  込んでおりました。(なのにちゃんとMakefile.globalを編集している)

  ところでテスト結果のdiffを取ったりしていたのですが結構沢山の相違が
  出てしまいます。大半はパスやタイムゾーンの違いなのですが8652行以降
  から出力データに違いが出てしまいます。SPARCsystemでもそうなるので
  しょうか。(今の所、SunOSないしSolaris for SPARCはディスクが空いて
  いなくて作成出来ておりません)

  ******************************************************
    株式会社トラストシステム  オープンシステムグループ
        浅田和久         E-mail: asada@trust.co.jp
            TEL: 06-389-6119  FAX: 06-338-5938
  ******************************************************
<HR>
</PRE>
<A NAME="5">
<PRE><B>
From: Yoshihiro Oka &lt;oka@2s.mais.mei.co.jp&gt;
Date: Mon, 18 Sep 1995 10:51:46 +0900
Subject: [postgres95 162] Re: POSTGRES95　 VR1.0	について
Message-Id: &lt;9509180151.AA19793@2s.mais.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

岡です。
From: Asada Kazuhisa (浅田 和久) &lt;asada@trust.co.jp&gt;
Subject: [postgres95 159] Re: POSTGRES95　VR1.0について
Date: Mon, 18 Sep 1995 10:01:53 +0900

&gt;   現在私はSolaris 2.4 for x86でとりあえず動作させております。正常
&gt;   に動作しているのかはまだ確認しておりません。そのままではコンパイ
&gt;   ルが通らないのでsparc_solarisと似たintel_solarisのconfigを用意し
&gt;   て作成しました。ただ、sparc_solarisの設定をそのまま使うと「tas」
&gt;   (test and set)関数が無いので動きませんからLinux用の関数を持って
&gt;   来ました。これらの変更は御所望の方がおられましたら暇をみて差分を
&gt;   作ろうかなと思います。
家でSolaris2.4 for x86も動かしています:-p
是非、作ってくださいませ。
＃ 所属が少し変わりました。 ◇●☆◆○★◇●☆◆○★◇●☆◆○★◇●☆◆
○　松下情報システム（株）　　　　　　　第２システム開発部事業開発室　☆
◆　岡　　善博　　TEL 06-350-3729 　　　e-mail:oka@2s.mais.mei.co.jp　◆
★◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★
<HR>
</PRE>
<A NAME="4">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Mon, 18 Sep 1995 10:22:48 +0900
Subject: [postgres95 161] Re: POSTGRES95　 VR1.0	 について 
Message-Id: &lt;199509180122.KAA25818@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;  これは私もやりました。(Solaris 2.4 for x86)
&gt;
&gt;&gt;monitor.c:15: libpq/pqsignal.h: No such file or directory
&gt;&gt;monitor.c:30: libpq-fe.h: No such file or directory
&gt;&gt;monitor.c:31: libpq/libpq-fs.h: No such file or directory
&gt;
&gt;  この辺のエラーはPostgres95の標準展開先である
&gt;  /usr/local/postgress95にソースを展開しなかった場合に出るようです。
&gt;  何か環境変数ないしマクロを参照して切替えているのかと思いきや、い
&gt;  きなりMakefileに絶対パスが記述されていたりします。ですからここは
&gt;  おとなしくシンボリックリンクを張るのが無難だと思います。

ちょっと確認ですが、これは Makefile.global を修正してコンパイルしても
駄目だと言うことですか？私の場合、Makefile.global の POSTGRESDIR をセッ
トして、/usr/local/postgres95 以外でも問題なくコンパイルできてますが。
（SunOS4.1.3)
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: Yoshihiro Oka &lt;oka@2s.mais.mei.co.jp&gt;
Date: Mon, 18 Sep 1995 10:17:51 +0900
Subject: [postgres95 160] Re: POSTGRES95　 VR1.0	について
Message-Id: &lt;9509180117.AA19641@2s.mais.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

岡＠松下情報システムです。
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Subject: [postgres95 158] Re: POSTGRES95　VR1.0について
Date: Mon, 18 Sep 1995 09:10:44 +0900
&gt; ソースを、$(POSTGRESDIR)/src ディレクトリ以外の場所で展開してい
&gt; ませんか？
自分のホーム配下に展開しています。
&gt; 　本来なら Makefile を書換えるべきでしょうが、 
&gt; /usr/local/postgres95 の下でソースを展開したらさっくりコンパイ
&gt; ルできました。
なるほど、良く判りました。makeのメッセージが変だとは思っていたのですが、
まさか、ソースを/usr/local/postgres95に展開しないといけないとは思って
も見ませんでした:-p
早速、昼休みのでもトライしてみます。
ありがとうございました。
＃ 所属が少し変わりました。 ◇●☆◆○★◇●☆◆○★◇●☆◆○★◇●☆◆
○　松下情報システム（株）　　　　　　　第２システム開発部事業開発室　☆
◆　岡　　善博　　TEL 06-350-3729 　　　e-mail:oka@2s.mais.mei.co.jp　◆
★◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: Asada Kazuhisa (浅田 和久) &lt;asada@trust.co.jp&gt;
Date: Mon, 18 Sep 1995 10:01:53 +0900
Subject: [postgres95 159] Re: POSTGRES95　 VR1.0	について
Message-Id: &lt;9509180102.AA00471@pigeon.trust.co.jp&gt;
</A>
</B></PRE>
<PRE>


  これは私もやりました。(Solaris 2.4 for x86)

&gt;monitor.c:15: libpq/pqsignal.h: No such file or directory
&gt;monitor.c:30: libpq-fe.h: No such file or directory
&gt;monitor.c:31: libpq/libpq-fs.h: No such file or directory

  この辺のエラーはPostgres95の標準展開先である
  /usr/local/postgress95にソースを展開しなかった場合に出るようです。
  何か環境変数ないしマクロを参照して切替えているのかと思いきや、い
  きなりMakefileに絶対パスが記述されていたりします。ですからここは
  おとなしくシンボリックリンクを張るのが無難だと思います。

  現在私はSolaris 2.4 for x86でとりあえず動作させております。正常
  に動作しているのかはまだ確認しておりません。そのままではコンパイ
  ルが通らないのでsparc_solarisと似たintel_solarisのconfigを用意し
  て作成しました。ただ、sparc_solarisの設定をそのまま使うと「tas」
  (test and set)関数が無いので動きませんからLinux用の関数を持って
  来ました。これらの変更は御所望の方がおられましたら暇をみて差分を
  作ろうかなと思います。

  動作環境
    Pentium 100MHz / 32MB Memory / 4.3GB SCSI HDD
    Solaris 2.4 for x86 (101946-12) / Driver Update 8

  ******************************************************
    株式会社トラストシステム  オープンシステムグループ
        浅田和久         E-mail: asada@trust.co.jp
            TEL: 06-389-6119  FAX: 06-338-5938
  ******************************************************
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Date: Mon, 18 Sep 1995 09:10:44 +0900
Subject: [postgres95 158] Re: POSTGRES95　VR1.0	 について 
Message-Id: &lt;9509180010.AA28477@mu.tulips.tsukuba.ac.jp&gt;
</A>
</B></PRE>
<PRE>

&gt; せている、FreeBSD-2.0.5-SNAPにインストールしようとしましたが、順調にコ
&gt; ンパイルが進んでいたのが、エラーが出てまともな物が出来ませんでした。

ソースを、$(POSTGRESDIR)/src ディレクトリ以外の場所で展開してい
ませんか？

&gt; fe-auth.c:33: libpq/pqcomm.h: No such file or directory
最初に作った時は、このエラーが出るたびに原因となったファイルにリ
ンクを張っていました。

　本来なら Makefile を書換えるべきでしょうが、 
/usr/local/postgres95 の下でソースを展開したらさっくりコンパイ
ルできました。

□===□　近藤＠外していたらすいません.
<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Yoshihiro Oka &lt;oka@2s.mais.mei.co.jp&gt;
Date: Mon, 18 Sep 1995 08:50:39 +0900
Subject: [postgres95 157] Re: POSTGRES95　VR1.0	 について 
Message-Id: &lt;9509172350.AA19362@2s.mais.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

初めまして、岡＠松下情報システムです。
From: Kouichi_Sato &lt;koichi@ccc.canon.co.jp&gt;
Subject: [postgres95 150] Re: POSTGRES95=?ISO-2022-JP?B?GyRCISEbKEI=?=VR1.0
	 =?ISO-2022-JP?B?GyRCJEskRCQkJEYbKEI=?= 
Date: Thu, 14 Sep 1995 17:28:05 +0900

&gt; はじめまして。
&gt; 佐藤＠キヤノンです。
&gt; ftp.jaist.ac.jp/pub/dbms/postgres95/postgres95-1.0.tar.gz
&gt; にあるようです。
日曜日に思い立って、postgres95-1.0.tar.gzをとりにいったのですが、何故
か無くて、分割して置いてある物を取って来て、ノートパソコン(ＤＨＵ)に載
せている、FreeBSD-2.0.5-SNAPにインストールしようとしましたが、順調にコ
ンパイルが進んでいたのが、エラーが出てまともな物が出来ませんでした。

じゃ、SunOS4.1.3_U1(日本語)なら入るだろうと思ってコンパイルしました。
すると、FreeBSDと同様な結果でした。(最後にエラーメッセージを付けます)
postgres95-1.0は、全く初心者なのでインストールに何かノウハウが必要なら
教えて下さい。宜しくお願いします。
＃ 所属が少し変わりました。 ◇●☆◆○★◇●☆◆○★◇●☆◆○★◇●☆◆
○　松下情報システム（株）　　　　　　　第２システム開発部事業開発室　☆
◆　岡　　善博　　TEL 06-350-3729 　　　e-mail:oka@2s.mais.mei.co.jp　◆
★◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★○◆☆●◇★
以下は、再度gmakeをした結果です。
===&gt; backend
===&gt; libpq
gcc -c -g -DPORTNAME_sparc -DPOSTPORT='&quot;5432&quot;'  -DDEADLOCK_TIMEOUT=60
-I/usr/local/postgres95/src/backend/include
-I/usr/local/postgres95/src/backend
-I/usr/home/oka/SRC/postgres95/src/libpq   fe-auth.c -o obj/fe-auth.o
fe-auth.c:33: libpq/pqcomm.h: No such file or directory
In file included from fe-auth.c:35:
libpq-fe.h:22: libpq/pqcomm.h: No such file or directory
libpq-fe.h:23: lib/dllist.h: No such file or directory
gmake[1]: *** [obj/fe-auth.o] Error 1
===&gt; bin
===&gt; monitor
gcc -c -g -DPORTNAME_sparc -DPOSTPORT='&quot;5432&quot;'  -DDEADLOCK_TIMEOUT=60
-I/usr/local/postgres95/include -I/usr/local/postgres95/src/backend
-I/usr/local/postgres95/src/backend/include  monitor.c -o
obj/monitor.o
monitor.c:15: libpq/pqsignal.h: No such file or directory
monitor.c:30: libpq-fe.h: No such file or directory
monitor.c:31: libpq/libpq-fs.h: No such file or directory
gmake[2]: *** [obj/monitor.o] Error 1
===&gt; pg_id
gcc -g -o obj/pg_id obj/pg_id.o -L/usr/local/postgres95/src/libpq/obj
-L/usr/local/postgres95/lib -lpq
ld: -lpq: No such file or directory
collect2: ld returned 4 exit status
gmake[2]: *** [pg_id] Error 1
===&gt; pg_version
gmake[2]: *** No rule to make target `obj/magic.o'.  Stop.
===&gt; psql
gcc -c -g -DPORTNAME_sparc -DPOSTPORT='&quot;5432&quot;'  -DDEADLOCK_TIMEOUT=60
-I/usr/local/postgres95/include -I/usr/local/postgres95/src/backend
-I/usr/local/postgres95/src/backend/include -DNOREADLINE  psql.c -o
obj/psql.o
psql.c:18: libpq-fe.h: No such file or directory
gmake[2]: *** [obj/psql.o] Error 1
===&gt; cleardbdir
===&gt; createdb
===&gt; createuser
===&gt; destroydb
===&gt; destroyuser
===&gt; initdb
<HR>
</PRE>
