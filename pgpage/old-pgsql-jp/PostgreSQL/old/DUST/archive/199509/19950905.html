<A NAME="19">
<PRE><B>
From: Kenichi Yoshida &lt;yoshida@harl.hitachi.co.jp&gt;
Date: Tue, 29 Aug 95 18:04:57 +0900
Subject: [postgres95 40] Re: Welcome to postgres95 
Message-Id: &lt;199508290904.SAA04845@harlgw92.harl.hitachi.co.jp&gt;
</A>
</B></PRE>
<PRE>

&gt;&gt; なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
&gt;&gt; にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
&gt;&gt; すので、御協力のほどをお願いします。
&gt; あれっ? こんなのがあったんですね. 見落としてました.

吉田と申します。同じく見落としていました。というか最近入ったので、その
前に流れたメッセージなのだと理解しています。

最近ACCESSを触る機会があって、DBも結構便利だなと思い勉強し始めた所です。
srcがある方が好きなのと、普段使っているlinuxでも動くらしいので、MLに参
加させていただきました。よろしくお願いします。
<HR>
</PRE>
<A NAME="18">
<PRE><B>
From: Ichiro Yamashita &lt;ichiro@rsl.crl.fujixerox.co.jp&gt;
Date: Tue, 29 Aug 1995 17:55:08 +0900
Subject: [postgres95 39] Re: Welcome to postgres95 
Message-Id: &lt;9508290855.AA29360@wildcat.rsl.crl.fujixerox.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして, 山下＠富士ゼロックスです.

&gt;  &gt; なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
&gt;  &gt; にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
&gt;  &gt; すので、御協力のほどをお願いします。

あれっ? こんなのがあったんですね. 見落としてました.
とうわけで遅ればせながら自己紹介です.

postgresとのつきあいは, 1年くらい前からでしょうか? 
現在は, NetBSD/SPARC上でpostgres95を動かしています.
主な使用目的は, cgiによるご近所への簡単な検索サービスです. 
perlやtclから使えるので重宝しています.
まだまだ単純な使い方しかしていないので, わからないことだらけですが, 
よろしくお願いします.

--
山下 一郎＠富士ゼロックス           Internet: ichiro@rsl.crl.fujixerox.co.jp
Ichiro Yamashita                     NTT net: 0465-80-2258
システム・コミュニケーション研究所 Snail Net: 〒259-01 神奈川県足柄上郡
富士ゼロックス株式会社                          中井町境430 グリーンテクなかい

<HR>
</PRE>
<A NAME="17">
<PRE><B>
From: taka@fxis.fujixerox.co.jp
Date: Tue, 29 Aug 1995 17:10:44 +0900
Subject: [postgres95 38] 始めまして。
Message-Id: &lt;199508290810.RAA07211@litra.nwt.fxis.fujixerox.co.jp&gt;
</A>
</B></PRE>
<PRE>

postgres95ではなくて、postgresをmakeだけした残骸を残してはいますが、
全く使ってはいません。

やはりソースがあり、「使えそう」と期待が持てるpostgres95に興味を持っ
ています。本業も趣味もデータベースには全く詳しくありませんが、よろし
くお願いします。

--
神戸　隆博（かんべ　たかひろ）		at FXIS
<HR>
</PRE>
<A NAME="16">
<PRE><B>
From: Hiroyuki Hanai &lt;hanai@venusux1.kek.jp&gt;
Date: Tue, 29 Aug 1995 17:05:19 +0900
Subject: [postgres95 37] Re: Please tell me how to get Postgres95 
Message-Id: &lt;199508290805.RAA08434@kekux.kek.jp&gt;
</A>
</B></PRE>
<PRE>


花井＠D論が進まない です。

石井さんと飯口さん:
&gt; &gt; これはプラットフォームで必要なものというか、コツが違ってきます。現在サ
&gt; &gt; ポートされているのは、
&gt; &gt; 
&gt; &gt;    DECstation 3000/OSF/1.2.1, 3.0 
&gt; &gt;    DECstation 5000/Ultrix 4.4 
&gt; &gt;    Sun Sparc/SunOS 4.1.3, 4.1.3_U1, Solaris 2.4 
&gt; &gt;    HP-9000/7000/800/HP-UX 9.00, 9.01, 9.03 
&gt; &gt;    X86/Linux 1.2.8, ELF
&gt; &gt; 
&gt; &gt; です。飯口さんはどんなマシン環境にインストールする予定でしょうか？
&gt; こちらのマシン環境は HP-UX 9.04 です。
&gt; ということは。。。

僕が postgres95 をインストールしたのは、HP-UX 9.05 なんですが、
GNU make があれば、make 一発で出来ました。 多分 HP-UX 9.04 でも
大丈夫なんではないかなぁと推測します。

石井さん:
&gt; ちょっとここのところの意味がわかりませんが、もし root になれないのだと
&gt; すると、インストールはできないでしょう。

そうですね、postgres95用のアカウントを作るとかしければいけないし．．．

-----
花井浩之		大阪大学大学院理学研究科物理学専攻後期課程３年
			日本学術振興会特別研究員ＤＣ
			E-mail: hanai@venusux1.kek.jp,hanai@venusbsd1.kek.jp
			URL: http://venusbsd1.kek.jp/
<HR>
</PRE>
<A NAME="15">
<PRE><B>
From: SAITO Tomohito &lt;tomos@elelab.nsc.co.jp&gt;
Date: Tue, 29 Aug 1995 16:47:49 +0900
Subject: [postgres95 36] Hello !!
Message-Id: &lt;199508290747.QAA10469@valac.elelab.nsc.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして。さいとう＠ＴＯＭＯＳ と申します。

仕事では Sybase, Oracle の両方を使っているのですが、どうも中身が見えな
くてつまらないなと思っていました。postgres95 で多少なりとも RDBMS の中
身がわかればうれしいなと思っています。では、よろしくお願いします。

■ＯＭＯ  Tomohito Saito       齊藤 知人        Y   ＴＯＭＯＴＯＭＯ■
ＯＭＯＴ  Email:  tomos@elelab.nsc.co.jp      (^J^) ＯＭＯＴＯＭＯＴＯ
ＭＯＴＯ  Tel: 0427-68-6052 Fax: 0427-68-5969 :(=): ＭＯＴＯＭＯＴＯＭ
■ＴＯＭ  新日本製鐵(株) システム研究開発センター   ＯＴＯＭＯＴＯＭ■
<HR>
</PRE>
<A NAME="14">
<PRE><B>
From: Yoshihiro Iiguchi &lt;yoshi@cincomj.co.jp&gt;
Date: Tue, 29 Aug 1995 16:34:55 +0900
Subject: [postgres95 35] Re: Please tell me how to get Postgres95 
Message-Id: &lt;199508290734.AA212931695@vega.cincomj.co.jp&gt;
</A>
</B></PRE>
<PRE>

シンコムの飯口です。
早速の回答どうもありがとうございます。

&gt; 石井＠SRAです。今後必ずこういう質問が繰り返されると思うので、今の内に 
&gt; FAQ 化を考えた方がいいかも知れませんね。
&gt; というわけで、だしに使って申し分けありません:-)
いえいえ。お気になさらずに。

&gt; これはプラットフォームで必要なものというか、コツが違ってきます。現在サ
&gt; ポートされているのは、
&gt; 
&gt;    DECstation 3000/OSF/1.2.1, 3.0 
&gt;    DECstation 5000/Ultrix 4.4 
&gt;    Sun Sparc/SunOS 4.1.3, 4.1.3_U1, Solaris 2.4 
&gt;    HP-9000/7000/800/HP-UX 9.00, 9.01, 9.03 
&gt;    X86/Linux 1.2.8, ELF
&gt; 
&gt; です。飯口さんはどんなマシン環境にインストールする予定でしょうか？
こちらのマシン環境は HP-UX 9.04 です。
ということは。。。
取り敢えず、現在は結構時間に余裕があるのでぼちぼちとやってみる予定です。

-------------------------------------------------------------------
 Yoshihiro Iiguchi
 Industry System Dept. Cincom Systems Japan,Ltd.
 E.mail yoshi@cincomj.co.jp                   phone 81-3-3438-2794
					      fax   81-3-3438-1823

<HR>
</PRE>
<A NAME="13">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Tue, 29 Aug 1995 15:47:44 +0900
Subject: [postgres95 34] Re: Please tell me how to get Postgres95 
Message-Id: &lt;199508290647.PAA15378@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。今後必ずこういう質問が繰り返されると思うので、今の内に 
FAQ 化を考えた方がいいかも知れませんね。

&gt;シンコムの飯口です。

というわけで、だしに使って申し分けありません:-)

&gt;折角MLに参加するにしても、やはり実際に環境がないと面白くないので、
&gt;postgres95をインストールしよう考えたのですが、
&gt;よくよく考えたら、「どこにあって」、「どうすればいい」、のかが判りません。
&gt;つきましては万事とは言いませんが、適当にお教え頂ければと思います。

o どこにある？

おまけにあるように、fujieda@jaist.ac.jp さんが公式国内ミラーサイトを管
理されているので、国内では ftp://ftp.jaist.ac.jp/pub/dbms/postgres95 
から入手するのがベストと思われます。ただ、ここには bug fix のパッチま
では載っていないようなので、こちらは本家の 
http://s2k-ftp.cs.berkeley.edu:8000/postgres95/www/pglite5.html を参照
して下さい。

正規表現検索の日本語化が必要な場合は、
ftp://ftp.sra.co.jp/pub/cmd/postgres/postgres95-beta0.03/postgres95-beta0.03.diff.gz

を適用して下さい。

o どうすればいい？

これはプラットフォームで必要なものというか、コツが違ってきます。現在サ
ポートされているのは、

   DECstation 3000/OSF/1.2.1, 3.0 
   DECstation 5000/Ultrix 4.4 
   Sun Sparc/SunOS 4.1.3, 4.1.3_U1, Solaris 2.4 
   HP-9000/7000/800/HP-UX 9.00, 9.01, 9.03 
   X86/Linux 1.2.8, ELF

です。飯口さんはどんなマシン環境にインストールする予定でしょうか？

私自身は SunOS 4.1.3 しかインストールしたことがないので、その範囲で言
うと、

	gmake
	gcc
	Tcl3.7/Tk4.0

などが必要でした。（Tcl/Tk は tcl インターフェイスを使わなければ必要な
い）また、JLE の場合は、
http://www.sra.co.jp/public/doc/www-computer-today/postgres95/jle-hint.html
を参考にして下さい。

というわけで、他のプラットフォームについては、経験者のフォローを期待し
ます:-)

なお、インストールそのものについては、ソースに付いてくる INSTALL とい
うファイルに詳しく書いてあります。

&gt;僕自身は設定された環境の中でしか仕事をしたことがありませんので、
&gt;その点を考慮して頂ければと思います。

ちょっとここのところの意味がわかりませんが、もし root になれないのだと
すると、インストールはできないでしょう。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ

-------------------- おまけ ----------------------
私は北陸先端科学技術大学院大学 情報科学研究科のＤ１です。
ftp.jaist.ac.jpの/pub/dbmsの下の面倒を見ています。

このサービスを始めた動機は、いろいろ集めたフリーのデータベースシステ
ムが不要になってしまい、消すのがもったいなかったので、配布先に許可を
もらってftp.jaist.ac.jpにたたき込んで、ついでにmirrorの設定をしたと
いう、ただそれだけです。

あるときpostgres95の存在に気付いて、せっかくいろいろ集めてるんだから、
postgres95もftp.jaist.ac.jpに置かせてもらおうと思い、軽い気持で作者
にメールしたところ、公式ミラーサイト扱いにされてしまいました。

あちらのpostgres95メーリングリストには参加していないのですが、最新版
がリリースされるとアナウンスのメールが直接来るので、いつも手でmirror
を動かしています。そこでmirrorが済みしだい、日本のpostgres95ユーザの
皆さんにアナウンスできるようにと思い、このメーリングリストに加わりま
した。

実は、postgres95はドキュメントに目を通しただけでインストールすらして
いないとんでもない野郎ですが、皆様よろしくお願いします。
____
  | ＡＩＳＴ  北陸先端科学技術大学院大学
  | HOKURIKU  情報科学研究科 落水研究室
o_/ 1990      藤枝 和宏 fujieda@jaist.ac.jp
<HR>
</PRE>
<A NAME="12">
<PRE><B>
From: Kenji Negishi &lt;negishi@trl.mei.co.jp&gt;
Date: Tue, 29 Aug 1995 15:47:49 +0900
Subject: [postgres95 33] (No Subject in original)
Message-Id: &lt;9508290649.AA05769@artemis.trl.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして。
OracleやVersantなどを少しさわっているうちにDBMSに関して興味を持ちました。
Postgres95を材料に勉強したいと考えています。
よろしくお願いします。

松下電器産業（株） 根岸賢司
<HR>
</PRE>
<A NAME="11">
<PRE><B>
From: Yoshihiro Iiguchi &lt;yoshi@cincomj.co.jp&gt;
Date: Tue, 29 Aug 1995 15:05:54 +0900
Subject: [postgres95 32] Please tell me how to get Postgres95
Message-Id: &lt;199508290605.AA173446355@vega.cincomj.co.jp&gt;
</A>
</B></PRE>
<PRE>

こんにちは。
シンコムの飯口です。
折角MLに参加するにしても、やはり実際に環境がないと面白くないので、
postgres95をインストールしよう考えたのですが、
よくよく考えたら、「どこにあって」、「どうすればいい」、のかが判りません。
つきましては万事とは言いませんが、適当にお教え頂ければと思います。
僕自身は設定された環境の中でしか仕事をしたことがありませんので、
その点を考慮して頂ければと思います。
<HR>
</PRE>
<A NAME="10">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Tue, 29 Aug 1995 13:34:49 +0900
Subject: [postgres95 31] Re: Welcome to postgres95 
Message-Id: &lt;199508290434.NAA01472@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;postgres95 になって
&gt;・SQL対応
&gt;・FreeBSD もサポートされるようになった
&gt;ため、勉強してみたいと思っています。大学の図書館の簡易蔵書目録の
&gt;実現に使って見たいのですが、データ数が百万のオーダーなのでどうな
&gt;るか分かりません。

私はせいぜい３０００レコードくらいのデータしか使ったことがないので、こ
のように巨大なデータで postgres95 がどの位使いものになるか、非常に興味
があります。（すでにだいぶ苦労されているようですが:-)

&gt;　postgres95をちょっと試してみただけなのですが、前方一致検索をし
&gt;ようとすると索引を使わずにデータを全部シーケンシャルスキャンする
&gt;ような気がして頭を抱えています。

残念ながら、その通りです。本家の ML によれば、

&gt;2) indices will only be considered by operators defined in the op classes.
&gt;   Thus, indexed scans will be considered for clauses with '=', but not
&gt;   for clauses with '~' operator.  

ということらしいので。ただ、思うに op class に define されていないのが
まずいだけなら、新たに operator を define さえしてやれば良いことになる
ような気がするのですが、どうでしょう？具体的には、前方一致の比較関数を 
C で書いて create function でロードし、次に create operator で = を 
overload してやれば良いと。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="9">
<PRE><B>
From: Nobuya Yamazaki &lt;n_yamaza@crab.fuji-ric.co.jp&gt;
Date: Tue, 29 Aug 1995 12:40:14 +0900
Subject: [postgres95 30] subscribe
Message-Id: &lt;9508290340.AA19930@sun09.crab.fuji-ric.co.jp&gt;
</A>
</B></PRE>
<PRE>

subscribe postgres95



 ■ 山崎  YAMAZAKI    (株)富士総合研究所 解析技術第2部 営業推進室 ■
    暢也  Nobuya    〒108 東京都港区海岸3-18-1 ピアシティ芝浦ビル
            TEL:03(5476)2262  FAX:03(5476)0405  携帯:030(91)95168
 ■ E-mail:n_yamaza@crab.fuji-ric.co.jp,LDC00730@niftyserve.or.jp ■
 
<HR>
</PRE>
<A NAME="8">
<PRE><B>
From: Tanaka Minoru &lt;green@keiken.co.jp&gt;
Date: Tue, 29 Aug 1995 12:33:38 +0900
Subject: [postgres95 29] Re: Welcome to postgres95
Message-Id: &lt;9508290333.AA01304@onbashira&gt;
</A>
</B></PRE>
<PRE>

はじめまして。田仲と申します。

RDBは仕事である程度使っています。本格的でフリーなpostgres95がでてき
て、とても喜んでいます。今回これに興味を持ったのは、やはりSQLがサポー
トされたためです。

当面の利用としては、雑誌の付録のCDに入っているフリーソフトの索引を考え
ています。といっても、なかなか作業が進んでいないので、メーリングリスト
参加を契機にがんばってみようと思います。

よろしくお願い致します。
-
田仲 稔 (Tanaka Minoru)  （株）ケイケンエンジニアリングシステム 諏訪支社
<HR>
</PRE>
<A NAME="7">
<PRE><B>
From: oomoto@ics.kyoto-su.ac.jp (Eitetsu OOMOTO)
Date: Tue, 29 Aug 1995 12:18:28 +0900
Subject: [postgres95 28] Hello !
Message-Id: &lt;9508290314.AA07250@ics.kyoto-su.ac.jp&gt;
</A>
</B></PRE>
<PRE>

初めまして，京都産業大の大本と申します．

Postgres には以前からちょっと興味がありました．
今後とも色々教えていただけると幸いです．

よろしくお願いいたします．

---
京都産業大学　工学部情報通信工学科　 大本　英徹
E-mail: oomoto@ics.kyoto-su.ac.jp    Tel: 075-705-1904 (Dial In)
(*^.^*)　(*^_^*)　(*^o^*)　(*^.^*)   Fax: 075-705-1914

<HR>
</PRE>
<A NAME="6">
<PRE><B>
From: motoki@yse.yokogawa.co.jp (m.motoki-yse)
Date: Tue, 29 Aug 1995 12:04:34 +0900
Subject: [postgres95 27] Re: Welcome to postgres95
Message-Id: &lt;9508290311.AA08038@sun4_yse.yse.yokogawa.co.jp&gt;
</A>
</B></PRE>
<PRE>

元木＠横河システムエンジニアリングです。

OracleやSybaseなどの商用RDBを中心にシステムを組むことを
生業としています。
この、postgres95のメーリングリストをNetNewsで知り、それから
berkleyやsraさんのpostgresのWWW Pageをみて、「こんなものが
あったのか」と驚いています。

RDBとは何かをもう一度、学ぶ教材としてpostgres95と、
つきあっていきたいと考えています。

よろしくお願いします。


＝　元木　昌弘　　 E-mail: motoki@yse.yokogawa.co.jp　Nifty:CXR00522
＝  横河システムエンジニアリング（株）　情報システム部情報システム課
＝                 TEL 043-274-3691 / FAX 043-274-5706 /Ex. 725-7820

<HR>
</PRE>
<A NAME="5">
<PRE><B>
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Date: Tue, 29 Aug 1995 11:53:10 +0900
Subject: [postgres95 26] Re: Welcome to postgres95 
Message-Id: &lt;9508290253.AA27360@babel&gt;
</A>
</B></PRE>
<PRE>

近藤＠筑波大学図書館です。
&gt;  &gt; なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
&gt;  &gt; にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
&gt;  &gt; すので、御協力のほどをお願いします。
すいません。自己紹介より先に質問を出してしまいました。_o_
遅ればせながら自己紹介させていただきます。

職場で Solaris 1, Solaris2, FreeBSD、自宅で FreeBSD を使っていま
す。
postgres95 になって
・SQL対応
・FreeBSD もサポートされるようになった
ため、勉強してみたいと思っています。大学の図書館の簡易蔵書目録の
実現に使って見たいのですが、データ数が百万のオーダーなのでどうな
るか分かりません。
　postgres95をちょっと試してみただけなのですが、前方一致検索をし
ようとすると索引を使わずにデータを全部シーケンシャルスキャンする
ような気がして頭を抱えています。

何も分かっていませんので、皆様よろしく御指導頂けますようお願い致
します。

近藤努＠筑波大学図書館 kondou@tulips.tsukuba.ac.jp 
■■■―――――■■■ D01203 (NACSIS simail)
■■■　　　　　■■■ 
■■■―――――■■■ http://www.tulips.tsukuba.ac.jp/memb/kondou/home.html
 
<HR>
</PRE>
<A NAME="4">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Tue, 29 Aug 1995 11:45:58 +0900
Subject: [postgres95 25] postgres95 license will be changed
Message-Id: &lt;199508290245.LAA26121@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

本家の ML によれば、次回リリース（ということは、βの取れた正式版）から 
postgres95 のライセンス規定が変更されるそうです。つまり、より自由な方
向に変更され、基本的には商用であるか否かを問わず無料かつ、無許可で利用、
改変、配布が可能になったようです。

何はともあれ嬉しいことで、これで postgres95 のユーザの増加にもはずみが
付くでしょう。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ

-------------------- 本家 ML より引用開始 -------------------------
Professor Michael Stonebraker has graciously agreed to loosen the
licensing restrictions on the postgres95 copyright.  The next release of
postgres95 will have the following copyright:

=========================================================================

POSTGRES95 Data Base Management System

Copyright (c) 1994-5 Regents of the University of California

Permission to use, copy, modify, and distribute this software and its
documentation for any purpose, without fee, and without a written agreement
is hereby granted, provided that the above copyright notice and this
paragraph and the following two paragraphs appear in all copies.

IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR
DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING
LOST PROFITS, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS
DOCUMENTATION, EVEN IF THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS FOR A PARTICULAR PURPOSE.  THE SOFTWARE PROVIDED HEREUNDER IS
ON AN &quot;AS IS&quot; BASIS, AND THE UNIVERSITY OF CALIFORNIA HAS NO OBLIGATIONS TO
PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.

=========================================================================

- Jolly

P.S.  In the past, vendors who have included prior versions of postgres
in low-cost software distributions (e.g. Linux CDROM packages) have been
kind enough to send us complimentary copies.  We delight to receive these
mementos of how our work is being used by others.  Such gestures are, of
course, completely voluntary.


===============================================================================
  To unsubscribe from the Postgres95 mailing list, send mail with the subject
  line &quot;DEL&quot; to &quot;postgres95-request@postgres.Berkeley.EDU&quot;. 
============  URL: http://s2k-ftp.CS.Berkeley.EDU:8000/postgres95/  ===========
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: Tsutomu KONDOU &lt;kondou@tulips.tsukuba.ac.jp&gt;
Date: Tue, 29 Aug 1995 11:35:26 +0900
Subject: [postgres95 24] [Q] postgres dies when adding a lot of data
Message-Id: &lt;9508290235.AA27275@babel&gt;
</A>
</B></PRE>
<PRE>

はじめまして。筑波大学図書館部の近藤と申します。日本語で質問が出来
るMLができてすごく嬉しいです。

早速ですが質問させて下さい。環境は、
	Solaris 2.4
	postgres95-beta0.03 + 日本語パッチ(compliled with gcc-2.7.0)
です。

次のようなデータベースを定義しました。
CREATE TABLE trt_tbl (
	bibid	varchar(8),
	keyword	varchar(20)
);
CREATE INDEX trt_index ON trt_tbl
	USING btree(keyword varchar_ops);

そして、次の形式のテキストファイルを copy コマンドで trt_tbl にどんど
ん追加していきました。

00254759        ARNOLD
00271232        ARNOLD
00254755        ASAKURA
00271232        ASAKURA
00254599        BBC
00254755        BIOLOGY
00254756        BIOLOGY
....

追加は、

	begin;
	copy trt_tbl from '/some/dir/text_data';
	end;
	vacuum;

を Pg パッケージを組み込んだ perl5 のスクリプトの中でぐるぐるルー
プさせました。１回のループでおよそ3〜4万件のデータが追加されます。
(もちろんループするたびに text_data の内容は新しく作り変えられま
す)

このスクリプトを走らせると、およそ１２〜１４回目のループで、postgres 
がコアを吐いて死んでしまいます。destroydb→createdbを何度かやってやり
直してみましたが、同じ回数で発生するとは限りませんでした。

　perl スクリプトを使わず psql の中から copy コマンドで追加していって
も同じで、同じぐらいの量のデータを追加したところで「バックエンドから返
事がないよ」のメッセージが出ます。

gdb の where コマンドでは次のように表示されます。
Core was generated by `/usr/local/postgres95/bin/postgres -p -Q -P5 bib'.
Program terminated with signal 11, Segmentation fault.
....
#0  0xef61750c in strlen ()
#1  0xef64eb98 in _doprnt ()
#2  0xef65973c in _fprintf ()
#3  0x114114 in ExceptionalCondition (
    conditionName=0x1379e0 &quot;!((*itemId).lp_flags &amp; 0x01)&quot;, 
    exceptionP=0x157b50, detail=0x0, 
    fileName=0x137910 &quot;/home/local/src/postgres95/src/backend/storage/page/bufpage.c&quot;, lineNumber=108)
    at /home/local/src/postgres95/src/backend/utils/error/assert.c:47
#4  0xd2f08 in PageGetItem (
    page=0xef4dccc8 &lt;Address 0xef4dccc8 out of bounds&gt;, itemId=0xef4dce44)
    at /home/local/src/postgres95/src/backend/storage/page/bufpage.c:108
#5  0x45a48 in _bt_pgaddtup (rel=0x1f41a8, buf=14, keysz=1, 
    itup_scankey=0x1f6b48, itemsize=40, btitem=0x1f6b08, afteritem=0x1f6ac8)
    at /home/local/src/postgres95/src/backend/access/nbtree/nbtinsert.c:656
#6  0x447bc in _bt_insertonpg (rel=0x1f41a8, buf=14, stack=0x180ea0, keysz=1, 
    scankey=0x1f6b48, btitem=0x1f6b08, afteritem=0x1f6ac8)
    at /home/local/src/postgres95/src/backend/access/nbtree/nbtinsert.c:156
#7  0x44b24 in _bt_insertonpg (rel=0x1f41a8, buf=26, stack=0x180e50, keysz=1, 
    scankey=0x1f6a58, btitem=0x1f6a18, afteritem=0x0)
    at /home/local/src/postgres95/src/backend/access/nbtree/nbtinsert.c:249
#8  0x446a0 in _bt_doinsert (rel=0x1f41a8, btitem=0x1f6a18)
    at /home/local/src/postgres95/src/backend/access/nbtree/nbtinsert.c:79

こうなった状態で vacuum をかけると、またまた postgres がコアを吐きます。

Core was generated by `/usr/local/postgres95/bin/postgres -p -Q -P5 bib'.
Program terminated with signal 10, Bus error.
#0  0x5ff70 in _vc_vacheap (p=0x1e3a18, curvrl=0x1e4a20, onerel=0x1f20c8)
    at /home/local/src/postgres95/src/backend/commands/vacuum.c:423
#1  0x5fbf4 in _vc_vacone (p=0x1e3a18, curvrl=0x1e4a20)
    at /home/local/src/postgres95/src/backend/commands/vacuum.c:327
#2  0x5f808 in _vc_vacuum (vacrel=0x0)
    at /home/local/src/postgres95/src/backend/commands/vacuum.c:173
#3  0x5f670 in vacuum (vacrel=0x0)
    at /home/local/src/postgres95/src/backend/commands/vacuum.c:72
#4  0xdcf5c in ProcessUtility (parsetree=0x1804a0, dest=Remote)
    at /home/local/src/postgres95/src/backend/tcop/utility.c:619
#5  0xd8f7c in pg_eval_dest (query_string=0xefffd9d8 &quot;vacuum;&quot;, argv=0x0, 
    typev=0x0, nargs=0, dest=Remote)
    at /home/local/src/postgres95/src/backend/tcop/postgres.c:587
#6  0xd8e70 in pg_eval (query_string=0xefffd9d8 &quot;vacuum;&quot;, argv=0x0, 
    typev=0x0, nargs=0)
    at /home/local/src/postgres95/src/backend/tcop/postgres.c:548
#7  0xdadac in PostgresMain (argc=5, argv=0xeffffae4)
    at /home/local/src/postgres95/src/backend/tcop/postgres.c:1337
#8  0x73cb4 in main (argc=5, argv=0xeffffae4)
    at /home/local/src/postgres95/src/backend/main/main.c:44

どなたかヒントを頂ければ幸いです。
では、失礼します。
近藤努＠筑波大学図書館 kondou@tulips.tsukuba.ac.jp 
■■■―――――■■■ D01203 (NACSIS simail)
■■■　　　　　■■■ 
■■■―――――■■■ http://www.tulips.tsukuba.ac.jp/memb/kondou/home.html
 
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: KAWANO Hiroyuki &lt;kawano@kuamp.kyoto-u.ac.jp&gt;
Date: Tue, 29 Aug 1995 11:35:18 +0900
Subject: [postgres95 23] Re: Welcome to postgres95 
Message-Id: &lt;199508290233.LAA12412@kuamp.kyoto-u.ac.jp&gt;
</A>
</B></PRE>
<PRE>

河野と申します．

 &gt; なお、新規にこのMLに加入された方は、まずは自己紹介を投稿して下さるよう
 &gt; にお願いします。フォーマットは自由です。購読者相互の理解を深めるためで
 &gt; すので、御協力のほどをお願いします。

From: Jun Kuwamura &lt;juk@rccm.co.jp&gt;
Message-Id: &lt;199508281515.AAA00345@penty.rccm.co.jp&gt;
Errors-To: dbjapan-request@kuis.kyoto-u.ac.jp
Reply-To: dbjapan@kuis.kyoto-u.ac.jp
Subject: Postgres95 ML(introduction).
To: dbjapan@icot.or.jp
Date: Tue, 29 Aug 1995 00:15:52 +0900 (JST)

の紹介を見せて頂きまして，登録させて頂きました．

DBシステムが，どのような過程を経て広がって行くのか（システムとして，環
境として，ツールとして，操作言語の，操作環境の，等）に興味を持っていま
す．宜しくお願いします．

	京都大学工学部応用システム科学教室  河野浩之
	kawano@kuamp.kyoto-u.ac.jp
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Tue, 29 Aug 1995 11:26:44 +0900
Subject: [postgres95 22] Budiarto: Hi !
Message-Id: &lt;199508290226.LAA24924@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠ML管理人です。

owner-postgres95 の方に来てしまったので、フォワードします。投稿は
postgres95@sramhe.sra.co.jp の方までお願いします。
--
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ

------- Forwarded Message

Message-Id: &lt;199508290222.LAA26586@mckinley.ise.eng.osaka-u.ac.jp&gt;
From: Budiarto &lt;budiarto@ise.eng.osaka-u.ac.jp&gt;
To: owner-postgres95@sramhe.sra.co.jp
Subject: Hi !
Date: Tue, 29 Aug 1995 11:22:31 +0900
Sender: budiarto@ise.eng.osaka-u.ac.jp

大阪大学のbudiartoと申します。

だいぶまえに，postgresについて聞いたことがありますが，データ操作言語が
postquelという馴染みのないものだから，あまり興味をもちませんでした。

しかし，postgres95ではSQLも使えるようになり，さらにLinuxでも使える
と聞いたので，MLに参加申し込みをしました。

授業の演習では O2 という商用オブジェクト指向データベースを使って
アプリケーションを作ったことがありますが，関係データベースはあまり
使っていません。皆さんから色々勉強させて頂きたいと思います。

よろしくお願いします。

- -budiarto




------- End of Forwarded Message

<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: matznaga@pu-toyama.ac.jp
Date: Tue, 29 Aug 95 10:58:43 +0900
Subject: [postgres95 21] Hello
Message-Id: &lt;9508290158.AA19541@tran.pu-toyama.ac.jp&gt;
</A>
</B></PRE>
<PRE>

富山県立大学の松永と申します。

Linux で使える dbms が欲しかったので ＭＬに参加申し込みをしました。

Windows では Access と dBXL を使っています。
よろしくお願いします。

<HR>
</PRE>
