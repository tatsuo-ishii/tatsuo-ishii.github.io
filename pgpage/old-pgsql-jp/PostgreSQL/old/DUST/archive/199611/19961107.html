<A NAME="9">
<PRE><B>
From: Rui Hirokawa &lt;rui@mars.dtinet.or.jp&gt;
Date: Thu, 07 Nov 1996 20:02:07 +0900
Subject: [postgres95 981] Re: help: usage of php 
Message-Id: &lt;199611071103.UAA03896@elephant.dtinet.or.jp&gt;
</A>
</B></PRE>
<PRE>


広川です。

t-ishii&gt; おお、なるほど。私は PHP/FI が良くわかっていないのでこの際基本的な質問
t-ishii&gt; してしまいますが、
t-ishii&gt; 
t-ishii&gt; o PHP/FI の access control 画面ですが、ここで設定したパスワードを忘れ
t-ishii&gt; てしまった場合にはどうしたらよいのでしょう？
t-ishii&gt; 
t-ishii&gt; o PHP/FI を make するときに apache のモジュールを作ることにすると、
t-ishii&gt; php.cgi ができません。こういうもんなんですか？
t-ishii&gt; 
t-ishii&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
t-ishii&gt; のですが、何か良い方法はないでしょうか？
t-ishii&gt; 

おみつさん、樋口さん、町野さんのご協力により PHP/FI のマニュアルの和訳
もだんだん形になってきました。
まだ、草稿の段階ですが、アクセス制御等についても記述があります。
http://www.dtinet.or.jp/~rui/apps/phpfi/index.html
誤訳等ご指摘いただければ幸いです。

---------------------------------------------------------------
Rui Hirokawa &lt;louis@city.fujisawa.kanagawa.jp&gt;
http://www.dtinet.or.jp/~rui/
---------------------------------------------------------------


<HR>
</PRE>
<A NAME="8">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 07 Nov 1996 16:57:14 +0900
Subject: [postgres95 980] Re: help: usage of php 
Message-Id: &lt;199611070757.QAA23969@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。シツコク PHP/FI の質問です。apache モジュールとして PHP/FI 
を使っていますが、PHP/FI と一緒に SSI(Server Side Include)を使うことは
可能でしょうか？SSI を使うために、

	AddType text/x-server-parsed-html .phtml

と書くと、PHP のパースがお留守になってしまうようです。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="7">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 07 Nov 1996 13:17:33 +0900
Subject: [postgres95 979] Re: help: usage of php 
Message-Id: &lt;199611070417.NAA07717@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;&gt; 私の理解では、たとえ apache モジュールとして PHP/FI をインストールした
&gt;&gt; 場合にも、PHP/FI の access control 画面を使うのであれば php.cgi が必要
&gt;&gt; になると思うのですが、違ってますでしょうか。
&gt;
&gt;残念ながらちょっと違いますよん。
&gt;Content-type が application/x-httpd-php のドキュメントなら
&gt;
&gt;  http://www.hanai.com/test.phtml?config

うっ、これは見落としていた。

&gt;のように書けます。
&gt;但し、石井さんの理解で正しい部分もあって、text/html のドキュメントとかだと、
&gt;php.cgi がいるようです。

まあ、これはしょうがないですね。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="6">
<PRE><B>
From: Hanai Hiroyuki &lt;hanai@astec.co.jp&gt;
Date: Thu, 07 Nov 1996 12:21:20 +0900
Subject: [postgres95 978] Re: help: usage of php 
Message-Id: &lt;9611070321.AA08263@domino.astec.co.jp&gt;
</A>
</B></PRE>
<PRE>

僕もよくは知らないのでアレなんですが…

石井さん:
&gt; &gt;その代りに、apache のソースディレクトリ(install 時に指定した場所)に
&gt; &gt;mod_php.c, mod_php.h, および、libphp.a がコピーされます。そして、
&gt; &gt;apache のモジュールとして php/fi のライブラリがリンクされます。
&gt; 
&gt; 私の理解では、たとえ apache モジュールとして PHP/FI をインストールした
&gt; 場合にも、PHP/FI の access control 画面を使うのであれば php.cgi が必要
&gt; になると思うのですが、違ってますでしょうか。

残念ながらちょっと違いますよん。
Content-type が application/x-httpd-php のドキュメントなら

  http://www.hanai.com/test.phtml?config

のように書けます。
但し、石井さんの理解で正しい部分もあって、text/html のドキュメントとかだと、
php.cgi がいるようです。

-----はない
<HR>
</PRE>
<A NAME="5">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 07 Nov 1996 10:31:47 +0900
Subject: [postgres95 977] Re: help: usage of php 
Message-Id: &lt;199611070131.KAA22574@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;樋口です。
&gt;Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt; さんは書きました：
&gt;&gt;&gt;&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
&gt;&gt;&gt;&gt; のですが、何か良い方法はないでしょうか？
&gt;&gt;&gt;
&gt;&gt;&gt;install シェルスクリプトを手で修正してデフォルトに自分の設定を記述して
&gt;&gt;&gt;あと install を起動して、リターンを叩くだけ、といったこと位しか思い浮
&gt;&gt;&gt;かびません。でもバージョンが上がるたびに、やはり同じことをするのですね。
&gt;&gt;
&gt;&gt;これが現実的かも知れませんね。
&gt;やはり、私の記憶がおおウソでした。申し訳ありません。

え？

&gt;コンパイル用のMakefileだけ別に持ってればよかったんじゃなかったかな？
&gt;ただし、同一バージョンが前提ですが。

という樋口さんの方法も当然あると思いますが。install スクリプトを手で直
すか、Makefile を手で直すかは趣味の問題のような気がします:-)
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ

<HR>
</PRE>
<A NAME="4">
<PRE><B>
From: KATO Hideki &lt;kato@totec.co.jp&gt;
Date: Thu, 07 Nov 1996 10:33:40 +0900
Subject: [postgres95 976] php-2.0b7(Module)で、はまりました。
Message-Id: &lt;199611070133.KAA17147@mickey.totec.co.jp&gt;
</A>
</B></PRE>
<PRE>

加藤＠トーテックです。

世間から３週間ほど、遅れまして、やっと
  apache_1.1.1 + php-2.0b7(Module) + postgres95-1.08
  + pg95-1.06-jp.patch  on SunOS 4.1.4+JLE
の環境にバージョンアップしました。
＃既に、postgres95-1.09が出てしまいましたね .....

いままでの環境は、
  NCSA httpd_1.5.2-export + ncsa-redirect.patch + php-2.0b4
  + postgres95-1.01 + pg95-1.01-jp.patch
を使っていました。
＃無事に、動いていたので、バージョンアップしていませんでした。
＃このＭＬでの状況を傍観していて、やっと、思い腰を上げたわけです。

新しい環境を作成してみて、いざ、PHP/FIのモジュールの実行テストを
したとたん見事に、サーバプログラムがこけました。「何か作り間違え
たかな？」と思い、コンパイルし直しましたがダメでした。
＃やばい、はまっちまった X-&lt;

ところが、&lt;?phpinfo()&gt;でのテストでは、こけましたが、
以前作った、画面は無事に、PHPもpostgresも処理を完結しました。
＃なんじゃこりゃ????

調べて見ると、php-2.0b7/src/info.cの所で落ちていました。
問題の箇所は、以下のところです。
  194:    gr = getgrgid(pw-&gt;pw_gid);
  195:    sprintf(buf,&quot;%s %s&quot;,pw-&gt;pw_name,gr-&gt;gr_name);
＃フォーマット部分は省略しています。

getgrgidでNULLを返された場合でも、gr-&gt;gr_name を出力しようとした
ときに、落ちていたわけです。
＃私は、自分のプライマリグループを、/etc/groupに登録せずに、
＃GIDむき出しにして使っていました。

早速、195行目を、以下のように修正しました。
  if(gr){
       sprintf(buf,&quot;フォーマット省略 %s %s&quot;,pw-&gt;pw_name,gr-&gt;gr_name);
  }else{
       sprintf(buf,&quot;フォーマット省略 %s&quot;,pw-&gt;pw_name);
  }   

私みたいに、gidむき出しで、&lt;?phpinfo()&gt;のテストで失敗し、はまっ
てしまう人は、そんなにいないと思いますが、御報告まで。

あと、SunOSを使用している方は、以前から、ＭＬに出ていたように
memmoveがありませんので、php-2.0b7を作成される場合には、
php-2.0b7/src/regex/READMEに書かれているように、
php-2.0b7/src/regex/Makefileで -DUSEBCOPY を付けるようにしましょう。
  ___________________________________________________________________
 /ZZZZZZZ/ZZZZZ/__  ___/ZZZZZZZ/ZZZZZ/  トーテックアメニティ株式会社 
   /Z/  /Z/ /Z/  / /  /Z/___  /Z/ /Z/  ネットワークシステム事業部 
  /Z/  /Z/ /Z/  / /  /ZZZZZ/ /Z/ __   インターネットビジネス推進室 
 /Z/  /Z/_/Z/  / /  /Z/___  /Z/_/Z/  加藤英紀 (KATO,Hideki) 
/Z/  /ZZZZZ/  /_/  /ZZZZZ/ /ZZZZZ/  kato@totec.co.jp 
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: Chihiro Higuchi &lt;higuchi@sumitomopharm.co.jp&gt;
Date: Thu, 07 Nov 1996 10:18:29 +0900
Subject: [postgres95 975] Re: help: usage of php 
Message-Id: &lt;9611070118.AA01406@SPI002.sumitomopharm.co.jp&gt;
</A>
</B></PRE>
<PRE>

樋口です。
Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt; さんは書きました：
&gt;&gt;&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
&gt;&gt;&gt; のですが、何か良い方法はないでしょうか？
&gt;&gt;
&gt;&gt;install シェルスクリプトを手で修正してデフォルトに自分の設定を記述して
&gt;&gt;あと install を起動して、リターンを叩くだけ、といったこと位しか思い浮
&gt;&gt;かびません。でもバージョンが上がるたびに、やはり同じことをするのですね。
&gt;
&gt;これが現実的かも知れませんね。
やはり、私の記憶がおおウソでした。申し訳ありません。

----
Chihiro Higuchi
Sumitomo Pharmaceuticals Research Center
Research Coordination &amp; General Affairs Department 
1-98 Kasugadenaka 3-choume, Konohana-ku, Osaka 554, Japan
Phone: 81-6-466-5219 E-Mail: higuchi@sumitomopharm.co.jp
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Thu, 07 Nov 1996 10:03:32 +0900
Subject: [postgres95 974] Re: help: usage of php 
Message-Id: &lt;199611070103.KAA20913@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;&gt; o PHP/FI の access control 画面ですが、ここで設定したパスワードを忘れ
&gt;&gt; てしまった場合にはどうしたらよいのでしょう？
&gt;
&gt;  PHP/FI の access control 画面は、まだ使ったことがありません。サーバ
&gt;で設定可能としている 
&gt;  .htaccess と .htpasswd による access control でしたら、htpasswd コマ
&gt;ンドで設定できると思います。Apache の場合、apache_1.1.1/support ディレ
&gt;クトリにそのソースがあります。

ええ、こちらは知ってます。

&gt;&gt; o PHP/FI を make するときに apache のモジュールを作ることにすると、
&gt;&gt; php.cgi ができません。こういうもんなんですか？
&gt;
&gt;その代りに、apache のソースディレクトリ(install 時に指定した場所)に
&gt;mod_php.c, mod_php.h, および、libphp.a がコピーされます。そして、
&gt;apache のモジュールとして php/fi のライブラリがリンクされます。

私の理解では、たとえ apache モジュールとして PHP/FI をインストールした
場合にも、PHP/FI の access control 画面を使うのであれば php.cgi が必要
になると思うのですが、違ってますでしょうか。

&gt;&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
&gt;&gt; のですが、何か良い方法はないでしょうか？
&gt;
&gt;install シェルスクリプトを手で修正してデフォルトに自分の設定を記述して
&gt;あと install を起動して、リターンを叩くだけ、といったこと位しか思い浮
&gt;かびません。でもバージョンが上がるたびに、やはり同じことをするのですね。

これが現実的かも知れませんね。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Jun Kuwamura &lt;juk@rccm.co.jp&gt;
Date: Thu, 7 Nov 1996 00:48:46 +0900 (JST)
Subject: [postgres95 973] Re: help: usage of php 
Message-Id: &lt;Pine.LNX.3.91LJ1.0.4.961107002724.242E-100000@penty.rccm.co.jp&gt;
</A>
</B></PRE>
<PRE>

桑村です。

&gt; 石井です。
&gt; 
&gt; &gt;桑村です。
&gt; &gt;
&gt; &gt;  PHP/FI で Postgres95 のデータベースを見るのを作りました。以前 ML で
&gt; &gt;流したものを手直しして、カラムを選べるようにしました。また、Netscape 
&gt; &gt;のフレームを使ったのも作ってみました。
&gt; &gt;  展開するとphptest と frametest というディレクトリができますので、自
&gt; &gt;分の public_html の下に置いて下さい。
&gt; 
&gt; おお、なるほど。私は PHP/FI が良くわかっていないのでこの際基本的な質問
&gt; してしまいますが、
&gt; 
&gt; o PHP/FI の access control 画面ですが、ここで設定したパスワードを忘れ
&gt; てしまった場合にはどうしたらよいのでしょう？

  PHP/FI の access control 画面は、まだ使ったことがありません。サーバ
で設定可能としている 
  .htaccess と .htpasswd による access control でしたら、htpasswd コマ
ンドで設定できると思います。Apache の場合、apache_1.1.1/support ディレ
クトリにそのソースがあります。


&gt; o PHP/FI を make するときに apache のモジュールを作ることにすると、
&gt; php.cgi ができません。こういうもんなんですか？

その代りに、apache のソースディレクトリ(install 時に指定した場所)に
mod_php.c, mod_php.h, および、libphp.a がコピーされます。そして、
apache のモジュールとして php/fi のライブラリがリンクされます。

&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
&gt; のですが、何か良い方法はないでしょうか？

install シェルスクリプトを手で修正してデフォルトに自分の設定を記述して
あと install を起動して、リターンを叩くだけ、といったこと位しか思い浮
かびません。でもバージョンが上がるたびに、やはり同じことをするのですね。

&gt; &gt;  なお、外部からアクセスされるサイトは htaccessとhtpasswd などでアクセ
&gt; &gt;ス制限をした方がよいと思います。もっとも、http サーバのオーナーにアク
&gt; &gt;セス権を与えなければそのデータベースは見れないのでしょうが。
&gt; 
&gt; frametest の下に .htaccess と .htpasswd がありましたが、サンプル用でしょ
&gt; うか。

 うっかりしてました。サンプルとしてもらって結構です。 ユーザは、 &quot;juk&quot; 
でパスワードは &quot;jjj&quot; となってます。(^^;

 Jun Kuwamura
rC Cm			E-mail:	JuK@RcCM.Co.jp, Phone: +81-3-3785-3033
  ^
  ~				re7J-Kwmr@Asahi-Net.or.jp

<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Mitsuhiro Maeda &lt;mitsu@tramp.co.jp&gt;
Date: Thu, 07 Nov 1996 01:32:26 +0900
Subject: [postgres95 972] Re: help: usage of php 
Message-Id: &lt;199611061632.BAA00954@log.tramp.co.jp&gt;
</A>
</B></PRE>
<PRE>

おみつ@Tramp です。

From: Jun Kuwamura &lt;juk@rccm.co.jp&gt;
Subject: [postgres95 966] Re: help: usage of php
Date: Wed, 6 Nov 1996 07:33:00 +0900 (JST)

&gt; ...
&gt;   PHP/FI で Postgres95 のデータベースを見るのを作りました。以前 ML で
&gt; 流したものを手直しして、カラムを選べるようにしました。また、Netscape 
&gt; のフレームを使ったのも作ってみました。

ちょっとした adminツールみたいで素晴らしいですね。
はまりそうです ;-)

From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Subject: [postgres95 969] Re: help: usage of php 
Date: Wed, 06 Nov 1996 15:16:26 +0900

&gt; o PHP/FI の access control 画面ですが、ここで設定したパスワードを忘れ
&gt; てしまった場合にはどうしたらよいのでしょう？

私も PHP/FI のアクセスコントロールはよくわからない &amp; メンテがめんどくさい
ということで、もっぱら mod_auth_pg95 を使ってます :-)

&gt; 
&gt; o PHP/FI を make するときに apache のモジュールを作ることにすると、
&gt; php.cgi ができません。こういうもんなんですか？

この php.cgi は、わざわざ Cプログラムを書く程でもないようなプロトタイプとか、
Web に載せる前の実験とかに使える ( ヘッダーを nil にしてプレーン HTML ファイル
に落とすような )ので是非作りたいですよね。
# とはいえど、まだ試してないんです ^^;

&gt; o PHP/FI を作りなおす時に、毎回 install の沢山の質問に応えるのが苦痛な
&gt; のですが、何か良い方法はないでしょうか？

install スクリプトの中のデフォルト値を変えちゃうってのはどうでしょう :-)

== おみつ
<HR>
</PRE>
