<A NAME="4">
<PRE><B>
From: Hideto Sakaguchi &lt;saka@rikuden.co.jp&gt;
Date: Sat, 12 Oct 1996 23:13:27 +0900
Subject: [postgres95 838] (無題)
Message-ID: &lt;325FA787.4237@rikuden.co.jp&gt;
</A>
</B></PRE>
<PRE>

subscribe postgres95
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: Yoshinao Ikeuchi &lt;el4y-ikuc@asahi-net.or.jp&gt;
Date: Sat, 12 Oct 1996 22:04:57 +0900
Subject: [postgres95 837] How do you do?
Message-Id: &lt;199610121304.WAA02572@po.asahi-net.or.jp&gt;
</A>
</B></PRE>
<PRE>

はじめまして、この度MLに参加しました池内と申します。

UNIX上でのデータベースについてネットニュースで尋ねたところ
postgres95とこのMLを教えて頂き、参加しました。

１週間かけてようやく postgres95-1.0.8 + pg95-1.06-jp.patch
をLinux-2.0.0(slackware3.0/JE-0.9.7)にインストールできました。
石井さんのホームページが大変役に立ちありがたく思っています。
(１週間かかったのは、GNU readline なる存在がわからなかった為
です)

現在はMacでパノラマ２というカード型データベースを趣味として
使っていて、リレーショナル型データベースとは何かに興味があり
ました。SQLについては使うのはもちろん聞くのも初めてです。

今、Interface１１月号を買い、実際にどんなものか試している所
で、日本語の検索がうまく行かないところまで行きました。(^^;)
  &gt;select dept_name from dept_table 
   where dept_table.dept_name = '営業';
とやっても'営業'を含むデータを検索してくれないです。'営業一
部'とやると出て来ます。

まだ、始めたばかりなのでわからない事だらけですが、使えるよう
に自分のものにしてゆきたいと思っています。(パノラマ２を使う
必要が無くなるまで)

以上、よろしくお願い致します。

--
 池内 義直(Yoshinao ikeuchi)
 el4y-ikuc@asahi-net.or.jp
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: qu93305@cc.tmit.ac.jp (TAKASHIGE IWAMURA)
Date: Sat, 12 Oct 1996 22:02:58 +0900
Subject: [postgres95 836] Re: Teach me about speed custamization 
Message-Id: &lt;9610121302.AA24490@tmitedu.cc.tmit.ac.jp&gt;
</A>
</B></PRE>
<PRE>

フォローが速くてびっくししています。岩村＠科技大です。
&lt;199610121141.UAA22022@norimaki.msushi.com&gt;の記事において
masayang@ns-kansai.co.jpさんは書きました。


&gt;&gt; やはり以前、書籍のデータベース(ばかばかしいことに１８０万冊)を
&gt;&gt; postgres95で扱おうとして苦心しました。
&gt;
&gt;&gt;&gt;&gt; すごい冊数ですね。好奇心で伺いますが、どうなりました？
&gt;
&gt;結局、この仕事は商品のデータベース(ORACLE)で対応しています。さすがに速
&gt;いです。
そうでしたか。

&gt;
&gt;&gt;&gt; もしかして、ISBNからチェックデジットをとったやつかな？ だとしたら、こ
&gt;&gt;&gt; のアイデア、いいですね。
&gt;
&gt;&gt;&gt;&gt; 残念ですが、違います。この番号は図書館で本を管理するために
&gt;&gt;&gt;&gt; 付けられた番号です。脱線しますが、ISBNは数字の
&gt;&gt;&gt;&gt; 他にXが入っている場合があったと思いますが、どのように
&gt;&gt;&gt;&gt; 対処したのですか？(Xはチェックデジットにしかでてきませんでしたっけ)
&gt;
&gt;はい。あのXは、Mod11(だったと思う)のチェックデジットだけなんです。です
&gt;から、頭の９桁だけで一意のキーになります。
これでしたらデータ量が減りますね。

そろそろお腹がすきましたので、帰ります。それでは失礼します。

	東京都立科学技術大学 航空宇宙システム工学科
		岩村 卓成
	Tokyo Metropolitan Institute of Technology
			TAKASHIGE IWAMURA
	E-mail: qu93305@cc.tmit.ac.jp

<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: masayang@ns-kansai.co.jp
Date: Sat, 12 Oct 1996 20:40:45 +0900
Subject: [postgres95 835] Re: Teach me about speed custamization 
Message-Id: &lt;199610121141.UAA22022@norimaki.msushi.com&gt;
</A>
</B></PRE>
<PRE>

中村です。

&gt;&gt; On Sat, 12 Oct 1996 21:22:28 +0900, qu93305@cc.tmit.ac.jp (TAKASHIGE IWAMURA) said:

masayang&gt; やはり以前、書籍のデータベース(ばかばかしいことに１８０万冊)を
masayang&gt; postgres95で扱おうとして苦心しました。

&gt;&gt;&gt; すごい冊数ですね。好奇心で伺いますが、どうなりました？

結局、この仕事は商品のデータベース(ORACLE)で対応しています。さすがに速
いです。

&gt;&gt; もしかして、ISBNからチェックデジットをとったやつかな？ だとしたら、こ
&gt;&gt; のアイデア、いいですね。

&gt;&gt;&gt; 残念ですが、違います。この番号は図書館で本を管理するために
&gt;&gt;&gt; 付けられた番号です。脱線しますが、ISBNは数字の
&gt;&gt;&gt; 他にXが入っている場合があったと思いますが、どのように
&gt;&gt;&gt; 対処したのですか？(Xはチェックデジットにしかでてきませんでしたっけ)

はい。あのXは、Mod11(だったと思う)のチェックデジットだけなんです。です
から、頭の９桁だけで一意のキーになります。

&gt;&gt;&gt; 思いっきり格好が悪いので内緒にしておきたかったのですが...
&gt;&gt;&gt; (本当に)最近、継承等を使って頭文字で分けたテーブルを
&gt;&gt;&gt; 作成して試して見ましたが、確かに速くなりました。

美しさからいえば、きっちりと正規化するほうがいいのですけど、実用を考え
ると、どこかでデザインをくずすのもしかたないのかな、と考えることが多い
昨今です。

でも、あんまり正規化をくずすと、メンテがつらくなる。

このジレンマに日々悩んでおります。

ただ、Postgresは(Illustraもそうらしいですが)継承をうまくつかえば、この
あたりをすっきりとできそうですね。

なかむら
<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: qu93305@cc.tmit.ac.jp (TAKASHIGE IWAMURA)
Date: Sat, 12 Oct 1996 21:22:28 +0900
Subject: [postgres95 834] Teach me about speed custamization 
Message-Id: &lt;9610121222.AA24139@tmitedu.cc.tmit.ac.jp&gt;
</A>
</B></PRE>
<PRE>

フォロー有難うございます。岩村＠科技大です。
&lt;199610111043.TAA02363@norimaki.msushi.com&gt;の記事において
masayang@ns-kansai.co.jpさんは書きました。


masayang&gt;やはり以前、書籍のデータベース(ばかばかしいことに１８０万冊)を
masayang&gt;postgres95で扱おうとして苦心しました。
すごい冊数ですね。好奇心で伺いますが、どうなりました？

masayang&gt;indexは定義しましたか？
masayang&gt;
masayang&gt;vaccum(つづりに自身なし。バキュームカーのあれですね)を実行しましたか？
masayang&gt;
masayang&gt;数万冊なら、前方一致検索におけるindexの効果はたしかにありました。１０
masayang&gt;万冊をこえるあたりから、vaccumが終わらない、という難題にぶちあたります。
多分indexなるもので速く検索が出来るのだろうと思っていましたが、
oidと共にここいら当たりがマニュアルを読んでましてさっぱり
分からなかったのです。(じつは本格的なデータベースを構築するのは
これが始めてに近い状態です。)
どこかに例題が転がっていないでしょうか。
&gt;
&gt;&gt;&gt;&gt; 	データ構造
&gt;&gt;&gt;&gt; syomei とcyosya共に
&gt;&gt;&gt;&gt; ( 
&gt;&gt;&gt;&gt; bibno		int4, # ７万冊以上ある
&gt;
&gt;これはISBNではないのでしょうか？
&gt;
&gt;もしかして、ISBNからチェックデジットをとったやつかな？ だとしたら、こ
&gt;のアイデア、いいですね。
残念ですが、違います。この番号は図書館で本を管理するために
付けられた番号です。脱線しますが、ISBNは数字の
他にXが入っている場合があったと思いますが、どのように
対処したのですか？(Xはチェックデジットにしかでてきませんでしたっけ)

masayang&gt;
masayang&gt;書名、著者名ともに、原形のものとall lowercaseのものの二種類あると、便
masayang&gt;利かもしれません。少くとも、大文字小文字の区別を「しない」検索の場合、
masayang&gt;いちいちtolower/toupperで処理しなくてすみます。(表示するほうだけ原形を
masayang&gt;つかうわけです)
その手がありましたか！参考にさせて頂きます。
masayang&gt;
masayang&gt;また、前方一致検索しかしないのでしたら、おもいきって書名／著者名の頭文
masayang&gt;字でテーブルをわけちゃうのもいいかもしれません。ＤＢのロードとかバック
masayang&gt;アップとかがしんどくなりますが、、、

思いっきり格好が悪いので内緒にしておきたかったのですが...
(本当に)最近、継承等を使って頭文字で分けたテーブルを
作成して試して見ましたが、確かに速くなりました。
しかし、調子にのって0x59*0x59以上のテーブルを何組みか
作成したところ、postmaster がたくさんエラーメッセージを
はいてくれました。(やっぱり天罰？)
しかし、メンテナンス(美しさ)からいって、やはりこの方法は
邪道だと思っています。内容の削除／更新のときの手間を
考えますと頭が痛いです。

他の方の正攻法／裏わざも大変興味があります。
皆様、どうかお聞かせ下さい。
中村様、ありがとうございます。

	東京都立科学技術大学 航空宇宙システム工学科
		岩村 卓成
	Tokyo Metropolitan Institute of Technology
			TAKASHIGE IWAMURA
	E-mail: qu93305@cc.tmit.ac.jp
<HR>
</PRE>
