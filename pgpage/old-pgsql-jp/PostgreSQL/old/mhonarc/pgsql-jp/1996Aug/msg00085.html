<!-- MHonArc v2.1.0 -->
<!--X-Subject: [postgres95 625] createuser がうまくいきません。 -->
<!--X-From: "清水　孝司"<JAE00277@niftyserve.or.jp> -->
<!--X-Date: Sat, 31 Aug 1996 11:34:00 +0900 -->
<!--X-Message-Id: 199608310237.LAA11515@inetnif.niftyserve.or.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[postgres95 625] createuser がうまくいきません。 </TITLE>
<LINK REV="made" HREF="mailto:JAE00277@niftyserve.or.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00086.html">Date Prev</A>][<A HREF="msg00087.html">Date Next</A>][Thread Prev][<A HREF="msg00087.html">Thread Next</A>][<A HREF="index.html#00085">Date Index</A>][<A HREF="threads.html#00085">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[postgres95 625] createuser がうまくいきません。</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "清水　孝司"&lt;<A HREF="mailto:JAE00277@niftyserve.or.jp">JAE00277@niftyserve.or.jp</A>&gt;</LI>
<LI><em>Date</em>: Sat, 31 Aug 1996 11:34:00 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
こんにちは、清水です。早速ですが、先日からの "createuser が正常に出来な
い" 問題ですが、1.06 をインストールしたら状況が変わりました。

% createuser shimizu
PQexec() -- No response from backend
createuser: database access failed.
%

となります。これも同じなんでしょうか？
私がぐずぐずしている間に皆さんからいろいろアドバイス頂きましてありがとう
御座います。で、その結果ですが

佐藤さんが教えてくださった方法
＞確認なのですが、この作業は postgres のアカウントで行われているのですよね。
＞他のユーザーなら、ダメでも当然だと思いますし、そうでないなら、おそらく
はい、postgres のアカウントからです。

＞if [ "$ADDUSER" != "t" ]
＞のようにすればいいような気がします
やっぱり
PQexec() -- No response from backend
createuser: database access failed.
になります。
＞ついでに対処方法も分かりました
＞
＞        unsetenv PAGER
これも変化無しでした。

坂本さんが教えてくださった方法はまだ未確認です。すいません。

もう一度 sh -x の結果を送付します。よろしくご指導ください。

&gt; sh -x /usr/local/postgres95/bin/createuser shimizu
+ [ -z  ]
+ PGPORT=5432
+ [ -z  ]
+ PGHOST=localhost
+ BINDIR=/usr/local/postgres95/bin
+ PATH=/usr/local/postgres95/bin:/sbin:/usr/local/sbin:/usr/sbin:/usr/local/
bin:/bin:/usr/bin:/usr/X11R6/bin:/usr/local/postgres95/bin
+ basename /usr/local/postgres95/bin/createuser
+ CMDNAME=createuser
+ [ -z postgres ]
+ [ -n shimizu ]
+ NEWUSER=shimizu
+ shift
+ [ -n  ]
+ AUTHOPT=-a 
+ [ -z  ]
+ AUTHOPT=
+ PARGS=-tq  -h localhost -p 5432
+ PSQL=psql -tq  -h localhost -p 5432
+ QUERY=select usesuper from pg_user where usename = 'postgres'
+ psql -tq -h localhost -p 5432 -c select usesuper from pg_user where 
usename = 'postgres' template1
PQexec() -- No response from backend
+ ADDUSER=
+ [ 1 -ne 0 ]
+ echo createuser: database access failed.
createuser: database access failed.
+ exit 1
&gt;

いま、色々やっていますので、また結果報告します。

                                      Nifty@清水 (タスクフォーツ＠清水）
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00087" HREF="msg00087.html">[postgres95 627] Re: createuser がうまくいきません。</A></STRONG>
<UL><LI><EM>From:</EM> Takeshi Yamada &lt;ken@tyd1.tydfam.iijnet.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00086.html">[postgres95 626] はじめまして、清水です。</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00087.html">[postgres95 627] Re: createuser がうまくいきません。</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00087.html">[postgres95 627] Re: createuser がうまくいきません。</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00085"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00085"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
