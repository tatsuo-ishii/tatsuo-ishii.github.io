<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 3913] Re: copy command error -->
<!--X-From: Masayuki Ookubo <ookubo@kme.co.jp> -->
<!--X-Date: Mon, 27 Apr 1998 18:23:00 +0900 -->
<!--X-Message-Id: 199804270918.SAA21208@kmegw.kme.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199804270529.OAA14993@srapc451.sra.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 3913] Re: copy command error </TITLE>
<LINK REV="made" HREF="mailto:ookubo@kme.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00212.html">Date Prev</A>][<A HREF="msg00213.html">Date Next</A>][<A HREF="msg00204.html">Thread Prev</A>][<A HREF="msg00199.html">Thread Next</A>][<A HREF="index.html#00211">Date Index</A>][<A HREF="threads.html#00211">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 3913] Re: copy command error</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Masayuki Ookubo &lt;<A HREF="mailto:ookubo@kme.co.jp">ookubo@kme.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Mon, 27 Apr 1998 18:23:00 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00204.html">199804270529.OAA14993@srapc451.sra.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
　大窪です。

　早々にご回答頂いておきながら、返信が遅くなりまして
申し訳ございません。

&gt; 石井です。
&gt; 
&gt; &gt;　大窪＠久米電気と申します。
&gt; &gt;
&gt; &gt;　現在、FreeBSD 2.2.5-STABLEでPostgreSQL6.3を動かしており、
&gt; &gt;オフコンで構築された基幹業務のデータ検索を効率化するために、
&gt; &gt;PostgreSQLを使用しております。今回、新たにデータベースを作成し、
&gt; &gt;新規テーブルを１つ作成して、copyコマンドでデータをコピーしていましたところ
&gt; &gt;コピーの途中でcoreを吐いてしまい、最後までデータがコピーできません。
&gt; &gt;コピーをしていたデータは、１レコードが６６バイト程の固定長、項目間ＴＡＢ
&gt; &gt;区切りのテキストデータです。
&gt; 
&gt; このような問題では、再現性がデータに依存しますので、再現のためのデータ
&gt; (create 文、copy するデータなど)を提供していただかないと調べようがあり
&gt; ません。そのまま提供するのがまずい場合には、人工的に再現できるデータを
&gt; 作成していただく必要があります。

　私の質問の仕方が悪くて申し訳ございません。最初に書き忘れていましたが、
今回扱っているデータはレコード件数が13万件程（約８ＭＢ）ありますので、
送付をするとご迷惑をお掛けしてしまいますので・・・
　それで、参考までにsolaris2.5.1 Sparc にインストールしている
PostgreSQL6.2.1（これも古くてすみません。）で同じテーブルを作成して、
同じデータをコピーしてみたのですが、こちらは問題無くコピー出来ました。
（OSもPostgreSQLのバージョンも違うので参考にならないかもしれませんが・・・）

　ただ、気になるのことがあるのですが、PostgreSQLでは、データベース自体を
作成するのに、大きさの制限はありますか？ １レコードが８Ｋバイトまで
という制限はあったように思うのですが、それ以外の制限はあるのでしょうか？
といいますのも、問題になっているマシンではこのほかにも

pgsql@host[/usr/local/pgsql/data/base]% du -k .
846     ./template1
17695   ./regression
5998    ./bench
486371  ./database1
88822   ./database2
25006   ./database3
16934   ./database4
17438   ./database5
659111  .

といったデータベース（名前は変えていますが・・）を作成していて、
これらディレクトリ以下のファイルは、全てPostgreSQLをインストールした時の
専用ユーザー「pgsql」がオーナーとなっていますので、データベース作成に
大きさの制限があるのでしたら、そのあたりが問題なのでしょうか？

&gt; それと、できれば、PostgreSQL 6.3.2 で同じ現象が起きるかどうか確認して
&gt; 下さい。(もう 6.3 はサポートされてませんから)

　本当に申し訳ございません。できるだけ新しいものを使おうと思っているのですが、
なかなかバージョンアップを出来ずにずるずると来ています。
（こちらは、できるだけ早く最新のものにバージョンアップをします。）


// 久米電気株式会社 情報管理室 電算課　大窪将介
// 〒531-0072 大阪市北区豊崎３−２０−１
// TEL (06)371-0427 代表 / FAX (06)371-3659
// E-mail	ookubo@kme.co.jp
// Home Page	<A HREF="http://www.kme.co.jp/">http://www.kme.co.jp/</A>
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00204" HREF="msg00204.html">[pgsql-jp 3906] Re: copy command error</A></STRONG>
<UL><LI><EM>From:</EM> t-ishii@sra.co.jp</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00212.html">[pgsql-jp 3914] Re: "PG"comman on browser.</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00213.html">[pgsql-jp 3915] Re: "PG"comman on browser.</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00204.html">[pgsql-jp 3906] Re: copy command error</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00199.html">[pgsql-jp 3901] 6.3.2 benchmark on CS150</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00211"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00211"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
