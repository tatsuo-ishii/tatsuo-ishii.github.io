<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 13570] Re: postmaster$B<+F05/F0MQ%9%/%j%W%H$K4X$7(B$B$F(B -->
<!--X-From: Saito Kan <can&#45;s@geocities.co.jp> -->
<!--X-Date: Tue, 21 Mar 2000 00:05:38 +0900 (JST) -->
<!--X-Message-Id: 200003201530.AAA03937@mail.xc4.so&#45;net.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: NCBBIEHHNKFDDHGIDBHEGEFIDCAA.morimura@i&#45;buddy.net -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 13570] Re: postmaster$B&lt;+F05/F0MQ%9%/%j%W%H$K4X$7(B$B$F(B </TITLE>
<LINK REV="made" HREF="mailto:can-s@geocities.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00263.html">Date Prev</A>][<A HREF="msg00265.html">Date Next</A>][<A HREF="msg00254.html">Thread Prev</A>][<A HREF="msg00302.html">Thread Next</A>][<A HREF="index.html#00264">Date Index</A>][<A HREF="threads.html#00264">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 13570] Re: postmaster$B&lt;+F05/F0MQ%9%/%j%W%H$K4X$7(B$B$F(B</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Saito Kan &lt;<A HREF="mailto:can-s@geocities.co.jp">can-s@geocities.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 21 Mar 2000 00:05:38 +0900 (JST)</LI>
<LI><em>References</em>: &lt;<A HREF="msg00254.html">NCBBIEHHNKFDDHGIDBHEGEFIDCAA.morimura@i-buddy.net</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
さいとうかんです。

みなさん、こんにちは。

From: "atsushi morimura" &lt;morimura@i-buddy.net&gt;
Subject: [pgsql-jp 13560] postmaster自動起動用スクリプトに関し
	て

詳しい方から、山のようにフォローが付くのでしょうけど…

&gt; su -l postgres -c "/usr/local/pgsql/bin/postmaster -D /export/home2/db_dir -B
&gt; 700 -N 128 -i -d 3" &gt; /export/home2/db_dir/debug.log
&gt; echo "PostgreSQL Service Started"
&gt; 
&gt; これで、postmasterは一応起動し、アクセスもできるのですが、
&gt; psコマンドで見てみると、下記のようなプロセスがあり、正しく起動
&gt; できていない気がします。
&gt; 
&gt; root 278 0.0 0.1 288 288 ? S 03:37:51 0:00 /sbin/sh /etc/rc2.d/S99PostgreSQL
&gt; start
&gt; postgres 279 0.0 0.2 1880 1608 ? S 03:37:51 0:00 -tcsh -c

デバッグ情報を出力するために、
プロセスが STDERR を持っている必要があります。
従って、シェルを切り放せないのでしょう。
上記は正常な動作に見えます。

postmaster(1) より。
       -S     Specifies that the postmaster process should  start
              up  in  silent  mode. That is, it will disassociate
              from the user's (controlling) tty and start its own
              process group.  This should not be used in combina-
              tion with debugging options  because  any  messages
              printed  to  standard output and standard error are
              discarded.

syslog にでも書けば、tty を切れるんでしょうけど。
標準に書く方が扱いやすいので、私は好きです。
--
齊藤 幹 (Saito Kan) &lt;can-s@geocities.co.jp&gt;
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00302" HREF="msg00302.html">[pgsql-jp 13608] RE: postmaster$B&lt;+F05/F0MQ%9%/%j%W%H$K4X$7(B$B$F(B</A></STRONG>
<UL><LI><EM>From:</EM> "atsushi morimura" &lt;mailer@i-buddy.net&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00254" HREF="msg00254.html">[pgsql-jp 13560] postmaster自動起動用スクリプトに関して</A></STRONG>
<UL><LI><EM>From:</EM> "atsushi morimura" &lt;morimura@i-buddy.net&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00263.html">[pgsql-jp 13569] Re: VACUUM で落ちる</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00265.html">[pgsql-jp 13571] 外部結合？</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00254.html">[pgsql-jp 13560] postmaster自動起動用スクリプトに関して</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00302.html">[pgsql-jp 13608] RE: postmaster$B&lt;+F05/F0MQ%9%/%j%W%H$K4X$7(B$B$F(B</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00264"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00264"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
