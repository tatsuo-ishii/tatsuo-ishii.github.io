<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 13567] POST&#45;ODBCで2進変換誤差？ -->
<!--X-From: Takuji Ieiri <ieiri@sdkt.co.jp> -->
<!--X-Date: Sat, 18 Mar 2000 22:05:43 +0900 -->
<!--X-Message-Id: 38D37F27.D4648C6@sdkt.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 13567] POST-ODBCで2進変換誤差？ </TITLE>
<LINK REV="made" HREF="mailto:ieiri@sdkt.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00260.html">Date Prev</A>][<A HREF="msg00262.html">Date Next</A>][<A HREF="msg00266.html">Thread Prev</A>][<A HREF="msg00259.html">Thread Next</A>][<A HREF="index.html#00261">Date Index</A>][<A HREF="threads.html#00261">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 13567] POST-ODBCで2進変換誤差？</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Takuji Ieiri &lt;<A HREF="mailto:ieiri@sdkt.co.jp">ieiri@sdkt.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Sat, 18 Mar 2000 22:05:43 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
倍精度浮動小数点数のバグの時にお世話になりました.
家入＠ｓｄｋｔと申します.

今回も倍精度小数点数の問題なのですが...

Access97からODBCリンクテーブルを更新しています.

double属性フィールドに連結しているテキストBOXに
-0.07
という数字を入力すると,エラーになってしまいます.

logを見ると,入力した数字が
-0.07000000000000001
に置き換わっています.
これは2進変換誤差なのでしょうか？

以下logです.
---------------------------------------------
conn=158755832, query='BEGIN'
conn=158755832, query='UPDATE "gp4_test_point" SET
"gp4_min"=-0.07000000000000001  WHERE "gp1_no" = 29 AND "gp2_no" = 29
AND "gp32_no" = 1 AND "gp4_no" = 6 AND "gp4_blank" = 0 AND "gp4_judge" =
2 AND "gp4_test1_name" = '  0   /     0' AND "gp4_test2_name" = '' AND
"gp4_range" = '。カ(0.2%+200mA)' AND "gp4_decimal" = 2 AND "gp4_min" =
-0.1 AND "gp4_max" = 0.07000000000000001 AND "gp4_tan_i" = 'mV''
ERROR from backend during send_query: 'ERROR:  Unable to convert left
operator '-' from type 'unknown''
conn=158755832, query='ABORT'
STATEMENT ERROR: func=SC_execute, desc='', errnum=27, errmsg='Error
while executing the query'
                
------------------------------------------------------------
                 hdbc=158755832, stmt=163840664, result=0
                 manual_result=0, prepare=0, internal=0
                 bindings=0, bindings_allocated=0
                 parameters=158783976, parameters_allocated=14
                 statement_type=2, statement='UPDATE "gp4_test_point"
SET "gp4_min"=?  WHERE "gp1_no" = ? AND "gp2_no" = ? AND "gp32_no" = ?
AND "gp4_no" = ? AND "gp4_blank" = ? AND "gp4_judge" = ? AND
"gp4_test1_name" = ? AND "gp4_test2_name" = ? AND "gp4_range" = ? AND
"gp4_decimal" = ? AND "gp4_min" = ? AND "gp4_max" = ? AND "gp4_tan_i" =
?'
                 stmt_with_params='UPDATE "gp4_test_point" SET
"gp4_min"=-0.07000000000000001  WHERE "gp1_no" = 29 AND "gp2_no" = 29
AND "gp32_no" = 1 AND "gp4_no" = 6 AND "gp4_blank" = 0 AND "gp4_judge" =
2 AND "gp4_test1_name" = '  0   /     0' AND "gp4_test2_name" = '' AND
"gp4_range" = '。カ(0.2%+200mA)' AND "gp4_decimal" = 2 AND "gp4_min" =
-0.1 AND "gp4_max" = 0.07000000000000001 AND "gp4_tan_i" = 'mV''
                 data_at_exec=-1, current_exec_param=-1, put_data=0
                 currTuple=-1, current_col=-1, lobj_fd=-1
                 maxRows=0, rowset_size=1, keyset_size=0, cursor_type=0,
scroll_concurrency=1
                 cursor_name='SQL_CUR09C40298'
                 ----------------QResult Info
-------------------------------

以上
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00260.html">[pgsql-jp 13566] Re: Q) GIF -&gt; PNG</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00262.html">[pgsql-jp 13568] Re: VACUUM で落ちる</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00266.html">[pgsql-jp 13572] Re: 外部結合？</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00259.html">[pgsql-jp 13565] Forwarded mail....</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00261"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00261"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
