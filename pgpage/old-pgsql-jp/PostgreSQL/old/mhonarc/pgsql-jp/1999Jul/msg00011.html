<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 9207] Re: selectÊ¸¤Çgroup´Ø¿ô·ë²Ì¤ËÂÐ¤·¤ÆÉûÌä¤¤¹ç¤ï¤»¤ò¤·¤¿¤¤¤Î¤Ç¤¹¤¬¡£ -->
<!--X-From: takuma_ashida@ts.tsuneishi.co.jp -->
<!--X-Date: Thu, 1 Jul 1999 10:56:59 +0900 -->
<!--X-Message-Id: 492567A1.000A5F63.00@pcsvr11.tsuneishi.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 9207] Re: selectÊ¸¤Çgroup´Ø¿ô·ë²Ì¤ËÂÐ¤·¤ÆÉûÌä¤¤¹ç¤ï¤»¤ò¤·¤¿¤¤¤ </TITLE>
<LINK REV="made" HREF="mailto:takuma_ashida@ts.tsuneishi.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00010.html">Date Prev</A>][<A HREF="msg00012.html">Date Next</A>][<A HREF="msg00015.html">Thread Prev</A>][<A HREF="msg00013.html">Thread Next</A>][<A HREF="index.html#00011">Date Index</A>][<A HREF="threads.html#00011">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 9207] Re: selectÊ¸¤Çgroup´Ø¿ô·ë²Ì¤ËÂÐ¤·¤ÆÉûÌä¤¤¹ç¤ï¤»¤ò¤·¤¿¤¤¤Î¤Ç¤¹¤¬¡£</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:takuma_ashida@ts.tsuneishi.co.jp">takuma_ashida@ts.tsuneishi.co.jp</A></LI>
<LI><em>Date</em>: Thu, 1 Jul 1999 10:56:59 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>




°²ÅÄ¤Ç¤¹¡£



ÀèÆü¤ÏÉÔÌÀ³Î¤Ê¼ÁÌäÆâÍÆ¤ÇÂçÊÑ¼ºÎé¤¤¤¿¤·¤Þ¤·¤¿¡£

É½Âê¤Ë´Ø¤·¤Þ¤·¤Æ¡¢¤ß¤Ê¤µ¤ó¤Î¤ªÎÏ±è¤¨¤ò¤¤¤¿¤À¤­¤¿¤¯¤è¤í¤·¤¯¤ª´ê¤¤

¤¤¤¿¤·¤Þ¤¹¡£



»ä¤ÏÊÒÅÄ¼Ë¤ÎÂ¤Á¥²ñ¼Ò¤ÇÀß·×¤Î»Å»ö¤ò¤·¤Æ¤ª¤ê¤Þ¤¹¡£

PostgreSQL¤Ï¤³¤Î2·î¤«¤é¼Ò°÷¤Îºî¶È»þ´Ö´ÉÍý¡¦½¸·×¤Î¤¿¤á¤ËÍøÍÑ¤·¤Æ

¤¤¤Þ¤¹¡£ÆþÎÏ¡¢½¸·×·ë²Ì¤Ïwww¥Ö¥é¥¦¥¶¤Ç¹Ô¤¨¤ë¤è¤¦¤ËPHP3¤ÈÏ¢·È¤µ¤»

¤Æ¤ª¤ê¤Þ¤¹¡£

¤³¤Î½¸·×»þ¤Î·×»»¤ÇÉ½Âê¤ÎÌäÂê¤Ë¤Ö¤Ä¤«¤ê¡¢¤³¤ÎML¤Ë»²²Ã¤·¤¿¼¡Âè¤Ç¤¹¡£



¤µ¤Æ¡¢»ä¤Ï²ÈÄí¤Ë¤âPostgreSQL¤ò»ý¤Á¹þ¤ó¤Çwww¥Ö¥é¥¦¥¶¤«¤é»Ò¶¡¤ÎÀ®

Ä¹¤òµ­Ï¿¡¦»²¾È½ÐÍè¤ë¤è¤¦¤Ë¤·¤Æ¤¤¤Þ¤¹¡£¤³¤Î¥Æ¡¼¥Ö¥ë¤Ï»Ò¶¡(1¥ö·îÈ¾)

¤Î¥ß¥ë¥¯¤ÎÎÌ¤òµ­Ï¿¤·¤¿¤â¤Î¤Î°ìÉô¤Ç¡¢¤½¤Î¤È¤­¡Öºî¶È¤·¤¿¿Í¡×¤Ê¤ÉÂ¾

¤Î¥Ç¡¼¥¿¤âµ­Ï¿¤·¤Æ¤¤¤Þ¤¹¡£

create table milk(d date,t time,m real);

¤ÇºîÉ½¤·¤Þ¤·¤¿¡£ÆâÍÆ¤Ï°Ê²¼¤ÎÄÌ¤ê¤Ç¤¹¡£

test=&gt; select * from milk;
         d|t       |  m
----------+--------+---
06-29-1999|02:30:00|100
06-30-1999|23:45:00| 90
06-30-1999|20:30:00| 90
06-28-1999|05:05:00|120
06-28-1999|10:10:00|100
06-29-1999|04:45:00| 70
(6 rows)

¤³¤Î¥Æ¡¼¥Ö¥ë¤ËÂÐ¤·¡¢

test=&gt; select d,sum(m),avg(m) from milk group by d;
         d|sum|avg
----------+---+---
06-28-1999|220|110
06-29-1999|170| 85
06-30-1999|180| 90
(3 rows)

¤Î·ë²Ì¤«¤é¡¢
select d, max(¾åµ­·ë²Ì.sum) from ¾åµ­·ë²Ì
select d, min(¾åµ­·ë²Ì.sum) from ¾åµ­·ë²Ì
select avg(¾åµ­·ë²Ì.avg) from ¾åµ­·ë²Ì

¤Ç¡¢(¾å¤«¤é)
06-28-1999|220
06-29-1999|170
95
¤Î²ò¤òÆÀ¤¿¤¤¤Î¤Ç¤¹¤¬¡¢¤É¤¦¤·¤Æ¤â¤¦¤Þ¤¯¤¤¤­¤Þ¤»¤ó¡£
¤³¤ì¤é¤ÎÃÍ¤Ç°ìÆü¤Ë¤É¤ì¤¯¤é¤¤¥ß¥ë¥¯¤ò°û¤à¤â¤Î¤Ê¤Î¤«¡¢¤É¤ÎÄøÅÙ¤Î
ÎÌ¥ß¥ë¥¯¤òºî¤ì¤Ð¤¤¤¤¤Î¤«¤ÎÌÜ°Â¤Ë¤·¤Æ¤¤¤Þ¤¹¡£

ORACLE7¤Ç¤Ï
select d,max(summary) from (select d,sum(m) as summary,avg(m) as ave from
milk group by d);¤Ç¡¢
06-28-1999|220 ¤Î²ò¤òÆÀ¤ë¤³¤È¤¬½ÐÍè¤Þ¤¹¡£

¤½¤³¤Ç¡¢view¤ò°ìÃ¶ºîÀ®¤¹¤ì¤ÐÎÉ¤¤¤Î¤«¤È¹Í¤¨¤Þ¤·¤¿¡£

test=&gt; create view temp as select d,sum(m) as summary ,avg(m) as ave from
milk
group by d;
CREATE
test=&gt; select * from temp;
         d|summary|ave
----------+-------+---
06-28-1999|    220|110
06-29-1999|    170| 85
06-30-1999|    180| 90
(3 rows)
test=&gt; select d,max(summary) from temp;
ERROR:  parser: illegal use of aggregates or non-group column in target
list

¥¨¥é¡¼¤¬½Ð¤Þ¤·¤¿¤Î¤Ç¡¢Ìõ¤âÊ¬¤«¤é¤º

test=&gt; select max(summary) from temp;
pqReadData() -- backend closed the channel unexpectedly.
        This probably means the backend terminated abnormally before or
while pr
ocessing the request.
We have lost the connection to the backend, so further processing is
impossible.
  Terminating.

¤ÇÍî¤Á¤Æ¤·¤Þ¤¤¤Þ¤·¤¿¡£

²áµî¤Î¥á¡¼¥ê¥ó¥°¥ê¥¹¥È¤ò¸«¤¿¤ê¤·¤¿¤Î¤Ç¤¹¤¬¡¢»ä¤ÎÄ©Àï¤Ï¤³¤³¤Þ¤Ç
¤Ç¡¢·ë¶ÉPHP¤Ç·×»»¤µ¤»¤Æ¤¤¤Þ¤¹¡£

¾åµ­·ë²Ì¤òÆÀ¤ë¤¿¤á¤Ë²¿¤«ÎÉ¤¤ÊýË¡¤ÏÌµ¤¤¤Ç¤·¤ç¤¦¤«¡£
selectÊ¸¤ò²¿ÅÙ¤âÈ¯¹Ô¤¹¤ë¤è¤êPHP¤Î¥¹¥¯¥ê¥×¥È¤Ç·×»»¤µ¤»¤¿Êý¤¬¸ú
Î¨¤¬ÎÉ¤¤¤Î¤Ç¤·¤ç¤¦¤«¡£

ºî¶È´Ä¶­
     Plamo 1.3
     Linux 2.0.35
     PostgreSQL 6.4.2
     Apache 1.3.6
     PHP 3.0.7

°Ê¾å¡¢¤è¤í¤·¤¯¤´¶µ¼ø¤ª´ê¤¤¤¤¤¿¤·¤Þ¤¹¡£
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00013" HREF="msg00013.html">[pgsql-jp 9209] Re: selectÊ¸¤Çgroup	´Ø¿ô·ë²Ì¤ËÂÐ¤·¤ÆÉûÌä¤¤¹ç¤ï¤»¤ò¤·¤¿¤¤¤Î¤Ç¤¹¤¬¡£</A></STRONG>
<UL><LI><EM>From:</EM> Yoshihiko ICHIKAWA &lt;ichikawa@is.ocha.ac.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00010.html">[pgsql-jp 9206] introduce</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00012.html">[pgsql-jp 9208] Re: Unrecognized variable client_encodig</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00015.html">[pgsql-jp 9211] Re: PostgreSQL CDROM</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00013.html">[pgsql-jp 9209] Re: selectÊ¸¤Çgroup	´Ø¿ô·ë²Ì¤ËÂÐ¤·¤ÆÉûÌä¤¤¹ç¤ï¤»¤ò¤·¤¿¤¤¤Î¤Ç¤¹¤¬¡£</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00011"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00011"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
