<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë -->
<!--X-From: "Jun Kitamura" <jun&#45;n@ga2.so&#45;net.ne.jp> -->
<!--X-Date: Wed, 20 Sep 2000 16:51:03 +0900 -->
<!--X-Message-Id: 002401c022d7$98a902a0$025011ac@nms -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 000701c022d4$28d2f920$025011ac@nms -->
<!--X-Reference-Id: 000d01c022d4$ea148b80$025011ac@nms -->
<!--X-Reference-Id: 001701c022d6$25bd90e0$025011ac@nms -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤ </TITLE>
<LINK REV="made" HREF="mailto:jun-n@ga2.so-net.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00481.html">Date Prev</A>][<A HREF="msg00483.html">Date Next</A>][<A HREF="msg00481.html">Thread Prev</A>][<A HREF="msg00488.html">Thread Next</A>][<A HREF="index.html#00482">Date Index</A>][<A HREF="threads.html#00482">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "Jun Kitamura" &lt;<A HREF="mailto:jun-n@ga2.so-net.ne.jp">jun-n@ga2.so-net.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 20 Sep 2000 16:51:03 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00479.html">000701c022d4$28d2f920$025011ac@nms</A>&gt; &lt;<A HREF="msg00480.html">000d01c022d4$ea148b80$025011ac@nms</A>&gt; &lt;<A HREF="msg00481.html">001701c022d6$25bd90e0$025011ac@nms</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
¤¤¤¤¤«¤²¤óË°¤­¤Æ¤­¤Ş¤·¤¿¤Í¡£
¤³¤ì¤ÇºÇ¸å¤Ç¤¹¡£
&gt;--¥Ó¥å¡¼
&gt;CREATE VIEW vSosiki AS
&gt; SELECT
&gt;  (CASE
&gt;    WHEN objid = 1 THEN lpad('&gt;',level + 1,' ')
&gt;    WHEN objid = 2 THEN lpad('-',level + 2,' ')
&gt;  END) || name as tree,treenum
&gt;  FROM names*;


¼Â¹Ô·ë²Ì¤Ç¤¹¡£
¡¦¼Â¹Ô·ë²Ì
test=# select poi();
 poi
-----
 t
(1 row)

test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
   &gt;ÁíÌ³²İ
    -¹õ¾Â¡¡½¨É×
    &gt;ÆâÉôÄ´ºº¼¼
     -¿ùËÜ¡¡ÉÒÌÀ
   &gt;¿Í»ö²İ
    -ÎëÌÚ¡¡Áï
    -Éğ°æ¡¡ÍºÆó
  &gt;±Ä¶ÈÉô
   -ÄÍÅÄ¡¡Ëş
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
(16 rows)


¡¦ÆâÉôÄ´ºº¼¼(¥³¡¼¥É:4)¤¬ÅìÆüËÜÈÎÇä²İ(¥³¡¼¥É:6)¤Î²¼¤Ø¡¢ÁÈ¿¥ÊÑ¹¹¤¬È¯À¸¡£
test=# update groupm set pgroupcd = 6 where groupcd = 4;
UPDATE 1
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
   &gt;ÁíÌ³²İ
    -¹õ¾Â¡¡½¨É×
   &gt;¿Í»ö²İ
    -ÎëÌÚ¡¡Áï
    -Éğ°æ¡¡ÍºÆó
  &gt;±Ä¶ÈÉô
   -ÄÍÅÄ¡¡Ëş
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
    &gt;ÆâÉôÄ´ºº¼¼
     -¿ùËÜ¡¡ÉÒÌÀ
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
(16 rows)

¡¦¿Í»ö²İ(¥³¡¼¥É:5)¤¬ÁíÌ³²İ(¥³¡¼¥É:3)¤Î²¼¤Ë¡£
test=# update groupm set pgroupcd = 3 where groupcd = 5;
UPDATE 1
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
   &gt;ÁíÌ³²İ
    -¹õ¾Â¡¡½¨É×
    &gt;¿Í»ö²İ
     -ÎëÌÚ¡¡Áï
     -Éğ°æ¡¡ÍºÆó
  &gt;±Ä¶ÈÉô
   -ÄÍÅÄ¡¡Ëş
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
    &gt;ÆâÉôÄ´ºº¼¼
     -¿ùËÜ¡¡ÉÒÌÀ
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
(16 rows)

¡¦ÁíÌ³²İ(¥³¡¼¥É:3)¤¬Ìµ¤¯¤Ê¤Ã¤¿¡£(Ï¢º¿¤·¤Æ¿Í»ö²İ¤â¾Ã¤¨¤Ş¤¹)
test=# delete from groupm where groupcd = 3;
DELETE 1
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
  &gt;±Ä¶ÈÉô
   -ÄÍÅÄ¡¡Ëş
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
    &gt;ÆâÉôÄ´ºº¼¼
     -¿ùËÜ¡¡ÉÒÌÀ
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
(11 rows)

¡¦ÄÍÅÄ¡¡Ëş¤µ¤ó(¥³¡¼¥É:2)¤¬Âà¿¦¡£
¡¦(¼Ò°÷¥Ş¥¹¥¿¤«¤éºï½ü¤¹¤ë¤È¡¢Éô°÷¥Õ¥¡¥¤¥ë¤«¤é¤â¾Ã¤¨¤Ş¤¹¡£Ï¢º¿)
test=# delete from shainm where shaincd = 2;
DELETE 1
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
  &gt;±Ä¶ÈÉô
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
    &gt;ÆâÉôÄ´ºº¼¼
     -¿ùËÜ¡¡ÉÒÌÀ
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
(10 rows)

ÆâÉôÄ´ºº¼¼(¥³¡¼¥É:4)¤¬¡¢ÊÌ²ñ¼Ò¤Ë(¥È¥Ã¥×¤Ø)¡£
test=# update groupm set pgroupcd = null where groupcd = 4;
UPDATE 1
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
  &gt;±Ä¶ÈÉô
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
 &gt;ÆâÉôÄ´ºº¼¼
  -¿ùËÜ¡¡ÉÒÌÀ
(10 rows)

ÁíÌ³Éô(¥³¡¼¥É:1)¤È±Ä¶ÈÉô(¥³¡¼¥É:2)¤Î½çÈÖÆş¤ìÂØ¤¨
test=# begin;
test=# update groupm set dspnum = 1 where groupcd = 2;
test=# update groupm set dspnum = 2 where groupcd = 1;
test=# commit;
test=# select poi();
test=# select tree from vsosiki order by treenum;
      tree
-----------------
 &gt;¡û¡û³ô¼°²ñ¼Ò
  &gt;±Ä¶ÈÉô
   &gt;ÅìÆüËÜÈÎÇä²İ
    -¾®Àî¡¡À¶
   &gt;À¾ÆüËÜÈÎÇä²İ
    -¾åÌî¡¡ÆÁµ×
  &gt;ÁíÌ³Éô
   -¹õ¾Â¡¡½¨É×
 &gt;ÆâÉôÄ´ºº¼¼
  -¿ùËÜ¡¡ÉÒÌÀ
(10 rows)

¡¦±Ä¶ÈÉô(¥³¡¼¥É:2)¤ò¡¢ÅìÆüËÜÈÎÇä²İ(¥³¡¼¥É:6)¤Î²¼¤Ø(ÌµÍı)
test=# update groupm set pgroupcd = 6 where groupcd  =2;
ERROR:  ¼«Ê¬¤ËÏ¢¤Ê¤ë³¬ÁØ¤Î»Ò¤Ë¤Ï¤Ê¤ì¤Ş¤»¤ó

¡¦¡¦¡¦¤È¤¤¤¦¶ñ¹ç¤Ç¤¹¡£¡ÊºÇ¸å¤Î¥¨¥é¡¼¥á¥Ã¥»¡¼¥¸¤¬°ÕÌ£ÉÔÌÀ¤Ê¤Î¤Ï¥Ä¥Ã¥³¤Ş¤Ê¤¤
¤Ç¤¯¤À¤µ¤¤¡Ë¡£
ÁÈ¿¥¿ŞÄøÅÙ¤Ç¤¹¤È¡¢Îã¤¨¤Ğ Web ¤ËÉ½¼¨¤¹¤ë¤Î¤Ç¤¢¤ì¤Ğ¡¢º¸¥Õ¥ì¡¼¥à¤ËÉô½ğ³¬ÁØ¤À¤±
¤òÉ½¼¨¤·¤Æ¡¢¥¯¥ê¥Ã¥¯¤Ç±¦¥Õ¥ì¡¼¥à¤Ë¤½¤ÎÉô½ğ¤ËÂ°¤¹¤ë¼Ò°÷¤Î°ìÍ÷(Éô°÷)¤òÉ½¼¨¤¹
¤ë¡¦¡¦¡¦¤Ê¤É¤Ç¡¢ºÑ¤à¤Ã¤Æ¸À¤¨¤ĞºÑ¤à¤ó¤Ç¤¹¤¬¡¦¡¦¡¦¡¦¡£
¤½¤¦¤Ç¤Ê¤±¤ì¤Ğ¡¢Éô½ğ¥Ş¥¹¥¿¤Ç³¬ÁØ¤À¤±½ñ¤¤¤Æ³ÆÉô½ğ¥³¡¼¥É¤ËÏ¢¤Ê¤ëÉô°÷¤ò¡ÖÉô°÷
¥Õ¥¡¥¤¥ë-¼Ò°÷¥Ş¥¹¥¿¡×¤«¤é°ú¤ÃÄ¥¤Ã¤Æ¤­¤Æ¸å¤«¤é½ñ¤¯¡¦¡¦¡¦¤Ê¤É¤Ë¤Ê¤ê¤Ş¤¹¤Í¡£
¡Ê¤Ê¤é¤Ê¤¤¤Ç¤¹¤«¤Í¡©¡Ë

+ ¤ä - ¤Ê¤ó¤«¤Î³¨¤ò»È¤Ã¤Æ¡¢Éô½ğ¤¬¡Ö³«¤¤¤¿¤ê/ÊÄ¤¸¤¿¤ê¡×¸«¤»¤¿¤¤¾ì¹ç¤Ï¡¢
names.dspflg ¤Ë¡¢TRUE/FALSE ¤òÀßÄê¤·¤Æ¡¢¤½¤ì¤é¤·¤¯¸«¤»¤¿¤ê¤Ç¤­¤Ş¤¹¡£¤¬¡¢»Ò/Â¹/¤Ò
Â¹¡¦¡¦¡¦¤ÈÁ´¤Æ¤Ë TRUE/FALSE ¤ÎÀßÄê¤ò¤·¤Ê¤¯¤Æ¤Ï¤Ê¤é¤Ê¤¤¤Î¤Ç¡¢¤Ê¤ó¤À¤«ÌÌÅİ¤¯¤µ¤¯
¤Ê¤Ã¤Æ¼­¤á¤Æ¤·¤Ş¤¤¤Ş¤·¤¿¡£

¥á¥ê¥Ã¥È
¡¦names* ¤ò SELECT ¤¹¤ë¤À¤±¤Ê¤Î¤Ç¡¢Â®¤¤¡Ê¤Ï¤º¡Ë
¡¦limit ¤¬»È¤¨¤ë¡£¡Ê¥Ú¡¼¥¸¶èÀÚ¤ê¤òÉ¬Í×¤È¤¹¤ë¾ì¹ç¤Ê¤ÉÊØÍø¡Ë
¡¦¡¦¡¦¤Ê¤É¡£¡Ê¤¢¤ó¤Ş¤êÌµ¤¤¤¸¤ã¤ó¡£´À¡Ë

º£¸å¤Î²İÂê
¡¦½ç½øÆş¤ìÂØ¤¨¤Î´Ø¿ô¤òºî¤ë¡Êº£¤Î¤ä¤êÊı¤ÏÌÌÅİ¡ËfChangeNum(groupcd,updownflg)
¡¦¡¦¡¦¡¦Â¾¤¤¤í¤¤¤í

±şÍÑÎã
¡¦names ¤Ë¶â³ÛÍó¤òÀß¤±¤Æ¡¢ÀÑ»»¥·¥¹¥Æ¥à¤Ê¤É¤Ø¡£
¡¡¼Ò°÷¥Ş¥¹¥¿¢ª¾¦ÉÊ¥Ş¥¹¥¿
¡¡Éô½ğ¥Ş¥¹¥¿¢ª¹àÌÜ¥Ş¥¹¥¿¡Ê³¬ÁØ·¿)
¡¡Éô°÷¥Õ¥¡¥¤¥ë¢ªÌÀºÙ¥Õ¥¡¥¤¥ë
¡¡¡Ê¤³¤ì¤À¤È¡¢ÁÈ¿¥¿Ş¤È°ã¤Ã¤Æ¡¢¹àÌÜ(³¬ÁØ)¤ÈÌÀºÙ(¾¦ÉÊ°ìÍ÷)¤ÏÆ±¤¸²èÌÌ¤ÇÉ½¼¨¤¹
¤ë¤Î¤¬¸«°×¤¤¤Ç¤¹¤è¤Í¡£¤­¤Ã¤È¡Ë


¤¤¤«¤¬¤Ê¤â¤ó¤Ç¤·¤ç¡£¥¿¥é¥¿¥é¤ÈÄ¹¤«¤Ã¤¿¤Ç¤¹¤¬¡¢¤³¤³¤Ş¤Ç¤ªÆÉ¤ß¤¤¤¿¤À¤¤¤¿Êı¡¢
¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Ş¤¹¡£
¤Ç¤­¤ì¤Ğ¡¢¤´°Õ¸«¤ªÂÔ¤Á¤·¤Æ¤¤¤Ş¤¹¡£
¤¿¤À¤·¡¢¥Ç¡¼¥¿ÎÌ¤¬Áı¤¨¤¿¤È¤­¤Ë¡¢¡Ö¤Ş¤È¤â¡×¤ËÆ°¤¯¤«¤É¤¦¤«¤Ï¼Â¸³¤·¤Æ¤¤¤Ê¤¤¤Î
¤Ç¡¢µÍ¤á¤Î´Å¤¤ÉôÊ¬¤¬ÏªÄè¤¹¤ë¤Ç¤·¤ç¤¦¡Ê¤­¤Ã¤È¡Ë¡£

¶òÃÔ
¤«¤Ê¤êÊØÍø¤À¤È»×¤¦¤Î¤Ç¤¹¤¬¡¢MSDE(Access2000)¤ÎºÎÍÑ¤¬·èÄê¤·¤Ş¤·¤¿¡£ÎŞ

¤Ç¤Ï¡£
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00488" HREF="msg00488.html">[pgsql-jp 17819] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> Jun Kitamura &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00479" HREF="msg00479.html">[pgsql-jp 17810] ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00480" HREF="msg00480.html">[pgsql-jp 17811] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00481" HREF="msg00481.html">[pgsql-jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00481.html">[pgsql-jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00483.html">[pgsql-jp 17814] Re: libpq ¤ò»È¤Ã¤Æ¤ÎÇÓÂ¾À©¸æ</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00481.html">[pgsql-jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00488.html">[pgsql-jp 17819] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00482"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00482"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
