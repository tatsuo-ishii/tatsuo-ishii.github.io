<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë -->
<!--X-From: "Jun Kitamura" <jun&#45;n@ga2.so&#45;net.ne.jp> -->
<!--X-Date: Wed, 20 Sep 2000 16:40:41 +0900 -->
<!--X-Message-Id: 001701c022d6$25bd90e0$025011ac@nms -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 000701c022d4$28d2f920$025011ac@nms -->
<!--X-Reference-Id: 000d01c022d4$ea148b80$025011ac@nms -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ </TITLE>
<LINK REV="made" HREF="mailto:jun-n@ga2.so-net.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00480.html">Date Prev</A>][<A HREF="msg00482.html">Date Next</A>][<A HREF="msg00480.html">Thread Prev</A>][<A HREF="msg00482.html">Thread Next</A>][<A HREF="index.html#00481">Date Index</A>][<A HREF="threads.html#00481">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 17812] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "Jun Kitamura" &lt;<A HREF="mailto:jun-n@ga2.so-net.ne.jp">jun-n@ga2.so-net.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 20 Sep 2000 16:40:41 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00479.html">000701c022d4$28d2f920$025011ac@nms</A>&gt; &lt;<A HREF="msg00480.html">000d01c022d4$ea148b80$025011ac@nms</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Â³¤­¤Ç¤¹¡£

¤³¤ì¤Ç¡¢¥Ç¡¼¥¿¤ò INSERT ¤¹¤ì¤Ğ¡¢°Ê²¼¤ÎÊıË¡¤Ç³¬ÁØÉ½¤Î½ĞÍè¾å¤¬¤ê¤Ç¤¹¡£
select ¶õÇò(¥ì¥Ù¥ëÊ¬) || '&gt;' || name from names* order by treenum;
¤³¤ì¤Ç¤Ï¤Á¤ç¤Ã¤È¤ï¤«¤ê¤Å¤é¤¤¤Î¤Ç¡¢objid ¤Ë¤è¤ê¡¢Ì¾Á°¤ÎÁ°¤Î'&gt;'¤òÊÑ¤¨¤Æ¤ß¤Ş¤¹¡£
¤½¤·¤Æ¡¢¤¤¤Á¤¤¤ÁÂÇ¤Ä¤Î¤¬ÌÌÅİ¤Ê¤Î¤Ç¡¢¥Ó¥å¡¼¤Ë¤·¤Æ¤·¤Ş¤¤¤Ş¤¹¡£
Éô½ğ¥Ş¥¹¥¿(¥°¥ë¡¼¥×¥Ş¥¹¥¿)¡¢Éô°÷¥Õ¥¡¥¤¥ë¤òÊÑ¹¹¤·¡¢ÁÈ¿¥ÆâÍÆ¤¬ÊÑ¹¹¤Ë¤Ê¤ë¤¿¤Ó
¤Ë¥ì¥Ù¥ë¤È»ŞÈÖ¤ÏÊÑ²½¤·¤Ş¤¹¤Î¤Ç¡¢¤½¤ì¤é¤â°ìÈ¯¤ÇÀßÄê¤Ç¤­¤ë¤è¤¦¡¢¥Õ¥¡¥ó¥¯¥·¥ç
¥ó(poi())¤òºî¤ê¤Ş¤·¤¿¡£

¤½¤·¤Æ¡¢¥µ¥ó¥×¥ë¥Ç¡¼¥¿¤ò INSERT ¡£
¼Ò°÷¥Ş¥¹¥¿¾å¤Î»áÌ¾¤Ï¡¢ÅÅÏÃÄ¢¤«¤éÅ¬Åö¤Ë½¦¤Ã¤Æ¤­¤Æ(²»ÆÉ¤ß¤Î¤ß)»È¤Ã¤Æ¤¤¤Ş¤¹¡£
¼Âºß¤Î¿ÍÊª¤È¤Ï²¿¤â´Ø·¸¤¢¤ê¤Ş¤»¤ó¡£(ÁÈ¿¥¤â¤Ç¤¹)

¤µ¤Æ¡¢¼¡¤Î¥á¡¼¥ë¤Ç¼Â¹Ô·ë²Ì¤Ç¤¹¡£



--»ŞÈÖ/¥ì¥Ù¥ëÉÕ¤±´Ø¿ô(Áàºî´ÊÎ¬²½¤Î¤¿¤á)
CREATE FUNCTION poi() RETURNS bool AS '
  UPDATE groupm SET level = groupm_getlevel(groupcd);
  UPDATE groupm SET treenum = groupm_gettreenum(groupcd);
  UPDATE buinf SET level = buinf_getlevel(groupcd);
  UPDATE buinf SET treenum = buinf_gettreenum(groupcd,buincd);
  SELECT TRUE;
' LANGUAGE 'sql';
--¥Ó¥å¡¼
CREATE VIEW vSosiki AS
 SELECT
  (CASE
    WHEN objid = 1 THEN lpad('&gt;',level + 1,' ')
    WHEN objid = 2 THEN lpad('-',level + 2,' ')
  END) || name as tree,treenum
  FROM names*;


--¼Ò°÷¥Ş¥¹¥¿ INSERT
INSERT INTO shainm (shaincd,name) values (1,'¹õ¾Â¡¡½¨É×');
INSERT INTO shainm (shaincd,name) values (2,'ÄÍÅÄ¡¡Ëş');
INSERT INTO shainm (shaincd,name) values (3,'¿ùËÜ¡¡ÉÒÌÀ');
INSERT INTO shainm (shaincd,name) values (4,'ÎëÌÚ¡¡Áï');
INSERT INTO shainm (shaincd,name) values (5,'Éğ°æ¡¡ÍºÆó');
INSERT INTO shainm (shaincd,name) values (6,'¾®Àî¡¡À¶');
INSERT INTO shainm (shaincd,name) values (7,'¾åÌî¡¡ÆÁµ×');
--Éô½ğ¥Ş¥¹¥¿ INSERT
INSERT INTO groupm (groupcd,pgroupcd,name) values (0,null,'¡û¡û³ô¼°²ñ¼Ò');
INSERT INTO groupm (groupcd,pgroupcd,name) values (1,0,'ÁíÌ³Éô');
INSERT INTO groupm (groupcd,pgroupcd,name) values (2,0,'±Ä¶ÈÉô');
INSERT INTO groupm (groupcd,pgroupcd,name) values (3,1,'ÁíÌ³²İ');
INSERT INTO groupm (groupcd,pgroupcd,name) values (4,3,'ÆâÉôÄ´ºº¼¼');
INSERT INTO groupm (groupcd,pgroupcd,name) values (5,1,'¿Í»ö²İ');
INSERT INTO groupm (groupcd,pgroupcd,name) values (6,2,'ÅìÆüËÜÈÎÇä²İ');
INSERT INTO groupm (groupcd,pgroupcd,name) values (7,2,'À¾ÆüËÜÈÎÇä²İ');
--Éô°÷¹½À® INSERT
INSERT INTO buinf (groupcd,buincd) values (1,1);
INSERT INTO buinf (groupcd,buincd) values (3,1);
INSERT INTO buinf (groupcd,buincd) values (2,2);
INSERT INTO buinf (groupcd,buincd) values (4,3);
INSERT INTO buinf (groupcd,buincd) values (5,4);
INSERT INTO buinf (groupcd,buincd) values (5,5);
INSERT INTO buinf (groupcd,buincd) values (6,6);
INSERT INTO buinf (groupcd,buincd) values (7,7);
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00482" HREF="msg00482.html">[pgsql-jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00479" HREF="msg00479.html">[pgsql-jp 17810] ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00480" HREF="msg00480.html">[pgsql-jp 17811] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> "Jun Kitamura" &lt;jun-n@ga2.so-net.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00480.html">[pgsql-jp 17811] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00482.html">[pgsql-jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00480.html">[pgsql-jp 17811] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤Ş¤¿¼¡¤ØÂ³¤¯¡Ë</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00482.html">[pgsql-jp 17813] Re: ·Ñ¾µ(INHERITS)¤ÎÍ­¸úÍøÍÑ¡©¡ÊÄ¹Ê¸Ãí°Õ¡§¤³¤ì¤Ç¤ª¤·¤Ş¤¤¡Ë</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00481"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00481"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
