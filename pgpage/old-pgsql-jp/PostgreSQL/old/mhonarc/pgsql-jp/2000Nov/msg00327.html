<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 18807] Re: delete について -->
<!--X-From: Shoichi Kosuge <s&#45;kosuge@str.hitachi.co.jp> -->
<!--X-Date: Wed, 22 Nov 2000 15:57:49 +0900 -->
<!--X-Message-Id: p04320401b6411d25fe1e@sogise90.str.hitachi.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 200011220611.PAA19931@sranhk.sra.co.jp -->
<!--X-Reference-Id: 001501c0544e$3bda04e0$1e00a8c0@delta3 -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 18807] Re: delete について </TITLE>
<LINK REV="made" HREF="mailto:s-kosuge@str.hitachi.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00326.html">Date Prev</A>][<A HREF="msg00328.html">Date Next</A>][<A HREF="msg00326.html">Thread Prev</A>][<A HREF="msg00328.html">Thread Next</A>][<A HREF="index.html#00327">Date Index</A>][<A HREF="threads.html#00327">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 18807] Re: delete について</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Shoichi Kosuge &lt;<A HREF="mailto:s-kosuge@str.hitachi.co.jp">s-kosuge@str.hitachi.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 22 Nov 2000 15:57:49 +0900</LI>
<LI><em>References</em>: &lt;200011220611.PAA19931@sranhk.sra.co.jp&gt;&lt;<A HREF="msg00326.html">001501c0544e$3bda04e0$1e00a8c0@delta3</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
At 15:33 +0900 2000.11.22, Akira Kato wrote:
&gt;はじめて参加させていただきますAkiraです。
&gt;どうぞ宜しくお願い致します。
&gt;
&gt;PostgreSQL6.5.2を使用しています。
&gt;
&gt;質問は、１つのデータベースに複数のテーブルがあり、いくつかのテーブルには個人IDが登録されています。
&gt;ある個人データを削除したい時、個人IDをキーとしてdeleteを行うわけですが、何度かdeleteを実行しなければなりません。
&gt;そこで、postgreSQLで、個人データを削除する時に、自動でそのＩＤを参照するテーブルを削除する便利な機能はないものかと探してるところです
&gt;が、そんな事は出来ないものでしょうか。

自動でそのＩＤを参照する「テーブル」を削除する、ではなくて、行を削除する
のだと思うのですが、
使ったことはないですが、7.0 以降のcreate table では
ON DELETE CASCADE がサポートされている様です。7.0 より前は、
foreign key 自体なかったはずなので、できないと思います。
以下、postgres/sql-createtable.htm より。くどいようですが、
7.0 です。

[ CONSTRAINT name ] REFERENCES reftable [ ( refcolumn ) ]
    [ MATCH matchtype ]
    [ ON DELETE action ]
    [ ON UPDATE action ]
    [ [ NOT ] DEFERRABLE ]
    [ INITIALLY checktime ]

略

ON DELETE action

       The action to do when a referenced row in the referenced table is being deleted. There are the following actions.

       NO ACTION

              Produce error if foreign key violated. This is the default.

       RESTRICT

              Same as NO ACTION.

       CASCADE

              Delete any rows referencing the deleted row.

-- 
  小菅昭一（Shoichi Kosuge）   日立製作所ストレージシステム事業部  ソ技セ
  Email: s-kosuge@str.hitachi.co.jp   TEL: 0465-48-1111 (内5217)
　〒250-0872　神奈川県小田原市中里322-2　日立システムプラザ
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00328" HREF="msg00328.html">[pgsql-jp 18808] Re: delete について</A></STRONG>
<UL><LI><EM>From:</EM> "Akira Kato" &lt;delta@gld.mmtr.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00326" HREF="msg00326.html">[pgsql-jp 18806] delete について</A></STRONG>
<UL><LI><EM>From:</EM> "Akira Kato" &lt;delta@gld.mmtr.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00326.html">[pgsql-jp 18806] delete について</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00328.html">[pgsql-jp 18808] Re: delete について</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00326.html">[pgsql-jp 18806] delete について</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00328.html">[pgsql-jp 18808] Re: delete について</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00327"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00327"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
