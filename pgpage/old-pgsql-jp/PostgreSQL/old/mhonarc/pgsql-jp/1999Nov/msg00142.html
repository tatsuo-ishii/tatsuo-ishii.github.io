<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 11568] Re: 24H稼動は出来ない? -->
<!--X-From: hosoi@ryo.com -->
<!--X-Date: Thu, 04 Nov 1999 15:50:06 &#45;0800 -->
<!--X-Message-Id: 19991104155006H.ryo@ryo.com -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 3821A7DD.E71DDF4@air.linkclub.or.jp -->
<!--X-Reference-Id: 19991104104655I.ryo@ryo.com -->
<!--X-Reference-Id: 38220ABD186.BB77NKON@mail.shonan.ne.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 11568] Re: 24H稼動は出来ない? </TITLE>
<LINK REV="made" HREF="mailto:hosoi@ryo.com">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00140.html">Date Prev</A>][<A HREF="msg00141.html">Date Next</A>][<A HREF="msg00139.html">Thread Prev</A>][<A HREF="msg00144.html">Thread Next</A>][<A HREF="index.html#00142">Date Index</A>][<A HREF="threads.html#00142">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 11568] Re: 24H稼動は出来ない?</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:hosoi@ryo.com">hosoi@ryo.com</A></LI>
<LI><em>Date</em>: Thu, 04 Nov 1999 15:50:06 -0800</LI>
<LI><em>References</em>: &lt;<A HREF="msg00131.html">3821A7DD.E71DDF4@air.linkclub.or.jp</A>&gt;&lt;<A HREF="msg00138.html">19991104104655I.ryo@ryo.com</A>&gt;&lt;<A HREF="msg00139.html">38220ABD186.BB77NKON@mail.shonan.ne.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
ほそいです

From: Naofumi Kondoh &lt;nkon@shonan.ne.jp&gt;
Subject: [pgsql-jp 11565] Re: 24H 稼動は出来ない ?
Date: Fri, 05 Nov 1999 07:37:49 +0900
Message-ID: &lt;<A HREF="msg00139.html">38220ABD186.BB77NKON@mail.shonan.ne.jp</A>&gt;

&gt; 1分とは短いですね。参考に、更新／削除件数、全データ
&gt; ー件数、DB サイズ(MB)やマシーンスペックお教え頂ける
&gt; と嬉しい。

ほんとの具体的な数はマーケティング情報になっちゃうので、
だいたいの数で書きます。
毎日確実に動く部分としては、在庫、バスケット、受注ですね
在庫の追加は１日数十〜数百個で、
削除はバスケットが削除された数
更新はバスケットに追加された数
バスケットは１日数百つくられて、バスケットと在庫の対応表が
それの数倍作成され、削除されます
受注は１日数十件で、受注のトラッキングも行いますので、作成
が数十件の更新がやっぱり同じくらいありますね。
３ヵ月以上前の受注および売り切れた在庫は別のテーブルに移す
ってのをやってますので、更に同じ量の削除と追加があります。
で、商品の件数は３万、在庫してる商品点数が２万くらいです。
サイズはpgdumpすると200MBいきません。で、Pen3-450MHzのFreeBSD
のSCSI構成で１分かからずにvacuum終ります。

&gt; # 勝手な憶測だけど、笠原さんの頭にあるシステム規模と
&gt; # １桁違うのかもしれない。

１ケタ違うみたいですね。
オンラインショップのDBとしては大規模なほうですケド。

&gt; 運用によるけど、私は、DB ログファイルは、M/T に出力す
&gt; るものだと思ってます。 HDD に入れる場合は、物理的に別
&gt; の HDD ドライブ、SCSIコントローラーを使用するか、ログ
&gt; とかカタログなど重要なDB領域だけでも、DBMS でミラーリ
&gt; ングするとかします。M/T 2台以上にして、ログ出力は、１
&gt; 台の M/T を占有させます。

なるほど。

&gt; # 余談だけど、いざというときに、M/Tの故障で泣いたこと
&gt; # が何回かあるので、M/T は同型を2台以上設置すべきです。

ハードも壊れますかー。
昔のテープはバックアップとったつもりがメディアが×だったって
ことがしばしばありましたね。。。DDS2とか3になってから、メディア
壊れたことはまだないです。

-- 
 Ryosuke Hosoi / 細井 良祐
 <A HREF="mailto:hosoi@ryo.com">mailto:hosoi@ryo.com</A> <A HREF="http://www.ryo.com/">http://www.ryo.com/</A>
 PGP Public Key <A HREF="http://www.ryo.com/ryo/hosoi.ryo.com.asc">http://www.ryo.com/ryo/hosoi.ryo.com.asc</A>
 fingerprint = 4F39 61B0 2034 3A5C DFE8  FBCB 7B99 90CF EBE1 A3F3
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00144" HREF="msg00144.html">[pgsql-jp 11570] Re: 24H稼動は出来ない ?</A></STRONG>
<UL><LI><EM>From:</EM> Naofumi Kondoh &lt;nkon@shonan.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00131" HREF="msg00131.html">[pgsql-jp 11557] Re: 24H稼動は出来ない?</A></STRONG>
<UL><LI><EM>From:</EM> Norio Kasahara &lt;kasa@air.linkclub.or.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00138" HREF="msg00138.html">[pgsql-jp 11564] Re: 24H稼動は出来ない?</A></STRONG>
<UL><LI><EM>From:</EM> hosoi@ryo.com</LI></UL></LI>
<LI><STRONG><A NAME="00139" HREF="msg00139.html">[pgsql-jp 11565] Re: 24H稼動は出来ない?</A></STRONG>
<UL><LI><EM>From:</EM> Naofumi Kondoh &lt;nkon@shonan.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00140.html">[pgsql-jp 11566] Re: インターネット経由でクライアント（MS-Access）からのデータ入力</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00141.html">[pgsql-jp 11567] Re: インターネット経由でクライアント（MS-Access）からのデータ入力</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00139.html">[pgsql-jp 11565] Re: 24H稼動は出来ない?</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00144.html">[pgsql-jp 11570] Re: 24H稼動は出来ない ?</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00142"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00142"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
