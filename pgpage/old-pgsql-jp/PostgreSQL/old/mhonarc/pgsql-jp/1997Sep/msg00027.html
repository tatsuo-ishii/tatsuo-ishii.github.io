<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 2454] Benchmark Data on Digital UNIX V4.0B -->
<!--X-From: Hironao YOSHIDA <hironao@cks.canon.co.jp> -->
<!--X-Date: Mon, 08 Sep 1997 14:55:36 +0900 -->
<!--X-Message-Id: 199709080555.OAA27439@deckard.cks.canon.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 2454] Benchmark Data on Digital UNIX V4.0B </TITLE>
<LINK REV="made" HREF="mailto:hironao@cks.canon.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00026.html">Date Prev</A>][<A HREF="msg00028.html">Date Next</A>][<A HREF="msg00030.html">Thread Prev</A>][<A HREF="msg00029.html">Thread Next</A>][<A HREF="index.html#00027">Date Index</A>][<A HREF="threads.html#00027">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 2454] Benchmark Data on Digital UNIX V4.0B</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Hironao YOSHIDA &lt;<A HREF="mailto:hironao@cks.canon.co.jp">hironao@cks.canon.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Mon, 08 Sep 1997 14:55:36 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
吉田＠キヤノンです. 

会社に最近入った DEC Alpha で Wisconsin Benchmark を測ってみました. 
PostgreSQL v6.1.1 + jp patch で使用しています. 
gcc-2.7.2.3 (optimize on/off) と native cc (optimize on) の3種類で
計測しています. やはり optimizer の威力は大きいです. 
Disk は 20GB (実効12GB) の Hardware RAID 5 Disk Array を使用しました. 

Machine	: DEC AlphaServer 4000 5/400
CPU	: DEC Alpha 21164A/400MHz x1 (512MB, 72GB)
OS	: Digital UNIX V4.0B


[1] gcc-2.7.2.3 (no optimize)

query  0:   0.001 real   0.001 user   0.000 sys
query  1:   0.099 real   0.091 user   0.006 sys
query  2:   0.449 real   0.293 user   0.119 sys
query  3:   0.078 real   0.072 user   0.002 sys
query  4:   0.457 real   0.300 user   0.111 sys
query  5:   0.078 real   0.072 user   0.004 sys
query  6:   0.246 real   0.233 user   0.009 sys
query  7:   0.008 real   0.007 user   0.002 sys
query  8:   0.129 real   0.097 user   0.007 sys
query  9:   0.687 real   0.656 user   0.021 sys
query 10:   2.357 real   2.216 user   0.057 sys
query 11:   0.963 real   0.927 user   0.019 sys
query 12:   0.738 real   0.686 user   0.023 sys
query 13:   2.285 real   2.171 user   0.052 sys
query 14:   0.951 real   0.920 user   0.018 sys
query 15:   1.206 real   0.880 user   0.229 sys
query 16:   2.279 real   2.174 user   0.051 sys
query 17:   1.484 real   1.118 user   0.250 sys
query 18:   1.349 real   1.184 user   0.078 sys
query 19:   0.222 real   0.206 user   0.014 sys
query 20:   0.000 real   0.000 user   0.000 sys
query 21:   0.000 real   0.000 user   0.000 sys
query 22:   0.001 real   0.001 user   0.000 sys
query 23:   0.000 real   0.000 user   0.000 sys
query 24:   0.000 real   0.000 user   0.000 sys
query 25:   0.000 real   0.000 user   0.000 sys
query 26:   0.000 real   0.000 user   0.000 sys
query 27:   0.005 real   0.004 user   0.001 sys
query 28:   0.020 real   0.020 user   0.000 sys
query 29:   0.000 real   0.000 user   0.000 sys
query 30:   0.003 real   0.002 user   0.001 sys
query 31:   0.014 real   0.013 user   0.001 sys
query 32:   0.017 real   0.017 user   0.001 sys


[2] gcc-2.7.2.3 (-O3 -funroll-loops)

query  0:   0.000 real   0.000 user   0.000 sys
query  1:   0.063 real   0.054 user   0.004 sys
query  2:   0.305 real   0.166 user   0.105 sys
query  3:   0.047 real   0.041 user   0.003 sys
query  4:   0.349 real   0.179 user   0.097 sys
query  5:   0.048 real   0.041 user   0.004 sys
query  6:   0.157 real   0.126 user   0.012 sys
query  7:   0.004 real   0.004 user   0.000 sys
query  8:   0.120 real   0.065 user   0.009 sys
query  9:   0.384 real   0.361 user   0.014 sys
query 10:   1.245 real   1.133 user   0.053 sys
query 11:   0.518 real   0.471 user   0.032 sys
query 12:   0.425 real   0.362 user   0.026 sys
query 13:   1.223 real   1.119 user   0.054 sys
query 14:   0.522 real   0.486 user   0.021 sys
query 15:   0.977 real   0.501 user   0.246 sys
query 16:   1.201 real   1.086 user   0.053 sys
query 17:   0.978 real   0.642 user   0.236 sys
query 18:   0.777 real   0.616 user   0.078 sys
query 19:   0.134 real   0.107 user   0.013 sys
query 20:   0.001 real   0.000 user   0.001 sys
query 21:   0.000 real   0.000 user   0.000 sys
query 22:   0.001 real   0.001 user   0.000 sys
query 23:   0.000 real   0.000 user   0.000 sys
query 24:   0.000 real   0.000 user   0.000 sys
query 25:   0.000 real   0.000 user   0.000 sys
query 26:   0.000 real   0.000 user   0.000 sys
query 27:   0.004 real   0.003 user   0.001 sys
query 28:   0.012 real   0.012 user   0.000 sys
query 29:   0.001 real   0.000 user   0.001 sys
query 30:   0.003 real   0.002 user   0.000 sys
query 31:   0.010 real   0.010 user   0.000 sys
query 32:   0.010 real   0.010 user   0.000 sys


[3] DEC cc (-migrate -O5 -inline speed -unroll 1)

query  0:   0.000 real   0.000 user   0.000 sys
query  1:   0.059 real   0.049 user   0.008 sys
query  2:   0.317 real   0.180 user   0.093 sys
query  3:   0.048 real   0.043 user   0.002 sys
query  4:   0.321 real   0.183 user   0.097 sys
query  5:   0.048 real   0.039 user   0.005 sys
query  6:   0.137 real   0.120 user   0.014 sys
query  7:   0.008 real   0.006 user   0.002 sys
query  8:   0.110 real   0.069 user   0.008 sys
query  9:   0.353 real   0.325 user   0.020 sys
query 10:   1.168 real   1.035 user   0.057 sys
query 11:   0.501 real   0.464 user   0.024 sys
query 12:   0.422 real   0.342 user   0.031 sys
query 13:   1.152 real   1.044 user   0.045 sys
query 14:   0.500 real   0.463 user   0.020 sys
query 15:   0.851 real   0.486 user   0.247 sys
query 16:   1.147 real   1.045 user   0.055 sys
query 17:   0.998 real   0.615 user   0.251 sys
query 18:   0.786 real   0.602 user   0.082 sys
query 19:   0.130 real   0.105 user   0.008 sys
query 20:   0.000 real   0.000 user   0.000 sys
query 21:   0.000 real   0.000 user   0.000 sys
query 22:   0.000 real   0.000 user   0.000 sys
query 23:   0.000 real   0.000 user   0.000 sys
query 24:   0.000 real   0.000 user   0.000 sys
query 25:   0.000 real   0.000 user   0.000 sys
query 26:   0.000 real   0.000 user   0.000 sys
query 27:   0.004 real   0.003 user   0.001 sys
query 28:   0.012 real   0.010 user   0.002 sys
query 29:   0.001 real   0.001 user   0.000 sys
query 30:   0.002 real   0.002 user   0.000 sys
query 31:   0.010 real   0.009 user   0.001 sys
query 32:   0.010 real   0.009 user   0.001 sys


ということで champion data は cc (optimize on) ということに
なりますね. 

参考までに [2] と全く同じ条件で Disk Array から
単体の Disk (/usr/local で頻繁に access があるモノ) に
変えてやってみました. query 9 では 26% ほど遅くなりますが, 
大規模検索ほどその差は広がっています. 
最大2.5倍程度遅くなっています. 
Disk I/O も影響大ですね. 
＃ やっぱり沢山のメモリ, 速い Disk は効くんですねぇ. 


[2-1] gcc (-O3 -unroll-loops) on 4GB Fast Wide SCSI2

query  0:   0.000 real   0.000 user   0.000 sys
query  1:   0.110 real   0.052 user   0.006 sys
query  2:   0.833 real   0.168 user   0.112 sys
query  3:   0.109 real   0.041 user   0.005 sys
query  4:   0.955 real   0.182 user   0.102 sys
query  5:   0.113 real   0.041 user   0.006 sys
query  6:   0.268 real   0.122 user   0.017 sys
query  7:   0.006 real   0.006 user   0.000 sys
query  8:   0.098 real   0.070 user   0.005 sys
query  9:   0.486 real   0.367 user   0.008 sys
query 10:   2.071 real   1.101 user   0.058 sys
query 11:   0.719 real   0.491 user   0.032 sys
query 12:   0.750 real   0.364 user   0.017 sys
query 13:   1.898 real   1.100 user   0.057 sys
query 14:   0.700 real   0.499 user   0.021 sys
query 15:   2.219 real   0.498 user   0.265 sys
query 16:   1.821 real   1.088 user   0.045 sys
query 17:   2.394 real   0.631 user   0.263 sys
query 18:   1.442 real   0.601 user   0.089 sys
query 19:   0.248 real   0.114 user   0.009 sys
query 20:   0.000 real   0.000 user   0.000 sys
query 21:   0.000 real   0.000 user   0.000 sys
query 22:   0.000 real   0.000 user   0.000 sys
query 23:   0.001 real   0.001 user   0.000 sys
query 24:   0.000 real   0.000 user   0.000 sys
query 25:   0.000 real   0.000 user   0.000 sys
query 26:   0.000 real   0.000 user   0.000 sys
query 27:   0.004 real   0.003 user   0.001 sys
query 28:   0.013 real   0.012 user   0.000 sys
query 29:   0.001 real   0.001 user   0.000 sys
query 30:   0.001 real   0.001 user   0.000 sys
query 31:   0.010 real   0.007 user   0.002 sys
query 32:   0.012 real   0.009 user   0.002 sys


---
|     ___                      キヤノン(株) 半導体機器開発センター        | 
|    /   / ___  ___  ___  ___	            半導体機器システム技術開発室  |
|   /     ___/ /  / /  / /  /                            吉田 裕直        |
|  /___/_/__/_/  /_/__/_/  /   e-mail : hironao@cks.canon.co.jp           |
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00029" HREF="msg00029.html">[pgsql-jp 2456] Re: Benchmark Data on Digital UNIX V4.0B</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00026.html">[pgsql-jp 2453] jp.patch Bug</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00028.html">[pgsql-jp 2455] Re: Benchmark on AIX</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00030.html">[pgsql-jp 2457] benchmark on K6-200</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00029.html">[pgsql-jp 2456] Re: Benchmark Data on Digital UNIX V4.0B</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00027"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00027"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
