<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 2559] Re: regression test failed -->
<!--X-From: Tatsuo Ishii <t&#45;ishii> -->
<!--X-Date: Fri, 26 Sep 1997 18:55:56 +0900 -->
<!--X-Message-Id: 199709260955.SAA23637@srashd.sra.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199709260614.PAA03160@kitsun4.manage.kanazawa&#45;it.ac.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 2559] Re: regression test failed </TITLE>
<LINK REV="made" HREF="mailto:t-ishii">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00131.html">Date Prev</A>][<A HREF="msg00133.html">Date Next</A>][<A HREF="msg00129.html">Thread Prev</A>][<A HREF="msg00112.html">Thread Next</A>][<A HREF="index.html#00132">Date Index</A>][<A HREF="threads.html#00132">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 2559] Re: regression test failed</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Tatsuo Ishii &lt;t-ishii&gt;</LI>
<LI><em>Date</em>: Fri, 26 Sep 1997 18:55:56 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
石井＠SRAです。

&gt;＞石井＠SRAです。
&gt;＞
&gt;＞玉置さんの場合、内山さんと違って、misc だけでなく、すべての regression 
&gt;＞テストが fail しているので、おそらく PostrgeSQL がちゃんと動いていない
&gt;＞状態なのだと思います。ということで、基本に戻って、
&gt;＞
&gt;＞1. initdb は成功したか？
&gt;＞2. createdb コマンドは動くか？
&gt;＞3. psql template1 は動くか？
&gt;＞4. 3 が動いた後、\l や \d コマンドは使えるか？
&gt;
&gt;全て動作することが確認できたのですが、突然 backend からの応答が
&gt;なくなりました。以下がエラーメッセージです。
&gt;
&gt;----------
&gt;pgsql% createuser
&gt;Connection to database 'template1' failed.
&gt;PQexec() -- Request was sent to backend, but backend closed the
&gt;channel before responding.  This probably means the backend ter
&gt;minated abnormally before or while processing the request.
&gt;createuser: database access failed.
&gt;
&gt;pgsql% psql
&gt;Connection to database 'postgres' failed.
&gt;FATAL 1:AttachSharedRegion: couldn't attach to shmem

一度は動いたが、その後調子が悪くなったわけですね。このエラーメッセージ
からすると shared memory が足りない雰囲気？こちらの Solaris では、
/etc/system にこんな値を設定しています。

set shmsys:shminfo_shmmax=30000000
set shmsys:shminfo_shmmni=400
set shmsys:shminfo_shmseg=15
set semsys:seminfo_semmns=200
set semsys:seminfo_semmni=100
set msgsys:msginfo_msgmni=100
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00129" HREF="msg00129.html">[pgsql-jp 2556] Re: regression test failed</A></STRONG>
<UL><LI><EM>From:</EM> tamaoki@manage.kanazawa-it.ac.jp (Nobuyuki Tamaoki)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00131.html">[pgsql-jp 2558] ML policy</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00133.html">[pgsql-jp 2560] Re: regression test failed</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00129.html">[pgsql-jp 2556] Re: regression test failed</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00112.html">[pgsql-jp 2539] Re: regression test failed</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00132"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00132"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
