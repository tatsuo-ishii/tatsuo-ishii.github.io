<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 14836] RE: [pgsql&#45;jp 14821] Re: Pe£ò£ì¤Ç¤Î¥·¡¼¥±¥ó¥¹¤Î¼èÆÀ¤¬¤Ç¤­¤Þ¤»¤ó¡£ -->
<!--X-From: "¾®»³ ½¡°ìÏº" <s&#45;koyama@par.odn.ne.jp> -->
<!--X-Date: Sun, 28 May 2000 12:12:35 &#45;1000 -->
<!--X-Message-Id: 20000528050500390.KWDJ.920.t&#45;mta1.odn.ne.jp@mta1.odn.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 14836] RE: [pgsql-jp 14821] Re: Pe£ò£ì¤Ç¤Î¥·¡¼¥±¥ó¥¹¤Î¼èÆÀ¤¬¤Ç </TITLE>
<LINK REV="made" HREF="mailto:s-koyama@par.odn.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00564.html">Date Prev</A>][<A HREF="msg00565.html">Date Next</A>][<A HREF="msg00574.html">Thread Prev</A>][<A HREF="msg00561.html">Thread Next</A>][<A HREF="index.html#00547">Date Index</A>][<A HREF="threads.html#00547">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 14836] RE: [pgsql-jp 14821] Re: Pe£ò£ì¤Ç¤Î¥·¡¼¥±¥ó¥¹¤Î¼èÆÀ¤¬¤Ç¤­¤Þ¤»¤ó¡£</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "¾®»³ ½¡°ìÏº" &lt;<A HREF="mailto:s-koyama@par.odn.ne.jp">s-koyama@par.odn.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Sun, 28 May 2000 12:12:35 -1000</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
¾®»³¤Ç¤¹¡£
²ò·è¤·¤Þ¤·¤¿¡£
Îã£±¤òºÎÍÑ¤·¤Þ¤·¤¿¡£
ML¤Î¥Ð¥Ã¥¯¥Ê¥ó¥Ð¡¼¡Ê²¼µ­¡Ë¤ËSELECT¤¬È´¤±¤Æ¤¤¤¿¤À¤±¤Ç¤·¤¿¡£
¢¡»öÁ°¼èÆÀ
$newSerialID = nextval('person_id_seq');
INSERT INTO person (id, name) VALUES ($newSerialID, 'Blaise Pascal');

¤¤¤ï¤­¤ê¤µ¤ó½õ¤«¤ê¤Þ¤·¤¿¡£
ËÜÅö¤Ë¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Þ¤·¤¿¡£
----------
&gt; º¹½Ð¿Í : Youichi Iwakiri &lt;iwakiri@jkk.hitachi.co.jp&gt;
&gt; °¸Àè : pgsql-jp@sra.co.jp
&gt; ·ïÌ¾ : [pgsql-jp 14821] Re: Pe£ò£ì¤Ç¤Î¥·¡¼¥±¥ó¥¹¤Î¼èÆÀ¤¬¤Ç¤­¤Þ¤»¤ó¡£
&gt; Á÷¿®Æü»þ : 2000Ç¯5·î26Æü 18:55
&gt; 
&gt; ¤¤¤ï¤­¤ê¤Ç¤¹¡£
&gt; 
&gt; ¾®»³
½¡°ìÏº¤µ¤ó¤Î&lt;<A HREF="msg00530.html">20000527025407769.IVLX.920.t-mta1.odn.ne.jp@mta1.odn.ne.jp</A>&gt;¤«
¤é
&gt; &gt;¥·¥ê¥¢¥ë·¿¤Î¾ì¹ç¤Î¥·¡¼¥±¥ó¥¹¤¬¼èÆÀ¤Ç¤­¤Þ¤»¤ó¡£
&gt; &gt;Perl¤Ç¤Îµ­½ÒÊýË¡¤ò¤É¤Ê¤¿¤«¶µ¤¨¤Æ¤¯¤À¤µ¤¤¡£
&gt; &gt;´Ø¿ô¤Î»ÈÍÑÊýË¡¤¬Ê¬¤«¤ê¤Þ¤»¤ó¡£
&gt; 
&gt; Perl¤È°ì¸À¤Ç¸À¤ï¤ì¤Æ¤âº¤¤ê¤Þ¤¹¡£
&gt; Pg¤ò»È¤¦¤Î¤«¡¢DBI
DBD¤ò»È¤¦¤Î¤«Â¾¤Ë¤â¥â¥¸¥å¡¼¥ë¤¬¤¢¤ê¤Þ¤¹¤¬¤É¤ì¤Ç¤·¤ç¤¦¤«?
&gt; 
&gt; &gt;
&gt; &gt;¢¡»öÁ°¼èÆÀ		
&gt; &gt;$newSerialID = nextval('person_id_seq');
&gt; &gt;INSERT INTO person (id, name) VALUES ($newSerialID, 'Blaise Pascal');
&gt; 
&gt; 
&gt; ¤È¤ê¤¢¤¨¤ºPg¤ò»È¤¦¤³¤È¤òÁ°Äó¤È¤·¤Æ
&gt; ¤³¤ó¤Ê´¶¤¸¤ÇÆ°¤¯¤Ï¤º
&gt; -- Îã1 (¼èÆÀ¤·¤¿sequence¤ò²¿ÅÙ¤â»È¤¦¾ì¹ç)
&gt;     #!/usr/local/bin/perl -w
&gt;     
&gt;     use Pg;
&gt; 
&gt;     ## 
&gt;     $MY_DATABESE  = "sample_db";           # ÀÜÂ³¤¹¤ëDBÌ¾
&gt;     $MY_TABLE     = "person";
&gt;     $MY_SEQ_TABLE = "person_id_seq";
&gt; 
&gt;     $conn = Pg::connectdb("dbname=$MY_DATABASE");
&gt;     die $conn-&gt;errorMessage unless PGRES_CONNECTION_OK eq $conn-&gt;status;
&gt;     $query_result = $conn-&gt;exec("SELECT nextval('$MY_SEQ_TABLE')");
&gt;     $newSerialID = $query_result-&gt;getvalue(0,0);
&gt; 
&gt;     $query_result = $conn-&gt;exec("INSERT INTO $MY_TABLE (id, name) VALUES
($newSerialID, 'Blaise Pascal')");
&gt; 
&gt; -- Îã2
(Ã±¤Ëperson(id)¤ò¥æ¥Ë¡¼¥¯¤Ë¤·¤¿¤¤¤À¤±¤Ç¤½¤Î¥¹¥¯¥ê¥×¥ÈÆâ¤ÇºÆÍøÍÑ¤·¤Ê¤¤¾ì¹ç)
&gt;     #!/usr/local/bin/perl -w
&gt;     
&gt;     use Pg;
&gt; 
&gt;     ## 
&gt;     $MY_DATABESE  = "sample_db";           # ÀÜÂ³¤¹¤ëDBÌ¾
&gt;     $MY_TABLE     = "person";
&gt;     $MY_SEQ_TABLE = "person_id_seq";
&gt; 
&gt;     $conn = Pg::connectdb("dbname=$MY_DATABASE");
&gt;     die $conn-&gt;errorMessage unless PGRES_CONNECTION_OK eq $conn-&gt;status;
&gt;     $query_result = $conn-&gt;exec("INSERT INTO $MY_TABLE (id, name) VALUES
(nextval('$MY_SEQ_TABLE'), 'Blaise Pascal')");
&gt; 
&gt; 
&gt; &gt;¢¡»ö¸å¼èÆÀ
&gt; &gt;INSERT INTO person (name) VALUES ('Blaise Pascal');
&gt; &gt;$newID = currval('person_id_seq');
&gt; &gt;»ö¸å¼èÆÀ¤òºÎÍÑ¤·¤¿¤¤¤Î¤Ç¤¹¤¬¡£
&gt; 
&gt; Îã1¤Î±þÍÑ¤Ç´èÄ¥¤Ã¤Æ²¼¤µ¤¤¡£
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00564.html">[pgsql-jp 14853] Re: Access¤«¤é¤Îselect count¤À¤±¤¬ODBC¥¨¥é¡¼</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00565.html">[pgsql-jp 14854] create rule¤ÇÊ£¿ô¤Îaction¤ò»ØÄê¤·¤¿¤¤¤Î(=?ISO-2022-JP?B?Sg==?= ¤Ç¤¹¤¬¡£</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00574.html">[pgsql-jp 14863] Re: selectÊ¸»ú¡¢¿ô»ú¹àÌÜ¤ÎOR¾ò·ï¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00561.html">[pgsql-jp 14850] RE: [pgsql-jp 14846] Re: apache¤Î¼«Æ°µ¯Æ°¥¹¥¯¥ê¥×¥È¥Õ¥¡¥¤¥ë</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00547"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00547"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
