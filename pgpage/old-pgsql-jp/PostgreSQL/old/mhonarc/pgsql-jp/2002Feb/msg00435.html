<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp: 25022] FOREIGN KEY CONSTRAINTS -->
<!--X-From: Fumio KITAGAWA <kitagawa@peach.mis.ous.ac.jp> -->
<!--X-Date: Thu, 28 Feb 2002 18:17:00 +0900 -->
<!--X-Message-Id: 200202280917.g1S9H0H06470@peach.mis.ous.ac.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp: 25022] FOREIGN KEY CONSTRAINTS </TITLE>
<LINK REV="made" HREF="mailto:kitagawa@peach.mis.ous.ac.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00434.html">Date Prev</A>][<A HREF="msg00436.html">Date Next</A>][Thread Prev][<A HREF="msg00432.html">Thread Next</A>][<A HREF="index.html#00435">Date Index</A>][<A HREF="threads.html#00435">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp: 25022] FOREIGN KEY CONSTRAINTS</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Fumio KITAGAWA &lt;<A HREF="mailto:kitagawa@peach.mis.ous.ac.jp">kitagawa@peach.mis.ous.ac.jp</A>&gt;</LI>
<LI><em>Date</em>: Thu, 28 Feb 2002 18:17:00 +0900</LI>
<LI><em>Delivered-To</em>: pgsql-jp@ml.postgresql.jp</LI>
<LI><em>List-Archive</em>: &lt;http://ml.postgresql.jp/pipermail/pgsql-jp/&gt;</LI>
<LI><em>List-Help</em>: &lt;mailto:pgsql-jp-request@ml.postgresql.jp?subject=help&gt;</LI>
<LI><em>List-Id</em>: &lt;pgsql-jp.ml.postgresql.jp&gt;</LI>
<LI><em>List-Post</em>: &lt;mailto:pgsql-jp@ml.postgresql.jp&gt;</LI>
<LI><em>List-Subscribe</em>: &lt;http://ml.postgresql.jp/mailman/listinfo/pgsql-jp&gt;,&lt;mailto:pgsql-jp-request@ml.postgresql.jp?subject=subscribe&gt;</LI>
<LI><em>List-Unsubscribe</em>: &lt;http://ml.postgresql.jp/mailman/listinfo/pgsql-jp&gt;,&lt;mailto:pgsql-jp-request@ml.postgresql.jp?subject=unsubscribe&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
北川＠岡山理科大学です。

FOREIGN KEY に関してPostgreSQL7.2で仕様の変更に気づいたので
報告します。
（SQLの規格に忠実にバグフィックスしたと思われます。）

外部キーは通常、参照したいテーブルの主キーか候補キーを
参照するのが関係データベースの仕様と理解しています。
SQLでは候補キーを明示的に示すキーワードはありませんが、
意味的には PRIMARY KEY 以外には UNIQUE属性を付けることで
このことを表現できます。

PostgreSQL7.02の外部キー制約では、これらの制約の無い
フィールドも外部キーの参照先として許されていました。
このたび、7.2を入れて確認したところPRIMARY KEYか
UNIQUE属性が無いフィールドを参照したときにエラーメッセージが
出力されるようになっています。
ただし、table not found というようなメッセージでテーブルが
ないと表示されます。
このことで学生が悩んでいたのでUNIQUE属性をつけてテーブルを
作り直させたところ、無事に外部キー参照をしたテーブルを定義
できました。

＃HISTORYに記述が見当たらないので報告いたしました。
＃当然のバグフィックスですが、学生がちょっとハマっていたようなので
あえて報告いたしました。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00434.html">[pgsql-jp: 25021] Re: 翻訳状況を比較するSQL</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00436.html">[pgsql-jp: 25023] Re: 配列を含んだテーブルにUNIONするとエラーになる現象について</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00432.html">[pgsql-jp: 25019] 配列を含んだテーブルにUNIONするとエラーになる現象について</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00435"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00435"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
