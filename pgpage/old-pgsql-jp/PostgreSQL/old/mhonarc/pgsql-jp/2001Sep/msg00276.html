<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 23236] 運用性能の見積り -->
<!--X-From: HAYAKAWA Hiroshi <hayakawa@sam.hi&#45;ho.ne.jp> -->
<!--X-Date: Sat, 29 Sep 2001 00:57:42 +0900 -->
<!--X-Message-Id: B7DACD06.5917%hayakawa@sam.hi&#45;ho.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 23236] 運用性能の見積り </TITLE>
<LINK REV="made" HREF="mailto:hayakawa@sam.hi-ho.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00275.html">Date Prev</A>][<A HREF="msg00277.html">Date Next</A>][<A HREF="msg00281.html">Thread Prev</A>][<A HREF="msg00279.html">Thread Next</A>][<A HREF="index.html#00276">Date Index</A>][<A HREF="threads.html#00276">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 23236] 運用性能の見積り</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: HAYAKAWA Hiroshi &lt;<A HREF="mailto:hayakawa@sam.hi-ho.ne.jp">hayakawa@sam.hi-ho.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Sat, 29 Sep 2001 00:57:42 +0900</LI>
<LI><em>User-Agent</em>: Microsoft-Outlook-Express-Macintosh-Edition/5.02.2106</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
早川と申します。

PostgreSQLで作成しているDBが
どの程度の運用状況まで耐え得るかを見積もりたいと思っています。
Webアプリケーションのバックエンドとして利用します。

ご存じの方がいらっしゃったら教えていただきたいのは、
・データ量の妥当な計算方法
・どういう段階でどういう対応をすればよいか
です。

 * * *

仕様的な制限は、FAQに以下のように書かれています。
<A HREF="http://www.linux.or.jp/JF/JFdocs/PostgreSQL-FAQ.html">http://www.linux.or.jp/JF/JFdocs/PostgreSQL-FAQ.html</A>

データベースの最大サイズ?       制限無し (60GB のデータベースも存在します)
テーブルの最大サイズ?           16TB
行の最大サイズ?                 7.1以降で制限無し
フィールドの最大サイズ?         7.1以降で1GB
テーブル内での最大ロウ数?       制限無し
テーブル内での最大カラム数?     カラムの型により250-1600
テーブル内での最大インデクス数? 制限無し

ただし、そのFAQにも
「これらは実際は無制限ではなく、ディスク容量とメモリーやスワップスペー
スの大きさにより制限されます」
と書かれています。

DBそのものに関して運用前に確定的にわかるのは、
・データベース中のテーブル数（50程度）
・各テーブルの１レコードあたりのサイズ（大まかな計算方法があれば...）
の２つ、
・各テーブルのレコード数の見積り
もいくつかの条件を仮定して、
例えば「ユーザー数」などのように
全体の変動を司るデータがいくつかあると思いますので、
それらを変数化して検討しようと思っています。
あと、アクセス数も考慮する必要がありますね。

こうした計算を行ないながら、
どの程度のサイズになったらどういう対応をすればよいか、例えば
ディスクやメモリの増設、
ネットワーク回線環境の強化、
データベースを分散化しての再設計、
PostgreSQLからOracleやSyBaseなどへの移行、
などの対応の時期を一応見積もっておきたいのです。
システムの再設計などのレベルになると対応に時間がかかりますから。

URLのご紹介などでも構いませんので、
何か参考にできる情報があると助かります。
ご存じの方がおられましたらよろしくおねがいします。

 * * *

P.S.

「PostgreSQL 性能比較」とかで検索してもあまり情報がないのですが、
その中に
「60,000 テーブル、約 5,000,000,000 レコードを MySQL を使用している
ユーザを知っています」
といった記述をみかけました。

テーブル数が6万とはすごい量だと思うんですが、
レコード数が50億というのは100万人規模のサービスであれば
全然あり得ない話ではないように思います。


-----
&gt;&gt;&gt;  With your dreaming,           ☆彡  Hayakawa,Hiroshi          &lt;&lt;&lt;
&gt;&gt;&gt;          with your smile.    ☆彡    hayakawa@sam.hi-ho.ne.jp  &lt;&lt;&lt;
&gt;&gt;&gt;                            ☆彡      Nagoya,Aichi,JAPAN        &lt;&lt;&lt;
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00279" HREF="msg00279.html">[pgsql-jp 23239] Re: 運用性能の見積り</A></STRONG>
<UL><LI><EM>From:</EM> naoki kishida &lt;kishida@fk.urban.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00275.html">[pgsql-jp 23235] Re: ORDER BY カタカナの不具合？</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00277.html">[pgsql-jp 23237] Re: ORDER BY カタカナの不具合？</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00281.html">[pgsql-jp 23246] 過去記事検索( was Re: 23240Re: ORDER BY カタカナの不具合？)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00279.html">[pgsql-jp 23239] Re: 運用性能の見積り</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00276"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00276"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
