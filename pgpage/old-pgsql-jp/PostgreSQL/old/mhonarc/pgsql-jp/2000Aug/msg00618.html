<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 17011] 完全なバックアップへのステップをいっしょに考えて下さい -->
<!--X-From: "Yoshio Tokuda"<actords@zaqcad093b4.zaq.ne.jp> -->
<!--X-Date: Fri, 25 Aug 2000 11:10:31 +0900 (JST) -->
<!--X-Message-Id: 20000825111031.14615159@localhost -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 17011] 完全なバックアップへのステップをいっしょに考えて下さい </TITLE>
<LINK REV="made" HREF="mailto:actords@zaqcad093b4.zaq.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00617.html">Date Prev</A>][<A HREF="msg00619.html">Date Next</A>][<A HREF="msg00620.html">Thread Prev</A>][<A HREF="msg00621.html">Thread Next</A>][<A HREF="index.html#00618">Date Index</A>][<A HREF="threads.html#00618">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 17011] 完全なバックアップへのステップをいっしょに考えて下さい</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "Yoshio Tokuda"&lt;<A HREF="mailto:actords@zaqcad093b4.zaq.ne.jp">actords@zaqcad093b4.zaq.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 25 Aug 2000 11:10:31 +0900 (JST)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
徳田と申します。いつもお世話になっております。

バックアップ(ここではPostgreSQLに限定して)についての疑問が
あります。
postmaster(postgres)がノンストップ稼動中のバックアップを
想定します。バックアップ作業に十分なアクセスがない時間が
ないことも想定します。
PostgreSQL が WWWサーバーに常時接続されている環境だと
想定します。
「メンテナンスのご案内」などでシステムを停止する案内を
行うこともしないと想定します。WWWやし・・・・
ですから、postmaster は動作し続けているシステムであり、
バックアップ中 INSERT / DELETE / UPDATE がありえると考えたとき、
将来のトラブルにより、PostgreSQL の惨事復旧を可能な限り
完全にするための、日常的な不断のバックアップを考えています。

そこで、今まではコンピューター全体への、find -newer (touch)と
 afio(tarでもdumpでもcpioでもいいですが)での
全/差分バックアップしか行っていませんが、
バックアップ中にもころころとPostgreSQLのデーターが
更新されつづけていることを考えると、惨事復旧を、
例え、全てのバックアップ情報を時系列順に復元しても、正常
動作の保証はないなと考えるわけです（虫は今ごろ気付きます）

そこで、pg_dumpall -o と pg_dumpall を crontab などで
同時自動起動し、それぞれの pg_dump が正常終了した場合に、
前述の afio などによるバックアップを実行させれば、惨事復旧時に
COPYにより PostgreSQL の正常さを保証した復旧が可能だなと
考えておりますが、ま「抜け」な点はありませんでしょうか？

みなさまのところでは、どのようにPostgreSQLに係わる惨事復旧の
対策をされておられるのでしょうか？　もっと上手なうまい手が
あるのでしょうか。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00621" HREF="msg00621.html">[pgsql-jp 17014] Re: 完全なバックアップへのステップをいっしょに考えて下さい</A></STRONG>
<UL><LI><EM>From:</EM> Yoshio Oki &lt;oki@ctsinc.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00617.html">[pgsql-jp 17010] Re: pg_dump -oで生成されるOIDに関するプリセット番号の検査と修正の仕方を教えてください</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00619.html">[pgsql-jp 17012] Re: テーブル設計</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00620.html">[pgsql-jp 17013] (No Subject in original)</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00621.html">[pgsql-jp 17014] Re: 完全なバックアップへのステップをいっしょに考えて下さい</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00618"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00618"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
