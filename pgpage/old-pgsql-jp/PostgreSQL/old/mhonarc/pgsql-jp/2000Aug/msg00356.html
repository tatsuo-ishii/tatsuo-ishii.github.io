<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 16742] Fwd: [pgsql&#45;jp 16730] select ¤â pg_dump ¤â½ÐÍè¤Ê¤¤»öÂÖ¤«¤é¤Î¥ê¥«¥Ð¥ê¡¼ÊýË¡¤Ï¤¢¤ê¤Þ¤»¤ó¤« -->
<!--X-From: "Yoshio Tokuda"<actords@zaqcad091da.zaq.ne.jp> -->
<!--X-Date: Fri, 18 Aug 2000 02:10:02 +0900 (JST) -->
<!--X-Message-Id: 20000818021002.6ED5421@zaqcad091da.zaq.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 20000817203401.1728095@zaqcad091da.zaq.ne.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 16742] Fwd: [pgsql-jp 16730] select ¤â pg_dump ¤â½ÐÍè¤Ê¤¤»öÂÖ¤ </TITLE>
<LINK REV="made" HREF="mailto:actords@zaqcad091da.zaq.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00355.html">Date Prev</A>][<A HREF="msg00357.html">Date Next</A>][<A HREF="msg00344.html">Thread Prev</A>][<A HREF="msg00339.html">Thread Next</A>][<A HREF="index.html#00356">Date Index</A>][<A HREF="threads.html#00356">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 16742] Fwd: [pgsql-jp 16730] select ¤â pg_dump ¤â½ÐÍè¤Ê¤¤»öÂÖ¤«¤é¤Î¥ê¥«¥Ð¥ê¡¼ÊýË¡¤Ï¤¢¤ê¤Þ¤»¤ó¤«</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "Yoshio Tokuda"&lt;<A HREF="mailto:actords@zaqcad091da.zaq.ne.jp">actords@zaqcad091da.zaq.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 18 Aug 2000 02:10:02 +0900 (JST)</LI>
<LI><em>Organization</em>: Merry Machanization Japan Corp.</LI>
<LI><em>References</em>: &lt;<A HREF="msg00344.html">20000817203401.1728095@zaqcad091da.zaq.ne.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
¼«¸Ê¥ì¥¹¤Ç¤¹¤¬º¤¤Ã¤¿¤³¤È¤Ë¥¨¥é¡¼¤òµ¯¤³¤·¤¿
table¤ò alter table ¤Ç¥ê¥Í¡¼¥à¤Ï½ÐÍè¤ë¤Î¤Ç¤¹¤¬
²¿¤È drop table ¤¬¤Ç¤­¤Þ¤»¤ó¡£
¤â¤Á¤í¤ó postgreSQL ¤Î¥¹¡¼¥Ñ¡¼¥æ¡¼¥¶¡¼¤Ç¤â
ÉÔ²ÄÇ½¤È¤Ê¤Ã¤Æ¤¤¤Þ¤¹¡£
ºÇ°­¤Ï destroydb ¤·¤ÆºÆÅÙ createdb ¤¹¤ë¤·¤«
¤Ê¤¤¤Ê¤È¹Í¤¨¤Æ¤ª¤ê¤Þ¤¹¤¬¡¢pg_dump ½ÐÍè¤Ê¤¤º£
¼ê¤¬½Ð¤»¤Ê¤¤¾õ¶·¤Ç¤¹¡£

¤È¤³¤í¤Ç¡¢PostgreSQL ¤òÍøÍÑ¤¹¤ë¤Ë¤¢¤¿¤ê
²¿¤«¼«Ê¬¤ÎÉÔÈ÷¤ÇË½Áö¤·¤¿²ÄÇ½À­¤¬Ìµ¤¤¤«¤ò
¹Í¤¨¤Æ¤ª¤ê¡¢°Ê²¼¤Î¤è¤¦¤ÊÍøÍÑ¤ò¹Ô¤Ã¤Æ¤·¤Þ¤Ã¤Æ¤ª¤ê¤Þ¤¹¡£

create table information (
 no_ serial,
 mode_ char(1),
 date_ datetime,
 title_ text,
 message_ text
);

¤Ê¤ëDB¤ËÂÐ¤·¤Æ¡¢Åö½é¤Ï Field no_ ¤Ë¤Ä¤¤¤Æ
insert ¤â update ¤â¤·¤Æ¤¤¤Þ¤»¤ó¤Ç¤·¤¿¤¬¡¢
¤É¤¦¤·¤Æ¤âÊÑ¹¹¤·¤¿¤¤´õË¾¤Ë¤è¤ê¡¢serial
sequence ¤Î¤Þ¤Þ¡¢insert ¤ä update ¤Ç¡¢¤³¤Î
Field no_ ¤Î¿ôÃÍ¤òÊÑ¹¹¤·¤Æ¤ª¤ê¤Þ¤·¤¿¡£
¤³¤Î¤è¤¦¤Ê¤³¤È¤ò¹Ô¤Ã¤¿¤«¤é°Û¾ï»öÂÖ¤È¤Ê¤Ã¤¿¤Î¤«¤Ê¤È
ÁÛÁü¤·¤Æ¤ª¤ê¤Þ¤¹¡£

serial ¤Ç¤Ï¤Ê¤¯¡¢unique ¤Ë¤·¤è¤¦¤È»×¤¤¤Þ¤¹
²¿¤À¤«Ã¦Àþ¤·¤Æ¤¤¤ë¤Ç¤·¤ç¤¦¤«¡©

&gt;postgresSQL+PHP¤Ë¾¯¤·¤Å¤Ä´·¤ì¤ÆÍè¤¿¤«¤Ê¤È
&gt;´¶¤¸¤ë½é¿´¼Ô¤Ç¤¹¤¬¡¢¤½¤ó¤Ê¶ÛÄ¥´¶¤Î¤Ê¤¤Æü¡¹¤Ë
&gt;ÆÍÁ³¤Î¡Ö»ö¸Î(?)¡×¤¬È¯À¸¤·¤Þ¤·¤¿¡£
&gt;Æ±¤¸¥¨¥é¡¼(?)¤ò·Ð¸³¤·¡¢²óÈò¤Ç¤­¤¿Êý
&gt;¤ª¤é¤ì¤Þ¤·¤¿¤é¡¢ÀäÂÐ¤·¤Æ¤Ï¹Ô¤±¤Ê¤¤¹ÔÆ°¤È¡¢¡¦¡¦¡¦
&gt;¥Ù¥¿¡¼¤Ê¡¢²óÈòºö¤ò¤ª¶µ¤¨´ê¤¤¤Þ¤¹¡£
&gt;²¿¤È¤«DB¤òÉü¸µ¤·¤¿¤¤¤È´ê¤Ã¤Æ¤ª¤ê¤Þ¤¹¡£
&gt;¤ß¤Ê¤µ¤ó¤ªË»¤·¤¤¤È¤ÏÂ¸¤¸¾å¤²¤Þ¤¹¤¬¡¢
&gt;½õ¤±¤Æ¤¯¤À¤µ¤¤¡£
&gt;
&gt;Linux 2.0.36
&gt;PostgreSQL : 6.5.2
&gt; Compiled by gcc 2.7.2.3
&gt;PHP : 3.0.15-i18n-ja
&gt;¤ÇÍøÍÑÃæ¤Ç¤¹¡£¤â¤Ã¤ÈÉ¬Í×¤Ç¤¢¤ì¤Ð
&gt;¤É¤¦¤¾¡¢¤´»ØÅ¦´ê¤¤¤Þ¤¹¡£
&gt;
&gt;¡Ú¥È¥é¥Ö¥ëÁ°¡Û
&gt;¥Í¥Ã¥È¥¹¥±¡¼¥×¤Ê¤É¥Ö¥é¥¦¥¶¡¼¤ÇPHP¥¹¥¯¥ê¥×¥È¤òApache WWW
&gt;¥µ¡¼¥Ð¡¼·ÐÍ³¤Ç¥¤¥ó¥¿¡¼¥Í¥Ã¥ÈÀÜÂ³¤·¡¢´û¤Ë±¿ÍÑÃæ¤ÎPostgreSQL¤Î
&gt;¥Æ¡¼¥Ö¥ë¤ËÅÐÏ¿¤µ¤ì¤Æ¤¤¤ë¾ðÊó(Ê¸»ú)¤ò select ¤·¡¢HTTP¤Î
&gt;¥Õ¥©¡¼¥àµ¡Ç½¤Ç¾ðÊó¤ò¥Ö¥é¥¦¥¶¡¼¾å¤ÇÉ½¼¨¤·¡¢ÊÔ½¸¤·¡¢
&gt;PHP¥¹¥¯¥ê¥×¥È¤ËPOSTÁ÷¿®¤·¤Æ¡¢ÊÔ½¸¤µ¤ì¤¿¾ðÊó¤ò update
&gt;¤µ¤»¤ë¤â¤Î¤Ç¤¹¡£¾ðÊó¤ÏÊ¸»ú¾ðÊó(´Á»ú)¤Ç¤¹¡£
&gt;²áµî¤Ë´Á»ú¥³¡¼¥É¥¨¥é¡¼¤ä¡¢Apache¤â¡¢PHP¤â¥¨¥é¡¼¤Î
&gt;·Ð¸³¤Ï¤¢¤ê¤Þ¤»¤ó¤Ç¤·¤¿¡£
&gt;
&gt;¡Ú¥È¥é¥Ö¥ë¡Û
&gt;£±¡¥¤¤¤Ä¤â¤Î¤è¤¦¤ËÊ¸»ú¾ðÊó¤òÊÔ½¸¤·¤¿
&gt;£²¡¥HTTP¤Î submit ½èÍý¤ò¹Ô¤Ã¤ÆPHP·ÐÍ³¤Ç
&gt;¡¡¡¡update ¤ò¼Â¹Ô¤µ¤»¤ë
&gt;£³¡¥²¿ÅÙ¤« pg_exec ¤ò¼ºÇÔ¤·¤¿
&gt;¡¡¡¡¤¤¤ï¤æ¤ë pg_exec ¤ÎÌá¤êÊÑ¿ô¥¨¥é¡¼½èÍý¤Ç
&gt;¡¡¡¡¥Ö¥é¥¦¥¶¡¼¤Ë update ¼Â¹Ô¥¨¥é¡¼¤ÎÄÌÃÎ¤Î¤ß¤¬¤¢¤ê
&gt;¡¡¡¡¡÷Ê¸»ú¤Ç pg_exec ¤«¤é¤ÎÊÖÅú¤ò¥Þ¥¹¥¯¤·¤Æ¤¤¤Þ¤·¤¿¡£
&gt;¡¡¡¡¤Ã¤È¸À¤¦¤Î¤âº£¤Þ¤ÇÆÃ¤Ë¥¨¥é¡¼¤¬¤Ê¤«¤Ã¤¿¤«¤é¤Ç¤¹¡£
&gt;£´¡¥¤³¤³¤Ç¤¢¤µ¤Ï¤«¤À¤Ã¤¿¤Î¤«¡¦¡¦¡¦Field¤ÎType¤¬text¤Ç¤¢¤ë
&gt;¡¡¡¡¥Õ¥£¡¼¥ë¥É¤Ø¤ÎÊ¸»ú¿ô¤¬Â¿¤¤¤³¤È¤Ë¤è¤ë¥¨¥é¡¼¤Ç¤¢¤ë¤È¡¢
&gt;¡¡¡¡Ä¾´¶¤ÇÃÇÄê¤·¤Þ¤·¤¿
&gt;£µ¡¥¤³¤Î text ¤Î Field ¤Ø¤ÎÊ¸»ú¿ô¤ò¸º¤é¤¹¤Ê¤É¤·¤Æ¡¢
&gt;¡¡¡¡ºÆ»°¡¢FormÁ÷¿®¤ò·«¤êÊÖ¤·¡¢¥¨¥é¡¼¤Ë¤Ê¤é¤Ê¤¤Ê¸¾Ï¤Î
&gt;¡¡¡¡Ä¹¤µ¤Ø¡¢Ê¸¾Ï¤ò¿ä¹Í¤¹¤ëºî¶È¤ò£µ¡¢£¶²ó·«¤êÊÖ¤·¤Æ
&gt;¡¡¡¡FormÁ÷¿®¤Ë¤è¤ë PostgreSQL¤Î update ¤ò¼Â¹Ô¤·¤Æ¤ª¤ê¤Þ¤·¤¿
&gt;£¶¡¥ºÇ¸å¤Ë¤Ï¥Ö¥é¥¦¥¶¡¼¤¬¥í¥Ã¥¯¤·¤Æ¤·¤Þ¤Ã¤¿¡£
&gt;¡¡¡Ê¥Í¥¹¥±¤Î±¦¾å¤Î£ÎÊ¸»ú¤Ø¤Î×ÂÀ±¤¬¹ß¤êÃí¤°¾õÂÖ¡Ë
&gt;¡¡¡¡¥¹¥È¥Ã¥×¤µ¤»¡¢Â¾¤ÎURL¤ØÀÜÂ³¸å¡¢ÌäÂê¤ÎPHP¤Ø¤ÎURL¤ò
&gt;¡¡¡¡µ¯Æ°¤¹¤ë¤¬¡¢select ¤â½ÐÍè¤Ê¤¤¤Î¤«¥Ö¥é¥¦¥¶¡¼¤¬½èÍý¤ò
&gt;¡¡¡¡½ªÎ»¤·¤Ê¤¤
&gt;£·¡¥¤³¤³¤ÇPostgreSQL¤¬²ÔÆ°Ãæ¤ÎLinuxµ¡¤ÇPostgreSQL¤Î¥¹¡¼¥Ñ¡¼
&gt;¡¡¡¡¥æ¡¼¥¶¡¼¤È¤Ê¤Ã¤Æ³ÎÇ§¤¹¤ë
&gt;£¸¡¥psql ¤Ç¤ÎDBÀÜÂ³²ÄÇ½
&gt;£¹¡¥¡ï£ì¤Ç¤ÎÉ½¼¨²ÄÇ½
&gt;£±£°¡¥ÌäÂê¤òµ¯¤³¤·¤¿¥Æ¡¼¥Ö¥ë¤Î select ¼Â¹Ô»þ¤Ë¥¨¥é¡¼
&gt;kaiin=&gt; select * from information;
&gt;Backend message type 0x44 arrived while idle
&gt;Backend message type 0x44 arrived while idle
&gt;We have lost the connection to the backend, so further processing is impossible.
&gt;  Terminating.
&gt;
&gt;£±£±¡¥ºÆÅÙ psql¤Ç£ä£â¤ËÀÜÂ³¤·¡ï£ä¤ÇÌäÂê¤Î¥Æ¡¼¥Ö¥ë¤ÎField¤ò
&gt;¡¡¡¡É½¼¨²ÄÇ½
&gt;£±£²¡¥¤â¤¦°ìÅÙ select ¤ò£±¤Ä¤ÎField»ØÄê¤Ç¼Â¹Ô¤¹¤ë¤¬¡¢
&gt;¡¡¡¡º£ÅÙ¤Ï£±Ê¬¤Û¤ÉÂÔ¤Ä¤¬²¿¤â±þÅúÉ½¼¨¤Ê¤·¡£
&gt;¡¡¡¡¤è¤Ã¤ÆCtrl+C¤Ç¥­¥ã¥ó¥»¥ë
&gt;CANCEL request sent
&gt;ERROR:  Query was cancelled
&gt;
&gt;£±£³¡¥¤³¤ì¤Ï¤¤¤«¤ó¤È¹Í¤¨¡¢pg_dump¤ò¼Â¹Ô¤¹¤ë¤¬
&gt;
&gt;$ pg_dump dbname &gt; dbname.out
&gt;FATAL 1: Memory exhausted in AllocSetAlloc()
&gt;PQendcopy: resetting connection
&gt;SQL query to dump the contents of Table 'information' did not execute correctly.
&gt;  After we read all the table contents from the backend. PQendcopy() failed.  
&gt;Explanation from backend: ''.
&gt;The query was: 'COPY' "information" TO stdout:
&gt;
&gt;¡¡¡¡¤Ê¤É¤ÈÉ½¼¨¤µ¤ì¤Æ¤·¤Þ¤Ã¤¿¤È¤³¤í¤Ç¡¢¤³¤Î¥á¡¼¥ë¤ò½ñ¤­¹þ¤ó¤Ç¤ª¤ê¤Þ¤¹
&gt;
&gt;ËÁÆ¬¤Ë¤â½ñ¤­¤Þ¤·¤¿¤¬¡¢²¿¤È¤«Éüµì¤Ç¤­¤Ê¤¤¤â¤Î¤Ç¤·¤ç¤¦¤«¡©
&gt;ËÜÅö¤Ê¤é¤Ð¡Ö¼«Ê¬¤Ç²ò·è¤¹¤ë¤Ù¤­¡×¤Ê¤Î¤«¤â¤·¤ì¤Þ¤»¤ó¤¬¡¢
&gt;¤³¤ì°Ê¾å¤ÎÁÇ¿ÍÈ½ÃÇ¤Ç¡Ö¾ðÊó¤ò°ä¼º¡×¤·¤Æ¤·¤Þ¤¦¤È
&gt;ÂçÊÑ¤ÊÂ»¼º¤È¤Ê¤Ã¤Æ¤·¤Þ¤¦¤È¹Í¤¨¡¢ÁêÃÌ¤Ë¤ä¤Ã¤ÆÍè¤Þ¤·¤¿¡£
&gt;µ¹¤·¤¯¤ª´ê¤¤Ã×¤·¤Þ¤¹¡£

_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
     Yoshio Tokuda
_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00344" HREF="msg00344.html">[pgsql-jp 16730] select ¤â pg_dump ¤â½ÐÍè¤Ê¤¤»öÂÖ¤«¤é¤Î¥ê¥«¥Ð¥ê¡¼ÊýË¡¤Ï¤¢¤ê¤Þ¤»¤ó¤«</A></STRONG>
<UL><LI><EM>From:</EM> "Yoshio Tokuda"&lt;actords@zaqcad091da.zaq.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00355.html">[pgsql-jp 16741] Re: Group by ¤ò»È¤Ã¤¿Ê¿¶ÑÃÍ¤È½ç°Ì¤Î½Ð¤·Êý</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00357.html">[pgsql-jp 16743] Re: Group by ¤ò»È¤Ã¤¿Ê¿¶ÑÃÍ¤È½ç°Ì¤Î½Ð¤·Êý</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00344.html">[pgsql-jp 16730] select ¤â pg_dump ¤â½ÐÍè¤Ê¤¤»öÂÖ¤«¤é¤Î¥ê¥«¥Ð¥ê¡¼ÊýË¡¤Ï¤¢¤ê¤Þ¤»¤ó¤«</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00339.html">[pgsql-jp 16725] RE: install 7.0.2 to FreeBSD</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00356"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00356"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
