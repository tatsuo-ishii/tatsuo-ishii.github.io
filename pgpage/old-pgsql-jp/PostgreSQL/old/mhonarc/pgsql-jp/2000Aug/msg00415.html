<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 16801] Pg.pmを使ったアクセス -->
<!--X-From: takeda <takeda@isinternational.com> -->
<!--X-Date: Mon, 21 Aug 2000 11:09:19 +0900 -->
<!--X-Message-Id: 200008210209.AA00121@www.isinternational.com -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 16801] Pg.pmを使ったアクセス </TITLE>
<LINK REV="made" HREF="mailto:takeda@isinternational.com">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00414.html">Date Prev</A>][<A HREF="msg00416.html">Date Next</A>][<A HREF="msg00534.html">Thread Prev</A>][<A HREF="msg00417.html">Thread Next</A>][<A HREF="index.html#00415">Date Index</A>][<A HREF="threads.html#00415">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 16801] Pg.pmを使ったアクセス</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: takeda &lt;<A HREF="mailto:takeda@isinternational.com">takeda@isinternational.com</A>&gt;</LI>
<LI><em>Date</em>: Mon, 21 Aug 2000 11:09:19 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
以前、Web上からPostgreSQLにアクセスするにはどうすれば
よいかと質問しましたところ、Pg.pm があることを
教えていただきました。

で、シーラカンス本で見たところ、P310のsearch.plが
サンプルだと思うのですが、Perl初心者の私にとって
あまりにも難しく困っています。

１度でもデータを取得できれば応用出来ると思いますので
下記の場合だとどうすればよいか教えてください。

シーラカンス本のP52を例にすると
データベース名：test
テーブル名：shinamono

hinmei|nedan
------+-----
みかん|  100
りんご|  150
メロン| 2500

この場合りんごの値段 150 を取得するSQL文は、
select nedan from shinamono where hinmei = 'りんご';
ですよね。
りんごの代金を表示するには何処を修正すればよいか
教えてください。

#!/usr/bin/perl
use CGI;
use Pg;
use CGI::Carp qw(fatalsToBrowser);

$conn = Pg::connectdb("dbname=test");
$result = $conn-&gt;exec("select nedan from shinamono where hinmei = 'りんご'");

print "Content-type:text/html\n\n";
print &lt;&lt;EndHTML
&lt;html&gt;&lt;head&gt;&lt;title&gt;りんごはいくら？&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
りんごは $result 円です。
&lt;/body&gt;&lt;/html&gt;
EndHTML
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00417" HREF="msg00417.html">[pgsql-jp 16803] Re: Pg.pmを使ったアクセス</A></STRONG>
<UL><LI><EM>From:</EM> Mika Ohtsuki &lt;mika@rc.kyushu-u.ac.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00414.html">[pgsql-jp 16800] Re: [pgsql-jp 16777] Re: jdbcのコンパイルエラーの件</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00416.html">[pgsql-jp 16802] Re: jdbcのコンパイルエラーの件</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00534.html">[pgsql-jp 16921] Re: [pgsql-jp 16813] 参照整合性エラーが返らない、現象は回避できた</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00417.html">[pgsql-jp 16803] Re: Pg.pmを使ったアクセス</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00415"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00415"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
