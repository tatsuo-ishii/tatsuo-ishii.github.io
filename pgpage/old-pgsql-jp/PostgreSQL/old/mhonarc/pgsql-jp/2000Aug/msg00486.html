<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 16872] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ -->
<!--X-From: Naofumi Kondoh <nkon@shonan.ne.jp> -->
<!--X-Date: Wed, 23 Aug 2000 10:29:42 +0900 -->
<!--X-Message-Id: 39A32906.6BF9A477@shonan.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: OE25mz6UuEhjJ8uT6Ss000002ea@hotmail.com -->
<!--X-Reference-Id: 20000822192545A.kgotoh@cic&#45;kk.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 16872] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤ </TITLE>
<LINK REV="made" HREF="mailto:nkon@shonan.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00485.html">Date Prev</A>][<A HREF="msg00487.html">Date Next</A>][<A HREF="msg00475.html">Thread Prev</A>][<A HREF="msg00469.html">Thread Next</A>][<A HREF="index.html#00486">Date Index</A>][<A HREF="threads.html#00486">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 16872] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Naofumi Kondoh &lt;<A HREF="mailto:nkon@shonan.ne.jp">nkon@shonan.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 23 Aug 2000 10:29:42 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00461.html">OE25mz6UuEhjJ8uT6Ss000002ea@hotmail.com</A>&gt; &lt;<A HREF="msg00465.html">20000822192545A.kgotoh@cic-kk.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
¥½¥Õ¥È¹©Ë¼¤Î¶áÆ£¤Ç¤¹¡£

Kazumasa Gotoh wrote:

(snip)

&gt; FreeBSD 3.3 + PostgreSQL 7.0 ¤Ç¸µµ­»ö¤Î¿Í¤¬½ñ¤¤¤Æ¤¤¤¿ psql ¾å¤Î
&gt; Áàºî¤ò¹Ô¤Ã¤Æ¤ß¤Þ¤·¤¿¤¬¡¢OID ¤ÏÀµ¤ÎÃÍ¤Ç¤·¤¿¡£

PostgreSQL 6.5.3 + PHP3.0.12-i18n-beta4 ¤Ç¡¢ÆÁÅÄ¤µ¤ó¤¬
¸À¤ï¤ì¤ë¤³¤È¤¬ºÆ¸½¤¹¤ë¤³¤È¤ò³ÎÇ§¤·¤Þ¤·¤¿¡£

ÆÁÅÄ¤µ¤ó¤Î oid ¤¬Éé¿ôÉ½¼¨¤µ¤ì¤ë·ï¤Ç¤¹¤¬¡¢ºÆ¸½¤¹¤ë¤Ë¤Ï¡¢
oid ¤ò¡¢¥Þ¥¤¥Ê¥¹Éä¹ç¤Î¤Ä¤¤¤¿£±£°·å¤Ë¥¨¥Ç¥£¥¿¡¼Åù¤Ç¡¢½¤Àµ
¤·¤Æ¡¢copy É½Ì¾ with oids from ¥Õ¥¡¥¤¥ëÌ¾  ¤Ç¡¢Ê£¼Ì¤¹¤ì¤Ð¡¢
°Ê¸å¡¢INSERT ¤¹¤ë¤È¡¢oid ¤¬Éé¿ôÉ½¼¨¤µ¤ì¤ë¤è¤¦¤Ë¤Ê¤ê¤Þ¤¹¡£


¢£Ãí°Õ¢£:¤³¤ì¤ò¼Â¹Ô¤¹¤ë¤È¡¢°Ê¸åÁ´¤Æ¤Î DB ¤Î insert ¤·¤¿
    oid ¤¬¡¢£±£°·å¤ÎÉé¿ô¤Ë¤Ê¤ê¤Þ¤¹¤Î¤Ç¡¢¼Â¸³ÍÑ¤Î¥µ¡¼¥Ð¡¼
    °Ê³°¤Ç¤Ï¡¢¹Ô¤ï¤Ê¤¤¤è¤¦¤ËÃí°Õ¤·¤Æ¤¯¤À¤µ¤¤¡£


oid ¤ÎºÎÈÖÃÍ¤òÄ¾ÀÜÊÑ¹¹¤¹¤ë¤³¤È¤¬¤Ç¤­¤ë¤Î¤«¤É¤¦¤«¤Ï¡¢
ÉÔÊÙ¶¯¤ÇÃÎ¤ê¤Þ¤»¤ó¡£
    
oid ¤¬Âç¤­¤¯¤Ê¤Ã¤Æ¡¢Éé¿ôÉ½¼¨¤µ¤ì¤ë¤è¤¦¤Ë¤Ê¤Ã¤¿¾ì¹ç¤ÎÂÐºö
¤Ç¤¹¤¬¡¢¾¯¤¯¤È¤â¡¢initdb ¤«¤é¤ä¤ê¤Ê¤ª¤»¤Ð²óÉü¤¹¤ëÈ¦¤Ç¤¹¡£

Á´£Ä£Â¤ò¡¢£Ä£ÂÌ¾¤´¤È¤Ë pg_dump ¤Ç¥Ð¥Ã¥¯¥¢¥Ã¥×¤·¤Æ¤«¤é¡¢
£Ä£Â($PGDATA)¤òÁ´Éô¾Ãµî¤·¤Æ¡¢initdb ¤«¤é¤ä¤ê¤Ê¤ª¤»
¤Ð¡¢oid ¤¬¿·¤¿¤ËºÎÈÖ¤µ¤ì¤Æ¡¢Éé¿ôÉ½¼¨¤µ¤ì¤ë¤è¤¦¤ÊÂç¤­¤Ê
oid ¤Ï¡¢¤Ê¤¯¤Ê¤ê¤Þ¤¹¡£
# oid ÉÕÈÖÂÐ¾Ý¤¬£²£°²¯Ì¤Ëþ¤Î DB ¤òÁÛÄê¤·¤Æ¤¤¤Þ¤¹¡£
# ¥á¥¿¥Ç¡¼¥¿¡¼¤½¤ÎÂ¾¼Â¥Ç¡¼¥¿¡¼°Ê³°¤ò´Þ¤á¤¿¤È¤·¤Æ¤â¡¢
# oid ÉÕÈÖÂÐ¾Ý¤¬£²£°²¯¤òÄ¶¤¨¤ë£Ä£Â¤Ê¤ó¤Æ¤Ê¤¤¤Î¤Ç¤Ï¡£

³Î¤Ë¡¢ÆÁÅÄ¤µ¤ó¤Î¤ª¤Ã¤·¤ã¤ë¤È¤ª¤ê¡¢PHP ¤Î pg_getlastoid()
¤ÎÊÖ¤¹ÃÍ¤Ç¡¢WHERE OID = $lastoid ¤Î SQL Ê¸¤ò¼Â¹Ô¤¹¤ë¤È¡¢
pg_atoi: error ( 6.5.3 ¤Î¾ì¹ç)¤Ë¤Ê¤ê¤Þ¤¹¡£

¤Þ¤¿¡¢¤½¤Î¤è¤¦¤Ê DB ¤ò destroydb ¤·¤è¤¦¤È¤¹¤ë¤È¡¢¥¨¥é¡¼
¤Ë¤Ê¤Ã¤Æ destorydb ¤Ç¤­¤Þ¤»¤ó¡£(PostgreSQL 6.5.3)¡£

oid ¤ò signed ¤ä unsigned ¤ËÊÑ´¹¤¹¤ëÌäÂê¤½¤Î¤â¤Î¤Ï¡¢¤¤¤º¤ì
ÄûÀµ¤¬É¬Í×¤«¤È»×¤¤¤Þ¤¹¤¬¡¢¤½¤ì°ÊÁ°¤Ë¡¢£±£°·å°Ê¾å¤Î oid 
¤òÀ¸¤¸¤ë¤è¤¦¤Ê¤³¤È¤¬¡¢ÄÌ¾ï¤Î±¿ÍÑ¤Ç¤Ï¡¢¤¢¤Þ¤ê¤ª¤³¤é¤Ê¤¤¤Î
¤Ç¤Ï¤Ê¤¤¤«¤È»×¤¤¤Þ¤¹¤¬Ç¡²¿¤Ç¤·¤ç¤¦¡£

oid ÉÕ¤­¤Ç copy ¤·¤Ê¤±¤ì¤Ð¤¤¤±¤Ê¤¤¤è¤¦¤ÊÆÃ¼ì¤Ê»È¤¤Êý¤Ë¤â
ÌäÂê¤¬¤¢¤ë¤Î¤Ç¤Ï¤Ê¤¤¤Ç¤·¤ç¤¦¤«¡£

Informix ¤Ç¤â ROWID ¤È¤¤¤¦¡¢oid ¤È¤Ï»ÅÁÈ¤¬Á´¤¯°ã¤¦¤Î¤Ç¤¹¤¬
¤Á¤ç¤Ã¤È»÷¤¿¤è¤¦¤Ê¤â¤Î¤¬¤¢¤Ã¤Æ¡¢ÉÑÈË¤Ë»ÈÍÑ¤·¤Þ¤¹¤¬¡¢£Ä£Â
¤ÎÄêµÁÊÑ¹¹¤ä¡¢Ê£¼Ì¤Ê¤É¤Î¤¿¤Ó¤Ë¡¢ROWID ¤¬ÊÑ¤ë¤Î¤¬ÉáÄÌ¤Ç¡¢
¤½¤¦¤¤¤¦¤â¤Î¤È¤·¤Æ»È¤¦¤è¤¦¤Ë¤·¤Æ¤¤¤Þ¤¹¡£

PostgreSQL ¤Ç¤â¡¢oid ¤Ï¡¢copy ¤Ê¤É¤Î¤¿¤Ó¤ËÃÍ¤¬¤«¤ï¤Ã¤Æ¤â
¤¤¤¤¤â¤Î¤È¤·¤Æ¡¢¥×¥í¥°¥é¥àÀß·×¤·¤Æ¤ª¤±¤Ð¡¢º£²ó¤Î¤è¤¦¤Ê
¾ì¹ç¤â¡¢¼Â³²¤òÀ¸¤¸¤ë¤³¤È¤Ï¤Ê¤¤¤È¹Í¤¨¤Þ¤¹¤¬Ç¡²¿¤Ç¤·¤ç¤¦¤«¡£

_/__/_/_/_//_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/__/_/_/
 (³ô)¥½¥Õ¥È¹©Ë¼     ¶áÆ£Ä¾Ê¸     Email:  nkon@shonan.ne.jp 
 _/__/_/_/_//_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/__/_/_/
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00461" HREF="msg00461.html">[pgsql-jp 16847] Re: [pgsql-jp 16834] 7.0.2¤Îinse	rtÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ	¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</A></STRONG>
<UL><LI><EM>From:</EM> "iwa" &lt;d_iwa@hotmail.com&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00465" HREF="msg00465.html">[pgsql-jp 16851] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</A></STRONG>
<UL><LI><EM>From:</EM> Kazumasa Gotoh &lt;kgotoh@cic-kk.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00485.html">[pgsql-jp 16871] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00487.html">[pgsql-jp 16873] Re: ACCESS ¤«¤éPostgres ¤ËEUC¥³¡¼¥É¤Ç¥Ç¡¼¥¿¤òÆþÎÏ¤·¤¿¤¤¤ó¤Ç¤¹¤¬¡©</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00475.html">[pgsql-jp 16861] Re: 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00469.html">[pgsql-jp 16855] Re: [pgsql-jp 16847] Re: [pgsql-jp 16834] 7.0.2¤ÎinsertÄ¾¸å¤Îpg_getlastoid()¤ÇÀµ¿ô¤Ë¤Ê¤Ã¤Æ¤·¤Þ¤¦Ææ</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00486"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00486"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
