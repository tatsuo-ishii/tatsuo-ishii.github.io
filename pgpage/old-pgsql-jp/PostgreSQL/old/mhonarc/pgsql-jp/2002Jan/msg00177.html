<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 24508] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ -->
<!--X-From: Naofumi Kondoh <nkon@shonan.ne.jp> -->
<!--X-Date: Fri, 18 Jan 2002 10:06:42 +0900 -->
<!--X-Message-Id: 3C477522.DD8E6E9C@shonan.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 3C46EE2C7C.D332KAKUMA@mail.mib21.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 24508] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤ </TITLE>
<LINK REV="made" HREF="mailto:nkon@shonan.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00176.html">Date Prev</A>][<A HREF="msg00178.html">Date Next</A>][<A HREF="msg00193.html">Thread Prev</A>][<A HREF="msg00189.html">Thread Next</A>][<A HREF="index.html#00177">Date Index</A>][<A HREF="threads.html#00177">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 24508] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Naofumi Kondoh &lt;<A HREF="mailto:nkon@shonan.ne.jp">nkon@shonan.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 18 Jan 2002 10:06:42 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00172.html">3C46EE2C7C.D332KAKUMA@mail.mib21.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
¥½¥Õ¥È¹©Ë¼¤Î¶áÆ£¤Ç¤¹¡£¤³¤ó¤Ë¤Á¤Ï¡£

Minoru Kakuma wrote:

&gt; ³Ñ´Ö¤È¿½¤·¤Þ¤¹
...Î¬....
&gt; -- ¥æ¡¼¥¶¡¼¾ðÊó¥Æ¡¼¥Ö¥ë
&gt; create table M_PARENT(
&gt;   user_id  numeric(7)  primary key    ,  --0  ¥æ¡¼¥¶¡¼ID
&gt;   first_name  varchar(16)             ,  --  1  Ì¾Á°
&gt;   age  numeric(3)                     ,  --  2  Ç¯Îð
&gt;   age_id  numeric(3)                     --  3  Ç¯ÂåID
&gt; );
&gt; 1,³Ñ´Ö,24,2
&gt; 
&gt; -- Ç¯Âå¥Æ¡¼¥Ö¥ë
&gt; create table M_PARENTAGE(
&gt;   age_id  numeric(3)  primary key   ,  --  0  seq
&gt;   age_start  numeric(3)  default 0  ,  --  1  Ç¯Âå¥¹¥¿¡¼¥È
&gt;   age_end  numeric(3)  default 0    ,  --  2  Ç¯Âå¥¨¥ó¥É
&gt;   name  varchar(32)                    --  3  Ç¯ÂåÌ¾
&gt; );
&gt; 1,10,19,£²£°ºÐÌ¤Ëþ
&gt; 2,20,24,£²£°¡Á£²£´ºÐ
&gt; 3,25,29,£²£µ¡Á£²£¹ºÐ
....Î¬....

¤³¤Î¤è¤¦¤ÊÀß·×¤Ë¤·¤¿ÌÜÅª¤¬¤ï¤«¤é¤Ê¤¤¤Î¤Ç¡¢°ì³µ¤Ë
¸À¤¨¤Ê¤¤¤Î¤Ç¤¹¤¬¡¢M_PARENT ¤Î¥Ç¡¼¥¿¡¼·ï¿ô¤¬£²Ëü·ï
¤È¤¤¤¦¤³¤È¤Ç¤¹¤«¤é¡¢¿ôÀéËü·ï¤Î¥Ç¡¼¥¿¡¼¤Î¹âÂ®½èÍý
¤òÁÀ¤Ã¤¿¤è¤¦¤Ê¤â¤Î¤Ç¤Ï¤Ê¤¤¤Ç¤¹¤Í¡£

Ç¯ÂåÌ¾¤ÈÇ¯ÂåÈÏ°Ï¤ò¥×¥í¥°¥é¥à¤Ç¤Ï¤Ê¤¯¡¢DB ¤Ë»ý¤¿¤»
¤¿¤¤¤È¤¤¤¦¤³¤È¤Ç¤¢¤ì¤Ð¡¢ËÌÂ¼¤µ¤ó¤Î¤ª¤Ã¤·¤ã¤ë¤è¤¦¤Ë¡¢
Ç¯Îð¤ò¼ç¥­¡¼¤È¤¹¤ë age, age_id ¤«¤é¤Ê¤ëÊÌÉ½¤òºî¤Ã
¤Æ¤·¤Þ¤Ã¤¿Êý¤¬¤¹¤Ã¤­¤ê¤·¤Þ¤¹¡£

ÆÃ¼ì¤ÊÏÃ¤Ë¤Ê¤ë¤«¤â¤·¤ì¤Þ¤»¤ó¤¬¡¢
¿ôÉ´Ëü·ï¤Î¤è¤¦¤ÊÂçÎÌ¥Ç¡¼¥¿¡¼¤Ç¡¢Ç¯ÎðÊÌ¤Î·ï¿ô¤À¤±¤ò
ÃÎ¤ê¤¿¤¤¤È¤¤¤¦¤è¤¦¤Ê¾ì¹ç¤Ï¡¢Ç¯Îð¤ò¼ç¥­¡¼¤È¤¹¤ëÉ½
(²¾¤Ë agecount ¤È¤·¤Þ¤¹)¤òºî¤Ã¤Æ¡¢M_PARENT ¤ÎÇ¯Îð
¤¬ÊÑ¹¹¤Ë¤Ê¤Ã¤¿ÅÔÅÙ¡¢agecount É½¤Î·ï¿ô(¿Í¿ô)¤ò¹¹¿·
¤¹¤ë¤È¤¤¤¦ÊýË¡¤â¤¢¤ê¤Þ¤¹¡£¤Ç¤â¡¢2Ëü·ï°Ì¤Ê¤é¡¢¤½¤Î
ÅÔÅÙ GROUP BY ¤ä¡¢WHERE age BETWEEN ¤Ê¤É¤Ç½¸·×¤·
¤¿Êý¤¬¤¤¤¤¤Ç¤·¤ç¤¦¡£

³Ñ´Ö¤µ¤ó¤ÎÎã¤«¤é¤ß¤Æ°ã¤¦¤È¤Ï»×¤¤¤Þ¤¹¤¬¡¢¤â¤·¡¢Ç¯Âå
ÈÏ°Ï¤¬½ÅÊ£¤·¤¿Ç¯ÂåÌ¾¤òºî¤ê¤¿¤¤¤Î¤Ç¤¢¤ì¤Ð¡¢ÊÌ¤ÎÊýË¡
¤ÎÊý¤¬¤¤¤¤¤«¤È»×¤¤¤Þ¤¹¡£


³Ñ´Ö¤µ¤ó¤ÎÉ½Àß·×¤Î¤Þ¤Þ¤Ç»È¤ï¤ì¤ë¤Ê¤é¤Ð¡¢M_PARENTÉ½
¤Î age_id ¤Ë»²¾ÈÀ©Ìó¤òÉÕ¤±¤ë¤³¤È¤ò¤ª¤¹¤¹¤á¤·¤Þ¤¹¡£
(Îã)
   age_id REFERENCES M_PARENTAGE(age_id)
          DEFERRABLE INITIALLY DEFERRED

¤³¤Î¼ï¤Î¥±¡¼¥¹¤Ç¤Ï¡¢DEFERRABLE (ÃÙ±ä»²¾È)¤ò¤Ä¤±¤Æ
¤ª¤¯¤Ù¤­¤Ç¤·¤ç¤¦¡£

---------------

ËÜÂê¤«¤é¤º¤ì¤Þ¤¹¤¬¡¢Ç¯Îð¤Ï¤É¤¦¤¤¤¦·Á¤Ç¤ª»ý¤Á¤Ê¤Î¤Ç
¤·¤ç¤¦¤«¡£

»ä¤¬¤è¤¯¤ä¤ëÊýË¡¤Ï¡¢Ç¯Îð¤òµ­Æþ¤·¤¿Æü¤ò²¾¤ÎÃÂÀ¸Æü¤È
¤¹¤ë¤«¡¢ÃÂÀ¸Æü¤Ç¤Ï¤Ê¤¯¡¢ÃÂÀ¸Ç¯ 4·å ¤À¤±¤ò³ÊÇ¼¤·¤Æ¡¢
¸¡º÷»þ¤Î CURRENT_DATE / YEAR ¤È¤Îº¹¤ò¤È¤ë¤è¤¦¤Ë¤·
¤Æ¤¤¤Þ¤¹¡£

Ç¯Îð£³·å¤ò¤½¤Î¤Þ¤Þ³ÊÇ¼¤·¤Æ¤ª¤¤¤Æ¡¢ËèÇ¯·è¤Þ¤Ã¤¿Æü
(1/1 Åù)¤Ë¡¢°ìÀÆ¤Ë +1 ¤¹¤ëÊýË¡¤âÊ¹¤­¤Þ¤·¤¿¤¬¡¢¤¢¤Þ
¤ê¥¹¥Þ¡¼¥È¤Ç¤Ï¤Ê¤¤¤è¤¦¤Ê¡£

³§ÍÍ¤ÎÇ¯Îð¤Î³ÊÇ¼ÊýË¡¤Ê¤É¡¢¤¦¤Þ¤¤ÊýË¡¤¬¤¢¤ê¤Þ¤·¤¿¤é
À§Èó¤ª¶µ¤¨¤¯¤À¤µ¤¤¡£

-------- ÀëÅÁ ------
# JPUG ¶ÈÌ³¥¢¥×¥êÊ¬²Ê²ñ»²²Ã¼ÔÊç½¸Ãæ¤Ç¤¹¡£
<A HREF="http://www.postgresql.jp/subcommittee/ap/">http://www.postgresql.jp/subcommittee/ap/</A>

_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
 (³ô)¥½¥Õ¥È¹©Ë¼   ¶áÆ£Ä¾Ê¸        Email:  nkon@shonan.ne.jp 
PostgreSQL+PHP ¥½¡¼¥¹¥³¡¼¥É¥¸¥§¥Í¥ì¡¼¥¿¡¼ ¥»¥ß¥Ê¡¼¥¹¥é¥¤¥É
          <A HREF="http://www.shonan.ne.jp/~nkon/cslpg.a.semi/">http://www.shonan.ne.jp/~nkon/cslpg.a.semi/</A>
          <A HREF="http://www.SOFTKOUBOU.co.jp/">http://www.SOFTKOUBOU.co.jp/</A>
_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00189" HREF="msg00189.html">[pgsql-jp 24520] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ë[¸©ÊÌÇ¯ÎðÊÌ¤Î½¸·×ÍÑ¥Æ¡¼¥Ö¥ë]</A></STRONG>
<UL><LI><EM>From:</EM> Minoru Kakuma &lt;kakuma@mib21.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00172" HREF="msg00172.html">[pgsql-jp 24503] Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Minoru Kakuma &lt;kakuma@mib21.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00176.html">[pgsql-jp 24507] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00178.html">[pgsql-jp 24509] Re: ¥¤¥ó¥¹¥È¡¼¥ë¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00193.html">[pgsql-jp 24524] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00189.html">[pgsql-jp 24520] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ë[¸©ÊÌÇ¯ÎðÊÌ¤Î½¸·×ÍÑ¥Æ¡¼¥Ö¥ë]</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00177"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00177"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
