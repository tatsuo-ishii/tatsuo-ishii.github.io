<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 24512] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ -->
<!--X-From: Minoru Kakuma <kakuma@mib21.co.jp> -->
<!--X-Date: Fri, 18 Jan 2002 11:56:04 +0900 -->
<!--X-Message-Id: 3C478EC424F.B93DKAKUMA@mail.mib21.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 3C46EE2C7C.D332KAKUMA@mail.mib21.co.jp -->
<!--X-Reference-Id: 20020118100311S.t&#45;ishii@sra.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 24512] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤ </TITLE>
<LINK REV="made" HREF="mailto:kakuma@mib21.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00180.html">Date Prev</A>][<A HREF="msg00182.html">Date Next</A>][<A HREF="msg00176.html">Thread Prev</A>][<A HREF="msg00182.html">Thread Next</A>][<A HREF="index.html#00181">Date Index</A>][<A HREF="threads.html#00181">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 24512] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Minoru Kakuma &lt;<A HREF="mailto:kakuma@mib21.co.jp">kakuma@mib21.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 18 Jan 2002 11:56:04 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00172.html">3C46EE2C7C.D332KAKUMA@mail.mib21.co.jp</A>&gt; &lt;<A HREF="msg00176.html">20020118100311S.t-ishii@sra.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
³Ñ´Ö¤Ç¤¹¡£¤ªÊÖ»ö¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Þ¤¹¡£

&gt; ¤É¤¦Àß·×¤ò¸«Ä¾¤·¤¿Êý¤¬¤¤¤¤¤Î¤«¤Ï¡¤¶ÈÌ³Í×·ï¤¬¤ï¤«¤é¤Ê¤¤¤È²¿¤È¤â¸À¤¨¤Þ¤»
&gt; ¤ó¡¥°ìÈÖµ¿Ìä¤Ê¤Î¤Ï¡¤¤½¤â¤½¤â¡ÖÇ¯ÂåID¡×¤Ê¤ë¤â¤Î¤¬É¬Í×¤Ê¤ó¤Ç¤·¤ç¤¦¤«?¤Ã
&gt; ¤Æ¤³¤È¤Ê¤ó¤Ç¤¹¤¬¡¥Ã±¤Ë¡Ö£²£µ¡Á£²£¹ºÐ¡×¤È¤«É½¼¨¤¹¤ë¤Î¤Ë»È¤Ã¤Æ¤¤¤ë¤À¤±¤À
&gt; ¤È¤·¤¿¤é¡¤¡Ö½¸·×½èÍý¡×¤ËÉ¬Í×¤Ê¤¤¤â¤Î¤Ç¤·¤ç¤¦¤«¤é¡¤¡ÖÇ¯ÂåID¡×¤ò¤ä¤á¤Æ¤·
&gt; ¤Þ¤Ã¤Æ¡¤É½¼¨¤Î»þ¤Ë¤¤¤Á¤¤¤Ám_parentag¤«¤é°ú¤ÃÄ¥¤Ã¤Æ¤¯¤ì¤Ð½½Ê¬¤À¤È»×¤¦¤Î
&gt; ¤Ç¤¹¤¬¡¥

´ðËÜÅª¤Ë
create table M_PARENT(
  user_id  numeric(7)  primary key    ,  --0  ¥æ¡¼¥¶¡¼ID
  first_name  varchar(16)             ,  --  1  Ì¾Á°
  age  numeric(3)                     ,  --  2  Ç¯Îð
  age_id  numeric(3)                     --  3  Ç¯ÂåID
);
¤Îage_id¤òºîÀ®¤¹¤ë¤¿¤á¤À¤±¤Ëm_parentage¤Ï¹Í¤¨¤Æ¤ª¤ê¤Þ¤·¤¿¡£

ÌÜÅª¤È¤·¤Þ¤·¤Æ¡Ö½¸·×¤Î»þ¤Ëage_id¤Ë¤è¤êGROUP BY¤¹¤ë¤³¤È¤Ë
¤è¤êÇ¯ÂåÊÌ¤Î½¸·×¥Ç¡¼¥¿¤ò¼è¤ë¡×¤Ç¤·¤¿¡£

·ë¶ÉËÌÂ¼¤µ¤ó¤Ë¶µ¤¨¤¿¤¤¤¿¤À¤¤¤¿¡¢Ç¯Îð¤ò¼ç¥­¡¼¤È¤¹¤ëÇ¯Âå¥ê¥¹¥È¤ò
ºî¤ë¤³¤È¤Ë¤è¤êage_id¼«ÂÎ¤ÎÉ¬Í×¤ÏÌµ¤¯¤Ê¤ê¡¢°ì±þ¤Î²ò·è¤ÏÆÀ¤¿¤Î¤Ç¤¹¤¬¡¢
¡ÖÀß·×¡×¤ÎÏÃ¤Ç¤Ï¤Þ¤ÀÁ´¤¯²ò·è¤·¤Æ¤ª¤ê¤Þ¤»¤ó¡£

¤¤¤Þ¤µ¤é¤Ê¤¬¤é¶ÈÌ³¤Î°Æ·ï¤ò½ñ¤­¤Þ¤¹¤È¡¢
¡Ö¸½¹Ô¤Î¥·¥¹¥Æ¥à¤¬¤¢¤Þ¤ê¤Ë¤âÃÙ¤¤¤Î¤Ç²þÁ±¤·¤ÆÍß¤·¤¤¡×
¤È¤Î¤³¤È¤Ç¡¢¹½Â¤¤òÄ´¤Ù¤Æ¤ß¤ë¤È¡¢M_PARENT¤Ë¤ÏÃÂÀ¸Æü¤·¤«ÊÝ»ý¤·¤Æ¤ª¤é¤º¡¢
½¸·×¤Î¤Ä¤É¸½ºß¤ÎÆüÉÕ¤È¤Îº¹¤ò¤È¤êÇ¯Îð¤ËÀ°·Á¤·¤Æ¡¢¤½¤ì¤ò¸µ¤Ë½¸·×¤·¤Æ¤ª¤ê¡¢
Ç¯ÎðËè¤ËBETWEEN¤ÇSQL¤òÈ¯¹Ô¤·¥Ç¡¼¥¿¤òÆÀ¤ë¤È¤¤¤¦¡¢Ä´¤Ù¤Æ¤¤¤ë¤À¤±¤Ç
½Å¤µ¤¬¼Â´¶½ÐÍè¤ë¹½Â¤¤Ë¤Ê¤Ã¤Æ¤ª¤ê¤Þ¤·¤¿¡£

¤½¤³¤Ç¤Þ¤ºÇ¯Îð¥Õ¥£¡¼¥ë¥É¤òÄÉ²Ã¤·¡¢Ê£¿ôSQL¤À¤Ã¤¿¤Î¤ò°ìËÜ¤Ë¤Þ¤È¤á¤ë¤¿¤á¤Ë
GROUP BY¤ÎÍ×ÁÇ¤Ë¤Ê¤ê¤¨¤ëage_id¤ÎÄÉ²Ã¤ò¹Í¤¨¤Þ¤·¤¿¡£
¤½¤Î¸åÌÚÂ¼¤µ¤ó¤Ë¶µ¤¨¤Æ¤¤¤¿¤À¤¤¤¿Àß·×¤Ë¤è¤ê¡¢

create table M_generation(
  age numeric(4)  primary key  ,  --  0  Ç¯ÎðID
  gen_type_id  numeric(3)    --  1  Ç¯ÂåID
);
19,1
20,1
21,2
22,2
23,2
24,3
¤Î¤è¤¦¤Ë¥Æ¡¼¥Ö¥ë¤òºîÀ®¤·¡¢M_PARENT¤Îage¤ÈM_generation¤Îage¤òJOIN¤·¡¢
gen_type_id¤Ë¤è¤êGROUP BY¤¹¤ë¤³¤È¤Ë¤è¤ê¡¢¸½¹Ô¤Þ¤Ç¤ÎÀ®²Ì¤¬ÆÀ¤é¤ì¤Þ¤·¤¿¡£

Ä¹¡¹¤È½ñ¤¤¤Æ¤·¤Þ¤¤¶²½Ì¤Ç¤¹¤¬¡¢¤³¤³¤Þ¤Ç»ä¤¬¹Ô¤Ê¤Ã¤¿ºî¶È¤Ë¤Ä¤¤¤Æ¡¢
ÌäÂê¤¬¤¢¤ëÅÀ¤¬¤¢¤ì¤Ð¡¢¾®¤µ¤Ê¤³¤È¤Ç¤â¤´»ØÅ¦´ê¤¨¤Ê¤¤¤Ç¤·¤ç¤¦¤«¡©
¤Þ¤¿¤µ¤é¤Ë¥Ñ¥Õ¥©¡¼¥Þ¥ó¥¹¤ò¿­¤Ð¤¹¤Ë¤Ï¤É¤¦¤¤¤Ã¤¿ÅÀ¤ò¸«¤ëÉ¬Í×¤¬¤¢¤ë
¤Î¤Ç¤·¤ç¤¦¤«¡©
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00185" HREF="msg00185.html">[pgsql-jp 24516] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00182" HREF="msg00182.html">[pgsql-jp 24513] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Tomoyuki Koike &lt;koike2@abc77.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00172" HREF="msg00172.html">[pgsql-jp 24503] Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Minoru Kakuma &lt;kakuma@mib21.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00176" HREF="msg00176.html">[pgsql-jp 24507] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00180.html">[pgsql-jp 24511] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00182.html">[pgsql-jp 24513] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00176.html">[pgsql-jp 24507] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00182.html">[pgsql-jp 24513] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00181"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00181"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
