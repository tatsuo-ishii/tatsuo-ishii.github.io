<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 24524] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ -->
<!--X-From: Jun Kitamura <kitamura@assiette.net> -->
<!--X-Date: Sun, 20 Jan 2002 22:02:48 +0900 -->
<!--X-Message-Id: 3C4ABFF8334.7508KITAMURA@mail.assiette.net -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 3C478EC424F.B93DKAKUMA@mail.mib21.co.jp -->
<!--X-Reference-Id: 20020118143342M.t&#45;ishii@sra.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 24524] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤ </TITLE>
<LINK REV="made" HREF="mailto:kitamura@assiette.net">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00192.html">Date Prev</A>][<A HREF="msg00194.html">Date Next</A>][<A HREF="msg00185.html">Thread Prev</A>][<A HREF="msg00177.html">Thread Next</A>][<A HREF="index.html#00193">Date Index</A>][<A HREF="threads.html#00193">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 24524] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Jun Kitamura &lt;<A HREF="mailto:kitamura@assiette.net">kitamura@assiette.net</A>&gt;</LI>
<LI><em>Date</em>: Sun, 20 Jan 2002 22:02:48 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00181.html">3C478EC424F.B93DKAKUMA@mail.mib21.co.jp</A>&gt; &lt;<A HREF="msg00185.html">20020118143342M.t-ishii@sra.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
ËÌÂ¼¡÷¥¢¥·¥§¥Ã¥È¤Ç¤¹¡£

&gt; ¤³¤³¤Ç (iscachable) ¤Ë¤·¤Æ¤¤¤ë¤Î¤¬Ì£Á¹¤Ç¡¤¤³¤ì¤òÄêµÁ¤·¤Ê¤¤¤È´Ø¿ô¥¤¥ó¥Ç¥Ã
&gt; ¥¯¥¹¤Ë¤Ê¤Ã¤Æ¤¯¤ì¤Þ¤»¤ó¡¥¤â¤Á¤í¤óÇ¯Îð¤ÏÆü¤¬ÊÑ¤ë¤ÈÊÑ¤ë²ÄÇ½À­¤¬¤¢¤ë¤Î¤Ç¡¤

°ÊÁ°¡¢age ¤ò»È¤Ã¤¿ SQL ´Ø¿ô(Ã±½ã¤Ë Ç¯Îð::int2 ¤¬ÊÖ¤Ã¤Æ¤¯¤ë)¤Ç´Ø¿ô¥¤¥ó¥Ç¥Ã
¥¯¥¹¤òºîÀ®¤·¤¿¤³¤È¤¬¤¢¤ê¡¢µ¡Ç½¤·¤Ê¤«¤Ã¤¿(¥¤¥ó¥Ç¥Ã¥¯¥¹¤ò»È¤Ã¤Æ¤¯¤ì¤Ê¤¤)¤Î
¤Ï¡¢¤³¤ì¤òÉÕ¤±¤Æ¤¤¤Ê¤«¤Ã¤¿¤»¤¤¤À¤È¡¢¤è¤¦¤ä¤¯Ê¬¤«¤ê¤Þ¤·¤¿¡£´¶¼Õ¡ª

&gt; É¬Í×¤Ê»þ¤Ë¥¤¥ó¥Ç¥Ã¥¯¥¹¤òºî¤êÄ¾¤µ¤Ê¤¤¤È¤¤¤±¤Þ¤»¤ó¡¥
&gt; 
&gt; drop index t1index;
&gt; create index t1index on t1(myage(t));

(¼ÂºÝ¤Ë¤Ï¾å¤Ç¤â½ñ¤¤¤¿ÄÌ¤ê¡¢´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤¬¼Â¸½¤Ç¤­¤Æ¤¤¤Ê¤«¤Ã¤¿¤Î¤Ç¤¹¤¬)
¤³¤ì¤âÉÔ»×µÄ¤Ë»×¤Ã¤Æ¤¤¤¿¤³¤È¤Ç¤¹¡£

Ç¯Îð¤Î¾ì¹ç¡¢¼Â¹Ô¤·¤¿Æü»þ¤Ë¤è¤ê¡¢age() ¤«¤é¤ÎÊÖ¤êÃÍ¤¬ÊÑ¤ï¤Ã¤Æ¤·¤Þ¤¦²ÄÇ½À­
¤¬¤¢¤ë¤Î¤Ç¡¢´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤Ë½ÐÍè¤Ê¤¤¤Î¤Ç¤Ï¤Ê¤¤¤«¡©¡¢²¾¤Ë½ÐÍè¤¿¤È¤·¤Æ¤â¡¢
REINDEX ¤Ê¤ê DROP &amp; CREATE INDEX ¤ò¹Ô¤Ê¤¦É¬Í×¤¬¤¢¤ë¤Î¤Ç¤Ï¤Ê¤¤¤«¡©¡¦¡¦¡¦¤È¡£

(´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤Îºî¤êÊý¤¬Ê¬¤«¤é¤Ê¤«¤Ã¤¿¤Î¤Ç)²¼µ­¤ÎÊýË¡¤ò¤È¤ê¤Þ¤·¤¿¡£
tUser
	id int(¥×¥é¥¤¥Þ¥ê¥­¡¼)
	birth date
)
¤È¡¢
tUserAge(
	id int(tUser ¤Ø ³°Éô»²¾È)
	nenrei int2(¥¤¥ó¥Ç¥Ã¥¯¥¹¤¢¤ê)
)
¤ò»ý¤Ã¤Æ¤ª¤¤¤Æ¡¢(Ìë´Ö¥Ð¥Ã¥Á¤Ê¤É¤Ç) tUser.birth = today ¤È¤Ê¤ë id ¤ò»ý¤Ä
tUserAge¤Î nenrei ¤ò¹¹¿·¤¹¤ë¡£

´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤Îºî¤êÊý¤¬Ê¬¤«¤Ã¤¿º£¡¢¤³¤Î¤ä¤êÊý¤Ã¤Æ¡¢¡Ö(DROP &amp; CREATE
INDEX ¤è¤ê¤Ï)Ìë´Ö¥Ð¥Ã¥Á¤¬Áá¤¯½ª¤ï¤ë¡¦¡¦¡×¤È¤¤¤¦¥á¥ê¥Ã¥È¤·¤«¤Ê¤¤¤Ç¤¹¡£

(Ç¯Îð¤Ë¤è¤ë¾ò·ï¤Ë¤ª¤¤¤Æ)´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤òºîÀ®¤·¤¿¾ì¹ç¡¢JOIN ¤¹¤ëÉ¬Í×¤¬¤Ê
¤¤¤Ç¤¹¤è¤Í¡£¤¹¤ë¤È¡¢»ä¤Î½ñ¤¤¤¿²¼¤Î¤ä¤êÊý(2Ëç¥Æ¡¼¥Ö¥ë)¤è¤ê¡¢¤º¤Ã¤ÈÂ®¤¯¸¡º÷
²ÄÇ½¤Ê¤Î¤Ç¤·¤ç¤¦¤Í¡£

¼¡¤«¤éÇ¯Îð¤Ï´Ø¿ô¥¤¥ó¥Ç¥Ã¥¯¥¹¤Ç¤â¤Ä¤è¤¦¤Ë¤¹¤ë¤¾¡¼¡£
(¤¤¤Þ¤Þ¤Ç¤Î¤Ï¡¦¡¦¡¦Ä¾¤¹µ¤ÎÏ¤Ê¤·)¾Ð
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00181" HREF="msg00181.html">[pgsql-jp 24512] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Minoru Kakuma &lt;kakuma@mib21.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00185" HREF="msg00185.html">[pgsql-jp 24516] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00192.html">[pgsql-jp 24523] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ë[¸©ÊÌÇ¯ÎðÊÌ¤Î½¸·×ÍÑ¥Æ¡¼¥Ö¥ë]</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00194.html">[pgsql-jp 24525] ¥Í¥Ã¥È¥·¥ç¥Ã¥×¥Æ¥Ê¥ó¥ÈÊç½¸</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00185.html">[pgsql-jp 24516] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00177.html">[pgsql-jp 24508] Re: Â¾¤Î¥Æ¡¼¥Ö¥ë¤ò»²¾È¤¹¤ëupdate»þ¤Î¥¤¥ó¥Ç¥Ã¥¯¥¹¤ÎÍøÍÑ¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00193"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00193"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
