<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 19627] Re: JDBC 付属のexsample.basicにて、java.net.SocketException エラー -->
<!--X-From: "INTERNET platz" <platz@mx51.tiki.ne.jp> -->
<!--X-Date: Tue, 23 Jan 2001 11:47:44 +0900 -->
<!--X-Message-Id: 003301c084e6$dd0041e0$8aa8fea9@me4455e -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 67415031AC95D41191B800508BC831C324F5A8@excserver1.bsi.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 19627] Re: JDBC 付属のexsample.basicにて、java.net.SocketExcep </TITLE>
<LINK REV="made" HREF="mailto:platz@mx51.tiki.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00319.html">Date Prev</A>][<A HREF="msg00321.html">Date Next</A>][<A HREF="msg00318.html">Thread Prev</A>][<A HREF="msg00326.html">Thread Next</A>][<A HREF="index.html#00320">Date Index</A>][<A HREF="threads.html#00320">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 19627] Re: JDBC 付属のexsample.basicにて、java.net.SocketException エラー</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "INTERNET platz" &lt;<A HREF="mailto:platz@mx51.tiki.ne.jp">platz@mx51.tiki.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 23 Jan 2001 11:47:44 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00310.html">67415031AC95D41191B800508BC831C324F5A8@excserver1.bsi.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

インターネットプラッツ■メールが間違って入ってます　よろしく






　　　　　　　
platz@mx51.tiki.ne.jp

----- Original Message -----
From: 中村　麻貴 &lt;NAKAMURA@excserver.bsi.co.jp&gt;; &lt;owner-pgsql-jp@sra.co.jp&gt;
To: Pgsql (E-mail) &lt;pgsql-jp@sra.co.jp&gt;
Sent: Tuesday, January 23, 2001 10:48 AM
Subject: [pgsql-jp 19617] JDBC 付属の exsample.basicにて、
java.net.SocketExceptionエラー


&gt; はじめてメールさせて頂きます、中村と申します。
&gt; LinaxもJavaも今年に入ってから勉強を始めました。
&gt; Javaの基本を学習中ですが、Linaxについては
&gt; これから、というところです。
&gt;
&gt; 掲題の件についての御質問ですが、
&gt; 恐らく環境の問題と思われます。
&gt;
&gt; まずは環境について記述致します。
&gt;
&gt; ■実行環境
&gt; TurboLinaxWorkStation6.0（日本語版）
&gt; PostgreSQL6.5.2
&gt; JDK1.3
&gt;
&gt; ■環境設定
&gt; ＜/etc/rc.d/rc.localの設定（postmaster自動起動部分のみ。他省略）＞
&gt; POSTGRESDIR=/usr/local/pgsql
&gt; if [ -x $POSTGRESDIR/bin/postmaster -a -d $POSTGRESDIR/data ];then
&gt; rm -f /tmp/.s.PGSQL.5432
&gt; su - postgres -c "postmaster -S -i"
&gt; echo -n 'postmaster '
&gt; fi
&gt; （PostgreSQLの全権限を持つユーザーとして、postgresユーザーを
&gt; 作成してあります）
&gt;
&gt; ＜ユーザーmakiの.tcshrcの設定（PostgreSQLとJDKに関する部分のみ。他省略）＞
&gt; setenv PATH "$PATH":/usr/local/pgsql/bin
&gt; setenv POSTGRES_HOME /usr/local/pgsql
&gt; setenv PGLIB $POSTGRES_HOME/lib
&gt; setenv PGDATA $POSTGRES_HOME/data
&gt; if ($?MANPATH) then
&gt; setenv MANPATH "$MANPATH":$POSTGRES_HOME/man
&gt; else
&gt; setenv MANPATH $POSTGRES_HOME/man
&gt;
&gt; setenv JDK_HOME /usr/java/jdk1.3
&gt; setenv
&gt; CLASSPATH=.:/usr/local/pgsql/lib/postgresql.jar:$JDK_HOME/lib/classes.zip
&gt; setenv PATH "$PATH":$JDK_HOME/bin
&gt; setenv JAVA_HOME $JDK_HOME
&gt; （SwingとJITについては設定していません）
&gt;
&gt; ＜/usr/local/pgsql/data/pg_hba.confの設定（下記以外省略）＞
&gt; host all 0.0.0.0 0.0.0.0 trust
&gt; （コメントだった上記記述を有効化（#を削除）しました）
&gt;
&gt; ■ログイン
&gt; 一度rootでログインし、suコマンドでユーザーmakiに再ログイン
&gt;
&gt; 上記実行環境にてPostgreSQLのJDBCドライバをインストールし、
&gt; example.basic.javaのコンパイル迄はうまく行きました。
&gt; が、実行すると下記のエラーが出力されます。
&gt;
&gt; ■実行方法
&gt; 下記3通りで試しましたが、全て同じ結果となりました
&gt;
&gt; [maki@localhost jdbc]# java example.basic jdbc:postgresql:maki maki ""
&gt; [maki@localhost jdbc]# java example.basic jdbc:postgresql://localhost/maki
&gt; maki ""
&gt; [maki@localhost jdbc]# java example.basic
&gt; jdbc:postgresql://localhost:5432/maki maki ""
&gt;
&gt; ■エラーメッセージ
&gt; JDBCドライバのロードはうまく行っているようですが、
&gt; コネクトステートメントの作成でエラーが発生しています。
&gt; 原因はプロトコルエラーです。
&gt;
&gt; PostgreSQL basic test V6.3 rev1
&gt;
&gt; Connecting to Database URL = jdbc:postgresql:postgres
&gt; Exception caught
&gt; The connection attempt failed because java.net.SocketException: errno:
101,
&gt; error: Network is unreachable for fd:8
&gt; The connection attempt failed because java.net.SocketException: errno:
101,
&gt; error: Network is unreachable for fd:8
&gt; at postgresql.Connection.openConnection(Connection.java:121)
&gt; at postgresql.Driver.connect(Driver.java:103)
&gt; at java.sql.DriverManager.getConnection(DriverManager.java:517)
&gt; at java.sql.DriverManager.getConnection(DriverManager.java:177)
&gt; at example.basic.&lt;init&gt;(basic.java:32)
&gt; at example.basic.main(basic.java:171)
&gt;
&gt;
&gt; そこで、過去のMLを参照しましてpsql起動のテストを行ったところ、
&gt; 下記の通りエラーが発生しました。
&gt;
&gt; ■実行コマンド
&gt; psql -u -h localhost maki
&gt; Username: maki
&gt; Password: （未設定の為未入力）
&gt;
&gt; ■エラーメッセージ
&gt; Connection to database 'maki' failed.
&gt; connectDB() -- connect() failed : Network is unreachable
&gt; Is the postmaster running (with -i) at 'localhost' and accepting
&gt; connection on TCP/IP port '5432'?
&gt;
&gt; 初めに記述しました環境設定の通り、
&gt; postmasterは-iオプションにて自動起動しています。
&gt;
&gt; turboportcfgにてTCP/IPプロトコルを使用したサービスで、
&gt; ポート番号'5432'のサービスを探しましたが該当なしでした。
&gt; （的外れなことをしているかもしれませんが・・・）
&gt;
&gt; ■御質問
&gt; ．機璽弌璽機璽咼硬の設定で、しなくてはいけないことが
&gt; 　あるのでしょうか？
&gt;
&gt; ⊂綉と話がずれてしまいますが、JITやSwingはJDK1.3の
&gt; 　インストール時に自動的にはインストールされないのでしょうか？
&gt;
&gt; ※/usr/java/jdk1.3配下のファイルに対し、下記の通りfindをかけましたが対象無
し
&gt; でした。
&gt;   [root@localhost java]# find ./jdk1.3 -name swing\* -print
&gt;   [root@localhost java]# find ./jdk1.3 -name \*jit\* -print
&gt;
&gt; ■追伸
&gt; 重ね重ねすみませんが、上記Linax環境まわりについて
&gt; 良い参考書籍等ありましたら、ご教授願えないでしょうか？
&gt;
&gt; よろしくお願い致します。
&gt;
&gt; =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=
&gt; 　中村　麻貴　（株）BSI
&gt; 　<A HREF="mailto:NAKAMURA@EXCSERVER.bsi.co.jp">mailto:NAKAMURA@EXCSERVER.bsi.co.jp</A>
&gt; =*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=*=
&gt;
&gt;
&gt;
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00310" HREF="msg00310.html">[pgsql-jp 19617] JDBC 付属のexsample.basicにて、java.net.SocketExceptionエラー</A></STRONG>
<UL><LI><EM>From:</EM> 中村　麻貴 &lt;NAKAMURA@excserver.bsi.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00319.html">[pgsql-jp 19626] Re: JDBC 付属のexsample.basicにて、java.net.SocketException エラー</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00321.html">[pgsql-jp 19628] Re: 日付のdefault入力について</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00318.html">[pgsql-jp 19625] Re: JDBC 付属のexsample.basicにて、java.net.SocketException エラー</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00326.html">[pgsql-jp 19633] Re: JDBC 付属のexsample.basicにて、java.net.SocketExceptionエラー</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00320"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00320"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
