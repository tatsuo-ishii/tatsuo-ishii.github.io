<!-- MHonArc v2.1.0 -->
<!--X-Subject: [postgres95 685] Re: SQL int4 to float -->
<!--X-From: Tatsuo Ishii <t&#45;ishii@sra.co.jp> -->
<!--X-Date: Thu, 12 Sep 1996 10:47:43 +0900 -->
<!--X-Message-Id: 199609120147.KAA24002@srashc.sra.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.LNX.3.91LJ1.0.4.960911235506.1074E&#45;100000@penty.rccm.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[postgres95 685] Re: SQL int4 to float </TITLE>
<LINK REV="made" HREF="mailto:t-ishii@sra.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00052.html">Date Prev</A>][<A HREF="msg00057.html">Date Next</A>][<A HREF="msg00053.html">Thread Prev</A>][<A HREF="msg00041.html">Thread Next</A>][<A HREF="index.html#00056">Date Index</A>][<A HREF="threads.html#00056">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[postgres95 685] Re: SQL int4 to float</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Tatsuo Ishii &lt;<A HREF="mailto:t-ishii@sra.co.jp">t-ishii@sra.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Thu, 12 Sep 1996 10:47:43 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
石井＠SRAです。

&gt;桑村です。
&gt;
&gt;&gt; 皆様こんにちは。おみつ@Trampです。
&gt;&gt; 
&gt;&gt; どなた様か SQL上で型をキャストする方法を
&gt;&gt; ご存知ないでしょうか?
&gt;&gt; int4型のデータとfloat型のデータとの間の
&gt;&gt; 演算をしたいだけなのですが :-&lt;

&gt;  定数をキャストするのは('3.14'::float4 のように) :: 演算子を使うよう
&gt;なのですが、こう言った場合はやはり、float と int4 を引数にする関数を創っ
&gt;て、演算子の定義をするしか無いのでしょうかね。

そうだと思います。本家の ML で

&gt;Unfortunately, only literal constants can be casted with the :: operator
&gt;in Postgres95.  Robert is probably thinking of Illustra.
&gt;
&gt;There are no built-in * operators for int4 and float4.  You'll have to
&gt;define your own.   It's not too hard to do in postgres.
&gt;See the regression test (src/test/regress/create.source) for examples of
&gt;how to create user-defined functions and user-defined operators. 
&gt;
&gt;- Jolly

っていうコメントがありました。attribute とか、function を cast するこ
とはできないようです。(Illustra ではできるらしい)

こういう場合は、桑村さんのおっしゃるように、define operator で int4 と 
float4 の演算ができる関数を書くしかないんでしょうね。

あるいは、int4 を引数にとって、float4 を返すような function を定義して
もいいかもしれませんが。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00053" HREF="msg00053.html">[postgres95 682] Re: SQL int4 to float</A></STRONG>
<UL><LI><EM>From:</EM> Jun Kuwamura &lt;juk@rccm.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00052.html">[postgres95 681] Re: はじめま して</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00057.html">[postgres95 686] memmove?</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00053.html">[postgres95 682] Re: SQL int4 to float</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00041.html">[postgres95 670] platform</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00056"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00056"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
