<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 17996] why don't work EUC to SJIS encording. -->
<!--X-From: sft&#45;y.matumoto@p.mcits.mci.mei.co.jp (松本豊) -->
<!--X-Date: Fri, 06 Oct 2000 14:59:05 +0900 -->
<!--X-Message-Id: 200010060559.AA00842@sft&#45;matu.p.mcits.mci.mei.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 17996] why don't work EUC to SJIS encording. </TITLE>
<LINK REV="made" HREF="mailto:sft-y.matumoto@p.mcits.mci.mei.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00039.html">Date Prev</A>][<A HREF="msg00041.html">Date Next</A>][<A HREF="msg00047.html">Thread Prev</A>][<A HREF="msg00041.html">Thread Next</A>][<A HREF="index.html#00040">Date Index</A>][<A HREF="threads.html#00040">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 17996] why don't work EUC to SJIS encording.</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:sft-y.matumoto@p.mcits.mci.mei.co.jp">sft-y.matumoto@p.mcits.mci.mei.co.jp</A> (松本豊)</LI>
<LI><em>Date</em>: Fri, 06 Oct 2000 14:59:05 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
松本＠ネットリンクスです。

はじめまして。
今日このＭＬに入会（入リスト？）しました。
FreeBSD ユーザーで PostgreSQL は、最近勉強はじめたばかりです。
UNIX のことに付いては多少分かります。
こんな私ですがよろしくお願いします。

さて、さっそくで申し訳ないのですが漢字コードに関する質問です。
ある仕事で PHP3+PosgreSQL で試験環境を作っているのですが
ＤＢ上の EUC をSJIS で取り出すことが出来ません。
readme.mb.jp に従って

putenv( "PGCLIENTENCODING=sjis" ) ;

としてもだめで、

pg_exec( $con , "set client_encoding to 'sjis'; " ) ;

これもダメでした。
PHPの影響かと考えて kterm(Shift-JIS)上で psql でやってみました。

ymatsu[1004]~&gt; psql test 
Welcome to psql, the PostgreSQL interactive terminal.

Type:  \copyright for distribution terms
       \h for help with SQL commands
       \? for help on internal slash commands
       \g or terminate with semicolon to execute query
       \q to quit

test=&gt; select client_name from m_client ;
     client_name      
----------------------
 ConQuest TEST CLIENT
 (・リ・？)。ヲ・リ。・二。ヲ・へ。ヲ・Ｅ・Ｅ・テ。ヲ・ア
(2 rows)

test=&gt;  set  client_encoding to 'sjis';
SET VARIABLE
test=&gt; select client_name from m_client ;
     client_name      
----------------------
 ConQuest TEST CLIENT
 (M-)%M%C%H%j%s%/%9
(2 rows)

test=&gt; 

＃最初のselect の結果は、本当はいわゆる半角かなで出たのですがそのまま
＃メールに流すのはちょっとまずいので全角に置き換えています。
このように文字化けしてしまいます。文字化けの感じが違うので何らかの
変化があったようです。PHPでやった時も後者の化け方をします。

システム構成は、
FreeBSD 4.0Release 
PostgreSQL 7.0.2  ports システムでインストール
createdb test  は、引数なしで実行

会社で使っているマシン２台はこの状況なのですが、自宅のマシンは
同じく見合わせ（のはず）でちゃんとSJISにエンコードで来ます。
どの辺りをチェックしたら良いでしょうか？

#Web Page を見れない環境にいるので過去ログを沢山見れていません。
#コマンドで１０００通くらい取り寄せましたけど探せませんでした。



(有)ネットリンクス   松本豊
03-5363-2388 
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00041" HREF="msg00041.html">[pgsql-jp 17997] Re:why don't work EUC to SJIS encording.</A></STRONG>
<UL><LI><EM>From:</EM> sft-y.matumoto@p.mcits.mci.mei.co.jp (松本豊)</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00039.html">[pgsql-jp 17995] はじめて利用させてもらいますm(__)m</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00041.html">[pgsql-jp 17997] Re:why don't work EUC to SJIS encording.</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00047.html">[pgsql-jp 18003] Re: pgsql+php+apache 稼動時のhttpd.conf変更</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00041.html">[pgsql-jp 17997] Re:why don't work EUC to SJIS encording.</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00040"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00040"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
