<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 13896] RE:  pg_atoi again ? -->
<!--X-From: "konno" <jun_konno@email.msn.com> -->
<!--X-Date: Wed, 12 Apr 2000 10:33:31 +0900 -->
<!--X-Message-Id: 002801bfa41f$20d5fee0$d9b2a5d2@konno -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 13896] RE:  pg_atoi again ? </TITLE>
<LINK REV="made" HREF="mailto:jun_konno@email.msn.com">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00192.html">Date Prev</A>][<A HREF="msg00194.html">Date Next</A>][<A HREF="msg00198.html">Thread Prev</A>][<A HREF="msg00190.html">Thread Next</A>][<A HREF="index.html#00193">Date Index</A>][<A HREF="threads.html#00193">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 13896] RE:  pg_atoi again ?</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "konno" &lt;<A HREF="mailto:jun_konno@email.msn.com">jun_konno@email.msn.com</A>&gt;</LI>
<LI><em>Date</em>: Wed, 12 Apr 2000 10:33:31 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
今野＠ＳＥＳです。
ちょっと補足します。

ひらめさんが書かれました。
&gt;&gt;
&gt;&gt;COPY "orderformtbl" FROM stdin;
&gt;&gt;ERROR:  pg_atoi: error in "
&gt;&gt;": can't parse "
&gt;
&gt;これもnumutils.cのpg_atoiの68行目のメッセージだと思うのですが...
&gt;pg_atoiで68行目でエラーになる場合がなんか多いような気がするの
&gt;ですが...すこしCの本みながら考えてみます。
&gt;
小菅さんが書かれました。
&gt;pg_atoi 自体は、ASCII 文字列を数値に変換する関数で、
&gt;utils/adt/numutils.c にあります。atoi は、Ascii TO Integer
&gt;のことです。って「[pgsql-jp 13454] Re: ファイルのコピー」にも
&gt;書いてあります。

atoiの関数であれば、数値以外の文字列で走査を停止するバスです
ので, 1234a=&gt;1234  a1234=&gt;0 のような値を返します。
pg_atoiは実際はstrtol関数を使い、走査停止ポインタの文字（列）を
チェックしてNULL以外のとき上記エラーで返しています。
atoiと同等の機能がベターなのか、現行の機能がベターなのかは判断
しかねますが。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00192.html">[pgsql-jp 13895] Re:7.0beta3jdbcのmakeでエラー</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00194.html">[pgsql-jp 13897] Re: DATE型で追加質問です。</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00198.html">[pgsql-jp 13901] RE: [pgsql-jp 13897] Re: DATE型で追加質問です。</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00190.html">[pgsql-jp 13893] Postgre for Win32 ?</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00193"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00193"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
