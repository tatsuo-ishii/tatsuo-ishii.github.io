<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 21865] ¤ªÏÍ¤Ó¤È¤ªÎé¡£¡Ê¥Ñ¥¹¥ï¡¼¥ÉÇ§¾ÚDB¤Î¼«Æ°¥Ð¥Ã¥¯¥¢¥Ã¥×¤Ë¤Ä¤¤¤Æ¡Ë -->
<!--X-From: "¾®ºû¡¡´²À¸" <ozasa@dsr.ne.jp> -->
<!--X-Date: Mon, 18 Jun 2001 15:54:40 +0900 -->
<!--X-Message-Id: BJEGJDBGGIIBEOOMAGMKEEFACAAA.ozasa@dsr.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 21865] ¤ªÏÍ¤Ó¤È¤ªÎé¡£¡Ê¥Ñ¥¹¥ï¡¼¥ÉÇ§¾ÚDB¤Î¼«Æ°¥Ð¥Ã¥¯¥¢¥Ã¥×¤Ë¤Ä¤ </TITLE>
<LINK REV="made" HREF="mailto:ozasa@dsr.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00242.html">Date Prev</A>][<A HREF="msg00244.html">Date Next</A>][<A HREF="msg00268.html">Thread Prev</A>][<A HREF="msg00250.html">Thread Next</A>][<A HREF="index.html#00243">Date Index</A>][<A HREF="threads.html#00243">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 21865] ¤ªÏÍ¤Ó¤È¤ªÎé¡£¡Ê¥Ñ¥¹¥ï¡¼¥ÉÇ§¾ÚDB¤Î¼«Æ°¥Ð¥Ã¥¯¥¢¥Ã¥×¤Ë¤Ä¤¤¤Æ¡Ë</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "¾®ºû¡¡´²À¸" &lt;<A HREF="mailto:ozasa@dsr.ne.jp">ozasa@dsr.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Mon, 18 Jun 2001 15:54:40 +0900</LI>
<LI><em>Importance</em>: Normal</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
³§¤µ¤ó¤³¤ó¤Ë¤Á¤Ï¡£¾®ºû¤Ç¤¹¡£

¡ü³§ÍÍ¤Ø
ÀèÆü¤Ï¡¢³ÎÇ§¤Î¥á¡¼¥ë¤ò¤À¤·¤Æ¤·¤Þ¤¤¡¢¤¿¤¤¤Ø¤ó¿½¤·Ìõ¤¢¤ê¤Þ¤»¤ó¤Ç¤·¤¿¡£
¤ä¤Ï¤ê¡¢¼«Ê¬¤ÎÅÐÏ¿¤Î»ÅÊý¤¬°­¤¯¡¢³§ÍÍ¤Î¤ªÊÖ»ö¤Î¥á¡¼¥ë¤¬ÆÏ¤¤¤Æ¤ª¤ê¤Þ¤»¤ó¤Ç¤·
¤¿¡£
¤Ä¤¤Àè¤Û¤É¡¢Web¾å¤Ç¤ªÊÖ»ö¤¬¤¢¤Ã¤¿¤³¤È¤Ëµ¤¤¬ÉÕ¤­¤Þ¤·¤¿¡£
ºÆÅÙÅÐÏ¿¤ò¹Ô¤¤¡¢³§ÍÍ¤Î¥á¡¼¥ë¤¬¼«Ê¬¤ËÆÏ¤¤¤Æ¤¤¤ë¤Î¤ÇÀµ¤·¤¯ÅÐÏ¿¤µ¤ì¤¿¤È»×¤¤¤Þ
¤¹¡£
¤³¤Î¤¿¤Ó¤Ï¤¿¤¤¤Ø¤ó¿¼¤¯È¿¾Ê¤·¤Æ¤ª¤ê¤Þ¤¹¡£¤É¤¦¤¾º£¸å¤È¤â¤è¤í¤·¤¯¤ª´ê¤¤¤¤¤¿¤·¤Þ
¤¹¡£

¥á¡¼¥ë¤¬¼õ¤±¼è¤ì¤Ê¤«¤Ã¤¿¤Î¤Ç¡¢¤³¤Î¥á¡¼¥ë¤Ë¤Æ¤ªÊÖ»ö¤ò½ñ¤«¤»¤Æ¤¤¤¿¤À¤­¤Þ¤¹¡£
²ÃÆ£¡÷¥¢¥¹¥È¥í¥Ç¥¶¥¤¥óÍÍ¡¢¤ª¤´¤Á¤ã¤óÍÍ¡¢¤­¤·¤ÀÍÍ¡¢¤ï¤¶¤ï¤¶¤Î¤ªÊÖ»ö¤¢¤ê¤¬¤È¤¦
¤´¤¶¤¤¤Þ¤·¤¿¡£

¡üÅÄÂ¼ÍÍ¤Ø
¤ªÊÖ»ö¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Þ¤¹¡£
&gt;su - postgres -c 'pg_dump testdb | /usr/bin/gzip &gt;
/home/postgres/testdb.gz'
¤È¤·¤¿¾ì¹ç¡¢localhost¤âcryptÀßÄê¤·¤Æ¤¤¤ë¤Î¤Ç¡¢¤ä¤Ï¤ê¤À¤á¤Ç¤·¤¿¡£
¡ÊÍýÍ³¤¢¤Ã¤Æ¡¢localhost¤«¤é¤âÇ§¾Ú¥Ñ¥¹¥ï¡¼¥ÉÀßÄê¤·¤Æ¤¤¤Þ¤¹¡Ë

¡üÅìÍÍ¤Ø
¤ªÊÖ»ö¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Þ¤¹¡£
&gt;PGUSER=[¥æ¡¼¥¶¡¼Ì¾]
&gt;PGPASSWORD=[¥Ñ¥¹¥ï¡¼¥É]
&gt;PGDATABASE=[¥Ç¡¼¥¿¡Ý¥Ù¡¼¥¹]
&gt;export PGUSER PGPASSWORD PGDATABASE
¡£¡£¡£¤¹¤ß¤Þ¤»¤ó¡¢¾åµ­¤ÎÊýË¡¤Ç¤É¤¦¤Ê¤ë¤Î¤«¡¢¤Þ¤À¤Þ¤ÀÌ¤½Ï¤Ç¤è¤¯¤ï¤«¤é¤Ê¤¤¤Î¤Ç
¤¹¤¬¡¢¾åµ­¤òcrontab¤Ëµ­½Ò¤·¡¢
cron.hourly¤Ë¥·¥§¥ë¥¹¥¯¥ê¥×¥È¤Çpg_dump¥³¥Þ¥ó¥É¤Î¼Â¹Ô¤òºîÀ®¤·¤¿¤Î¤Ç¤¹¤¬¡¢¤¦¤Þ
¤¯¤¤¤­¤Þ¤»¤ó¤Ç¤·¤¿¡£
²¿¤«ÊýË¡¤¬°­¤¤¤Î¤Ç¤·¤ç¤¦¤«¡©
¢ªsu - postgres -c '/usr/local/pgsql/bin/pg_dump -u testdb | /usr/bin/gzip &gt;
/home/postgres/testdb.gz'

¡ü²ò·èÊýË¡¤¬¤ß¤Ä¤«¤ê¤Þ¤·¤¿¡£¡Ê¼ÁÌä¤·¤Æ¤ª¤¤¤Æ¡¢¤´¤á¤ó¤Ê¤µ¤¤¡Ë
¤¤¤í¤¤¤íÄ´¤Ù¤Æ¤¤¤ë¤¦¤Á¤Ë¡¢expect¤È¤¤¤¦¥³¥Þ¥ó¥É¤ò¸«¤Ä¤±¤Þ¤·¤¿¡£
¤³¤ì¤Ë¤è¤ê¡¢cron.hourly¤Ë°Ê²¼¤Î¥Õ¥¡¥¤¥ë¤òºîÀ®¤·¤¿¤é¡¢°ì±þ¤ä¤ê¤¿¤¤¤³¤È¤¬¤Ç¤­
¤Þ¤·¤¿¡£
¡ã¤³¤³¤«¤é¡ä
#!/usr/bin/expect
spawn su - postgres -c "/usr/local/pgsql/bin/pg_dump -u testdb |
/usr/bin/gzip &gt; /home/postgres/testdb.gz"
expect "Username: "
send "¥æ¡¼¥¶¡¼Ì¾\r"
expect "Password:"
send "¥Ñ¥¹¥ï¡¼¥É\r"
expect eof
¡ã¤³¤³¤Þ¤Ç¡ä

º£²ó¤ÏËÜÅö¤Ë¤´ÌÂÏÇ¤ò¤ª¤«¤±¤·¤Þ¤·¤¿¡£°ì±þ¡¢²ò·èºö¤¬¸«¤Ä¤«¤ê¤Þ¤·¤¿¡£
¤â¤·Â¾¤ËÎÉ¤¤ÊýË¡¤¬¤¢¤ì¤Ð¡¢¤´¶µ¼ø¤ò¤ª´ê¤¤¤¤¤¿¤·¤Þ¤¹¡£


**************************************************
¾®ºû¡¡´²À¸(Kansei Ozasa)
Email¡§ozasa@dsr.ne.jp
**************************************************
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00250" HREF="msg00250.html">[pgsql-jp 21872] Re: ¤ªÏÍ¤Ó¤È¤ªÎé¡£¡Ê¥Ñ¥¹¥ï¡¼¥ÉÇ§¾ÚDB¤Î¼«Æ°¥Ð¥Ã¥¯¥¢¥Ã¥×¤Ë¤Ä¤¤¤Æ¡Ë</A></STRONG>
<UL><LI><EM>From:</EM> Tsuyoshi SASAMOTO &lt;sasamoto@e-vision.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00242.html">[pgsql-jp 21863] Re: psql ¤Î¥»¥Ñ¥ì¡¼¥¿¤Ë¤Ä¤¤¤Æ</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00244.html">[pgsql-jp 21866] Re: ÆüËÜ¸ì¸¡º÷</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00268.html">[pgsql-jp 21890] Re: ÆüËÜ¸ì¸¡º÷</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00250.html">[pgsql-jp 21872] Re: ¤ªÏÍ¤Ó¤È¤ªÎé¡£¡Ê¥Ñ¥¹¥ï¡¼¥ÉÇ§¾ÚDB¤Î¼«Æ°¥Ð¥Ã¥¯¥¢¥Ã¥×¤Ë¤Ä¤¤¤Æ¡Ë</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00243"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00243"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
