<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 7667] Re: Postmaster DOWN -->
<!--X-From: HIROSE Masaaki <hirose31@t3.rim.or.jp> -->
<!--X-Date: Tue, 23 Mar 1999 16:43:25 +0900 -->
<!--X-Message-Id: v0401012eb31cf696acd7@t3.rim.or.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199903230657.PAA00979@srapc451.sra.co.jp -->
<!--X-Reference-Id: 19990323160215K.uchida@yrd.suzuki.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 7667] Re: Postmaster DOWN </TITLE>
<LINK REV="made" HREF="mailto:hirose31@t3.rim.or.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00419.html">Date Prev</A>][<A HREF="msg00421.html">Date Next</A>][<A HREF="msg00418.html">Thread Prev</A>][<A HREF="msg00421.html">Thread Next</A>][<A HREF="index.html#00420">Date Index</A>][<A HREF="threads.html#00420">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 7667] Re: Postmaster DOWN</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: HIROSE Masaaki &lt;<A HREF="mailto:hirose31@t3.rim.or.jp">hirose31@t3.rim.or.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 23 Mar 1999 16:43:25 +0900</LI>
<LI><em>References</em>: Your message of "Tue, 23 Mar 1999 15:57:28 +0900"&lt;<A HREF="msg00417.html">199903230657.PAA00979@srapc451.sra.co.jp</A>&gt;&lt;<A HREF="msg00417.html">199903230657.PAA00979@srapc451.sra.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

ひろせといいます

Uchida Hitoshiさんが 99.3.23 4:02 PM +0900 頃
『[pgsql-jp 7665] Re: Postmaster DOWN』について書きました

&gt; FreeBSD だと pstat -T で確認できるんですけど、Linux は pstat 無いですか
&gt; らねぇ。なんか確認する手段って無いものでしょうか？

kernel 2.0.x ならば
    $ cat /proc/sys/kernel/file-nr   

で、
2.2.x ならば
    $ cat /proc/sys/fs/file-nr

で確認できます。
# 2.0.35 と 2.2.3 で確認。

また、2.2.x の場合 file-nr で

1425    75      4096 

と 3 つ表示されますが、/usr/src/linux/Documentation/proc.txt によれば
左から順に

the number of allocated file handles
the number of used file handles
the maximum number of file handles

だそうです。
# 2.2.x ではデフォルトで file-max は 4096 のようです。

それから proc.txt によれば、

   However, there is still a per process limit of open files, which
   unfortunatly can't be changed that easily. It is set to 1024 by
   default. To change this you have to edit the files limits.h and
   fs.h in the directory /usr/src/linux/include/linux. Change the
   definition of NR_OPEN and recompile the kernel.

だそうです。

-- 
ひろせ まさあき
  WWW: <A HREF="http://www.t3.rim.or.jp/%7Ehirose31/">http://www.t3.rim.or.jp/%7Ehirose31/</A>
  PGP: <A HREF="http://pgp.nic.ad.jp/cgi-bin/pgpsearchkey.pl?op=get">http://pgp.nic.ad.jp/cgi-bin/pgpsearchkey.pl?op=get</A>&amp;search=0xE097F8D1
  FP : 3332 2EFF C195 F9F2  2ABF BC6F 028E 48EA
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00421" HREF="msg00421.html">[pgsql-jp 7676] Re: Postmaster DOWN</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00417" HREF="msg00417.html">[pgsql-jp 7664] Re: Postmaster DOWN</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00418" HREF="msg00418.html">[pgsql-jp 7665] Re: Postmaster DOWN</A></STRONG>
<UL><LI><EM>From:</EM> uchida@yrd.suzuki.co.jp (Uchida Hitoshi)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00419.html">[pgsql-jp 7666] RE:serialで得たユニーク番号をinsert時に得る方法</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00421.html">[pgsql-jp 7676] Re: Postmaster DOWN</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00418.html">[pgsql-jp 7665] Re: Postmaster DOWN</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00421.html">[pgsql-jp 7676] Re: Postmaster DOWN</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00420"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00420"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
