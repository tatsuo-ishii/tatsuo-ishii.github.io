<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 9457] RE: How To PSQL Default Encoding set?  Win&#45;NT4 environment. -->
<!--X-From: "Hiroshi Saito" <saito@inetrt.skcapi.co.jp> -->
<!--X-Date: Fri, 16 Jul 1999 08:51:15 +0900 -->
<!--X-Message-Id: 006c01becf1c$ed5f9210$01324d80@win&#45;nt4.skcapi.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 9457] RE: How To PSQL Default Encoding set?  Win-NT4 environme </TITLE>
<LINK REV="made" HREF="mailto:saito@inetrt.skcapi.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00260.html">Date Prev</A>][<A HREF="msg00262.html">Date Next</A>][<A HREF="msg00283.html">Thread Prev</A>][<A HREF="msg00248.html">Thread Next</A>][<A HREF="index.html#00261">Date Index</A>][<A HREF="threads.html#00261">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 9457] RE: How To PSQL Default Encoding set?  Win-NT4 environment.</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: "Hiroshi Saito" &lt;<A HREF="mailto:saito@inetrt.skcapi.co.jp">saito@inetrt.skcapi.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 16 Jul 1999 08:51:15 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
斉藤＠新生開発です。
片岡さん、どうもありがとうございます。m(__)m

&gt;−−−−ここから−−−−
&gt;diff -rc src.orig/interfaces/libpq/fe-connect.c
&gt;src/interfaces/libpq/fe-connect.c
&gt;*** src.orig/interfaces/libpq/fe-connect.c Wed May 26 16:07:33 1999
&gt;--- src/interfaces/libpq/fe-connect.c Fri Jul 16 00:27:52 1999
&gt;***************
&gt;*** 815,820 ****
&gt;--- 815,824 ----
&gt;  env = getenv(envname);
&gt;  if (!env || *env == '\0')
&gt;  {
&gt;+ #ifdef WIN32
&gt;+ sprintf(envbuf, "%s=%s", envname, MULTIBYTE);
&gt;+ putenv(envbuf);
&gt;+ #else
&gt;  rtn = PQexec(conn, "select getdatabaseencoding()");
&gt;  if (rtn &amp;&amp; PQresultStatus(rtn) == PGRES_TUPLES_OK)
&gt;  {
&gt;***************
&gt;*** 832,837 ****
&gt;--- 836,842 ----
&gt;  sprintf(envbuf, "%s=%s", envname, pg_encoding_to_char(MULTIBYTE));
&gt;  putenv(envbuf);
&gt;  }
&gt;+ #endif
&gt;  }
&gt;  #endif
※実は、ここにも同じように強引にputenvしてやっているのですがうまくいかないんで
す。
すごい不思議なんですがstaticにlibをリンクするとだめになるようなんです。
問題はこのリンクのようなのでもう少し調べてやってみます。

片岡さん、いつも深夜までご苦労様です。どうぞ、お体に気を付けてください。(^.^)

------------------------------------------
Ｓ．Ｋ．Ｃ 新生開発株式会社
ＯＡ事業部  斉藤 浩  Mail:  saito@mail.skcapi.co.jp
------------------------------------------
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00260.html">[pgsql-jp 9456] Re: ★機能比較★　Oracle等既存DB MSとの比較</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00262.html">[pgsql-jp 9458] Re: ★機能比較★　Oracle 等既存DBMS との比較</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00283.html">[pgsql-jp 9480] Re: [Q] combination of fulltext search and PostgreSQL</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00248.html">[pgsql-jp 9444] インストールの質問</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00261"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00261"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
