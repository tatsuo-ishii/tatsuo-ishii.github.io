<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 9635] Re: pgbash -->
<!--X-From: Naofumi Kondoh <nkon@shonan.ne.jp> -->
<!--X-Date: Sun, 25 Jul 1999 09:55:04 +0900 -->
<!--X-Message-Id: 379A6068280.537DNKON@mail.shonan.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 37997EEB28A.902ESAKAIDA@mail.psn.ne.jp -->
<!--X-Reference-Id: 199907241234.VAA16716@mail.cx.airnet.ne.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 9635] Re: pgbash </TITLE>
<LINK REV="made" HREF="mailto:nkon@shonan.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00437.html">Date Prev</A>][<A HREF="msg00439.html">Date Next</A>][<A HREF="msg00436.html">Thread Prev</A>][<A HREF="msg00440.html">Thread Next</A>][<A HREF="index.html#00438">Date Index</A>][<A HREF="threads.html#00438">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 9635] Re: pgbash</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Naofumi Kondoh &lt;<A HREF="mailto:nkon@shonan.ne.jp">nkon@shonan.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Sun, 25 Jul 1999 09:55:04 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00435.html">37997EEB28A.902ESAKAIDA@mail.psn.ne.jp</A>&gt; &lt;<A HREF="msg00436.html">199907241234.VAA16716@mail.cx.airnet.ne.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
ソフト工房の近藤です。

pgbash すごいものができそうですね。楽しみにしてます。

bash のソースをいじれるような技術力はないですが、
人柱くらいにはなりますので、テスト版できたら試させて
ください。
＃私、Shell Script 大好き人間で、メニューとか簡単な
＃DB検索など、殆ど Shell Script で書いてます。

On 24 Jul 1999 21:31:30 +0900
KUBO Takehiro &lt;kubo-t@cx.airnet.ne.jp&gt; wrote:

&gt; 久保＠伊勢原市(引越し予定)です。

。。。。。略。。。。。

&gt; 標準の組み込み SQL の構文とははずれますが、fetch が複数行返すときは、
&gt; シェル変数は配列変数としてあつかって、
&gt;    ROW1[0], ROW2[0]
&gt;    ROW1[1], ROW2[1]
&gt; ですか？

個人的希望としては、Embeded SQL 構文通りに、ループ
の中で、１行(ROW)単位にシェル変数に入れてくれた方
が嬉しい。

複数行一括処理するときは、ファイルに落して、sed と
か、テキストファイル処理した方が便利そうだし、shell
から使うときは、１行単位で、何かのロジックをいれる
ことが多いと思うので、行(ROW)単位の処理の方がいい
ように思いますが、如何。
特に、PostgreSQL は、OUTER JOIN ができないので、１
行 fetch するたびに、関連表を SELECT して、U/M だ
ったら、NULL とか、空白などを入れるという処理を書き
たい。

ところで、NULL は、シェル変数に何を入れますか？
空 ( val=""; ) でいいかな。

。。。。略。。。。

&gt; 私は、埋め込み SQL はオラクルの Pro*C しか知らないんだけど、
&gt;    exec_sql whenever sqlerror do pgerrormessage
&gt;    exec_sql whenever not found continue
&gt; をデフォルトにして、ユーザが、
&gt;    exec_sql whenever sqlerror do 任意のコマンド
&gt; と変更できるようにするとか。
&gt; # 可能かどうかは検証してない。

exec_sql を実行する都度、STATUS を返して、0 でな
ければ、エラー又は警告という方が、使やすいと思い
ます。好みの問題かもしれませんが、私は、WHENEVER
は、使ったことがないです。あれは、COBOL の埋め込
み SQL 専用命令かと思ってたけど、C で使っている人
も多いのかな？。


bash のソースコードをみたこともないので、見当違い
の発言がありましたら、お教えください。

_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
 (株)ソフト工房 近藤直文 Email:  nkon@shonan.ne.jp 
          <A HREF="http://www.shonan.ne.jp/~nkon/">http://www.shonan.ne.jp/~nkon/</A>
_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00440" HREF="msg00440.html">[pgsql-jp 9637] Re: pgbash</A></STRONG>
<UL><LI><EM>From:</EM> KUBO Takehiro &lt;kubo-t@cx.airnet.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00435" HREF="msg00435.html">[pgsql-jp 9632] Re: pgbash</A></STRONG>
<UL><LI><EM>From:</EM> SAKAIDA　Masaaki &lt;sakaida@psn.ne.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00436" HREF="msg00436.html">[pgsql-jp 9633] Re: pgbash</A></STRONG>
<UL><LI><EM>From:</EM> KUBO Takehiro &lt;kubo-t@cx.airnet.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00437.html">[pgsql-jp 9634] Re: "postgres is dead" の問題 について</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00439.html">[pgsql-jp 9636] PHP 4.0b1</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00436.html">[pgsql-jp 9633] Re: pgbash</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00440.html">[pgsql-jp 9637] Re: pgbash</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00438"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00438"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
