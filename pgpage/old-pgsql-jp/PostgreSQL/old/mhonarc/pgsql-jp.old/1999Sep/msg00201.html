<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 10703] Re: 2 Postmaster and same nfs data directory -->
<!--X-From: Junji Shiokawa <junji@fork.co.jp> -->
<!--X-Date: Mon, 13 Sep 1999 07:57:50 +0900 (JST) -->
<!--X-Message-Id: 19990913075750S.junji@fork.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 37D7459E2D.57B9YUTAKA@malgate.marin.or.jp -->
<!--X-Reference-Id: 199909091228.VAA03999@ext16.sra.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 10703] Re: 2 Postmaster and same nfs data directory </TITLE>
<LINK REV="made" HREF="mailto:junji@fork.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00200.html">Date Prev</A>][<A HREF="msg00202.html">Date Next</A>][<A HREF="msg00157.html">Thread Prev</A>][<A HREF="msg00203.html">Thread Next</A>][<A HREF="index.html#00201">Date Index</A>][<A HREF="threads.html#00201">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 10703] Re: 2 Postmaster and same nfs data directory</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Junji Shiokawa &lt;<A HREF="mailto:junji@fork.co.jp">junji@fork.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Mon, 13 Sep 1999 07:57:50 +0900 (JST)</LI>
<LI><em>References</em>: &lt;<A HREF="msg00118.html">37D7459E2D.57B9YUTAKA@malgate.marin.or.jp</A>&gt;&lt;<A HREF="msg00134.html">199909091228.VAA03999@ext16.sra.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
塩川と申します。
複数のpostmasterが一つのNFSマウントされたデータディレクトリを共有できるかの
質問者です。多くの方々から返答をいただきまして、ありがとうございました。

From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Subject: [pgsql-jp 10636] Re: 2 Postmaster and same nfs data directory 
Date: Thu, 09 Sep 1999 21:28:16 +0900

 &gt;石井です。
 &gt;
 ...中略...
 &gt;
 &gt;余談その2:
 &gt;私の経験から言うと、単にパフォーマンスを上げたいのなら、(1)メモリを山
 &gt;程積む、(2)SMP にする、というのが効果あります。特に Linux ではメモリが
 &gt;余っていればあるだけキャッシュに使うので、効果絶大です。DBがメモリサイ
 &gt;ズより大きいか小さいかで、数倍性能が変わることもあります。

 現在稼働しているCGIは参照・更新を含むもので、当初Perlでスクリプトを書いて
 いたのですが、あまりにパフォーマンスが悪い状態でした。現在はCで書いたもの
 を動かしていますが、それでもultra2 x 3 + NFS serverのレスポンスはあまりよ
 くないので、上記の構成を思い付いた次第です。

 |ultra2|    |ultra2|   |ultra2|       |NFS|
  httpd       httpd      httpd          data
                         postmaster
 
 ただ、ハード関連でパフォーマンスをあげるのはやんどころなき事情で予算がとれ
 ません。上記の構成をPostgreSQLで実現するのはまだむづかしそうなので、将来に
 期待するとして、今回は下記の対策をもって再度トライしてみます。

 1. じつはまだ6.3.2なので、6.5.1にする
 2. CGIの問い合わせを見直す。
 
 以上、ありがとうございました。
 

----
pid_t fork( junji);
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00203" HREF="msg00203.html">[pgsql-jp 10705] Re: 2 Postmaster and same nfs data directory</A></STRONG>
<UL><LI><EM>From:</EM> Norio Kasahara &lt;kasa@air.linkclub.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00118" HREF="msg00118.html">[pgsql-jp 10620] Re: 2 Postmaster and same nfs data directory</A></STRONG>
<UL><LI><EM>From:</EM> yutaka tanida &lt;yutaka@marin.or.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00134" HREF="msg00134.html">[pgsql-jp 10636] Re: 2 Postmaster and same nfs data directory</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00200.html">[pgsql-jp 10702] Re: geometric のgeometric_intersect とgeometric_same について</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00202.html">[pgsql-jp 10704] 新規入会させていただきました。</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00157.html">[pgsql-jp 10659] Re: 2 Postmaster and same nfs data directory</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00203.html">[pgsql-jp 10705] Re: 2 Postmaster and same nfs data directory</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00201"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00201"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
