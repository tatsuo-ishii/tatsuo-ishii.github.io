<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 8915] Re: =?us&#45;ascii?Q?IpcSemaphoreCrea?=te　Errorがでます。お助けを。。。。 -->
<!--X-From: fwif0083@mb.infoweb.ne.jp -->
<!--X-Date: Thu, 17 Jun 1999 22:23:17 +0900 -->
<!--X-Message-Id: 19990617222317B.fwif0083@mb.infoweb.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 003601beb864$bc343110$5334f8d2@tao2.taknet.co.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 8915] Re: IpcSemaphoreCreate　Errorがでます。お助けを。。。。 </TITLE>
<LINK REV="made" HREF="mailto:fwif0083@mb.infoweb.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00348.html">Date Prev</A>][<A HREF="msg00351.html">Date Next</A>][<A HREF="msg00348.html">Thread Prev</A>][<A HREF="msg00328.html">Thread Next</A>][<A HREF="index.html#00349">Date Index</A>][<A HREF="threads.html#00349">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 8915] Re: IpcSemaphoreCreate　Errorがでます。お助けを。。。。</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:fwif0083@mb.infoweb.ne.jp">fwif0083@mb.infoweb.ne.jp</A></LI>
<LI><em>Date</em>: Thu, 17 Jun 1999 22:23:17 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00331.html">003601beb864$bc343110$5334f8d2@tao2.taknet.co.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
大橋さん、
本田です。

From: "K_Ohashi" &lt;research9821@iname.com&gt;
Subject: [pgsql-jp 8897] IpcSemaphoreCreate　Errorがでます。お助けを。。。。
Date: Thu, 17 Jun 1999 10:57:13 +0900

&gt; set semsys:seminfo_semmsl = 5
&gt; set semsys:seminfo_semmni = 70
&gt; set semsys:seminfo_semmns = 200
&gt; set shmsys:shminfo_shmmin = 1
&gt; set shmsys:shminfo_shmseg = 10
&gt; set shmsys:shminfo_shmmax = 4194304
&gt; set shmsys:shminfo_shmmni = 100

数日前に、青木様が紹介されていた、sysdefコマンドで確認されては
どうでしょうか？
私のマシンでは、以下の値になりました。

* IPC Semaphores
*
    10  entries in semaphore map (SEMMAP)
    10  semaphore identifiers (SEMMNI)
    60  semaphores in system (SEMMNS)
    30  undo structures in system (SEMMNU)
    25  max semaphores per id (SEMMSL)
    10  max operations per semop call (SEMOPM)
    10  max undo entries per process (SEMUME)
 32767  semaphore maximum value (SEMVMX)
 16384  adjust on exit max value (SEMAEM)

AnswerBookによると、上はデフォルト値でした。

/etc/systemは、shminfo_shmmaxをいじっているだけです。

% grep -v '^$' /etc/system | grep -v '^*'
set shmsys:shminfo_shmmax=1597152
でした。

/etc/systemに
exclude: sys/semsys
があると、セマフォが使えなくなる(かもしれない…)
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00331" HREF="msg00331.html">[pgsql-jp 8897] IpcSemaphoreCreate　Errorがでます。お助けを。。。。</A></STRONG>
<UL><LI><EM>From:</EM> "K_Ohashi" &lt;research9821@iname.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00348.html">[pgsql-jp 8914] Re: IpcSemaphoreCreate　Errorがでます。お助けを。。。。</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00351.html">[pgsql-jp 8917] Re: 68kでout ofmemory?</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00348.html">[pgsql-jp 8914] Re: IpcSemaphoreCreate　Errorがでます。お助けを。。。。</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00328.html">[pgsql-jp 8894] PostgreSQL 6.5 Regress and Bench on FreeBSD2.2.8</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00349"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00349"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
