<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 3359] input a lot of data -->
<!--X-From: Kazuyoshi UESAKA <uesaka@mk.ecei.tohoku.ac.jp> -->
<!--X-Date: Tue, 17 Feb 1998 15:37:21 +0900 -->
<!--X-Message-Id: 19980217153721Q.uesaka@mk.ecei.tohoku.ac.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 3359] input a lot of data </TITLE>
<LINK REV="made" HREF="mailto:uesaka@mk.ecei.tohoku.ac.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00049.html">Date Prev</A>][<A HREF="msg00051.html">Date Next</A>][<A HREF="msg00051.html">Thread Prev</A>][<A HREF="msg00057.html">Thread Next</A>][<A HREF="index.html#00050">Date Index</A>][<A HREF="threads.html#00050">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 3359] input a lot of data</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Kazuyoshi UESAKA &lt;<A HREF="mailto:uesaka@mk.ecei.tohoku.ac.jp">uesaka@mk.ecei.tohoku.ac.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 17 Feb 1998 15:37:21 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

上坂＠東北大です. 
みなさんはたくさんのデータの入力はどのように行っているのでしょ
うか. 

今, 私が入力しようとしているデータは, 一度 Perl で処理を処理
をする必要があります. せっかく Perl を使っているのだからと思
い, Pg パッケージをインストールして, 1つのデータごとに 
insert 命令を作成して $conn-&gt;exec($query); で入力を試みまし
た. ここで,  $conn = Pg::connectdb("dbname = mydb"); であり,
$query は insert 命令です. 

Sun SPARCStation IPX でこのスクリプトを動かしたところ, 1日たっ
ても入力は終わりませんでした. (丸1日HDDを動かしたのでいい耐
久テストとなりました(^^;)) データ数は約60万個です. 

60万回の open と close を繰り返しているわけなので, 終わらな
いのは当然です. そこで, 他の方法はないかと考えています. 

そこで, 一旦 tmp file を作って, copy コマンドを使うのが現実
的かなと思っているのですが, tmp fileが巨大になってしまいます.
データをある程度の量でブロック化して, 1万個ごとに copy を使
う方法でもいいのではとも考えています. 

他に何かいい方法はないでしょうか. 

&gt; (Kazuyoshi UESAKA)
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00060" HREF="msg00060.html">[pgsql-jp 3369] Re: input a lot of data</A></STRONG>
<UL><LI><EM>From:</EM> Yo Okumura &lt;okumura@rsl.crl.fujixerox.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00057" HREF="msg00057.html">[pgsql-jp 3366] Re:input a lot of data</A></STRONG>
<UL><LI><EM>From:</EM> Toru Aiba &lt;taiba@ca2.so-net.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00049.html">[pgsql-jp 3358] 自己紹介</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00051.html">[pgsql-jp 3360] [Q] Databese does not exist in pg_database</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00051.html">[pgsql-jp 3360] [Q] Databese does not exist in pg_database</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00057.html">[pgsql-jp 3366] Re:input a lot of data</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00050"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00050"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
