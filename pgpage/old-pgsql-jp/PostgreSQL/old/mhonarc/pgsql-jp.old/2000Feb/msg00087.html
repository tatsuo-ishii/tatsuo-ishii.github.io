<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 13047] RE:［Ｑ］長い  view  が作成できません -->
<!--X-From: 中西 真一 <shinichi@synox.co.jp> -->
<!--X-Date: Fri, 4 Feb 2000 11:22:55 +0900  -->
<!--X-Message-Id: 406AB491638ED311921600805FA9800804C5A0@LEO -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 13047] RE:［Ｑ］長い  view  が作成できません </TITLE>
<LINK REV="made" HREF="mailto:shinichi@synox.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00086.html">Date Prev</A>][<A HREF="msg00088.html">Date Next</A>][<A HREF="msg00092.html">Thread Prev</A>][<A HREF="msg00086.html">Thread Next</A>][<A HREF="index.html#00087">Date Index</A>][<A HREF="threads.html#00087">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 13047] RE:［Ｑ］長い  view  が作成できません</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: 中西 真一 &lt;<A HREF="mailto:shinichi@synox.co.jp">shinichi@synox.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Fri, 4 Feb 2000 11:22:55 +0900 </LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
中西です。

&gt; { TARGETENTRY :resdom { RESDOM :resno 1 :restype 1043 :restypmod 132 :
&gt; resname \"field_1\" :reskey 0 :reskeyop 0 :resgroupref 0 :resjunk
&gt; false } :expr { VAR :varno 3 :varattno 1 :vartype 1043 
&gt; :vartypmod 132 :
&gt; varlevelsup 0 :varnoold 3 :varoattno 1}}
&gt; (これがfield_1の分)
&gt; 
&gt; { TARGETENTRY :resdom { RESDOM :resno 2 :restype 1043 :restypmod 14 :
&gt; resname \"field_2\" :reskey 0 :reskeyop 0 :resgroupref 0 :resjunk
&gt; false } :expr { VAR :varno 3 :varattno 2 :vartype 1043 :vartypmod 14 :
&gt; varlevelsup 0 :varnoold 3 :varoattno 2}}
&gt; (これがfield_2の分)
&gt; 
&gt; てな具合で、莫大な量の文字列(実際には全部つながっていて、一つの文字列)
&gt; が延々と続きます。この調子でやられちゃ、とてもじゃない
&gt; ですがちょっとフィー
&gt; ルド数が増えてしまえば簡単に8Kちょいの制限なんて越えてしまいますね。
&gt; 
&gt; たとえフィールド名を短くした所で、焼け石に水なのは上記の例を見れば火を
&gt; 見るより明らかです。
&gt; 
&gt; ちなみに、この時のqualbufの中身は"&lt;&gt;"だけの2文字です。
&gt; 
&gt; というわけで、私が先日書いた「フィールド名短くして済むなら…」ってのは
&gt; ほとんど嘘です。
&gt; 
&gt; この問題が生じた時にフィールド名長をいじって済むのは制限ギリギリの所で
&gt; 綱渡りをしている時だけの話で、ほとんどの場合はViewに含まれるフィールド
&gt; 数を減らすか、BLCKSZを増やしてサーバを再コンパイルしなければ問題は解決
&gt; しないでしょう。

なるほど、そうでしたか。
私の場合は今回項目名を変更して提示させていただいたテーブルに、
さらにいくつかのテーブルを結合する必要があるので、BLCKSZを
増やすしかないのでしょうね。

ちょうど製品のバージョンアップということでＤＢ設計や環境のバージョン
などを含めて再検討していたので、この際そうしてしまおうと思います。

どうも、とても参考になりました。谷山さん、ありがとうございます。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00086.html">[pgsql-jp 13046] Re: トランザクションからマスター突き合せ？</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00088.html">[pgsql-jp 13048] Re: Postmasterが起動しない</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00092.html">[pgsql-jp 13052] Re: トランザクションからマスター突き合せ？</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00086.html">[pgsql-jp 13046] Re: トランザクションからマスター突き合せ？</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00087"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00087"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
