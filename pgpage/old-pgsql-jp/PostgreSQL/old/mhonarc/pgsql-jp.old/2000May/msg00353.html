<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 14642] Re: apache_logging -->
<!--X-From: Yoshihiro Hanahara <hanahara@meiko.co.jp> -->
<!--X-Date: Sat, 20 May 2000 16:40:40 +0900 -->
<!--X-Message-Id: 200005200740.QAA23145@sakura.meiko.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 39234A992D0.DDD1SATOU@mx1.osk.3web.ne.jp -->
<!--X-Reference-Id: 20000518132520Y.t&#45;ishii@sra.co.jp -->
<!--X-Reference-Id: 392635F13DE.DC41GONZALO@po.jah.ne.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 14642] Re: apache_logging </TITLE>
<LINK REV="made" HREF="mailto:hanahara@meiko.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00352.html">Date Prev</A>][<A HREF="msg00354.html">Date Next</A>][<A HREF="msg00352.html">Thread Prev</A>][<A HREF="msg00437.html">Thread Next</A>][<A HREF="index.html#00353">Date Index</A>][<A HREF="threads.html#00353">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 14642] Re: apache_logging</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Yoshihiro Hanahara &lt;<A HREF="mailto:hanahara@meiko.co.jp">hanahara@meiko.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Sat, 20 May 2000 16:40:40 +0900</LI>
<LI><em>References</em>: &lt;<A HREF="msg00294.html">39234A992D0.DDD1SATOU@mx1.osk.3web.ne.jp</A>&gt;&lt;<A HREF="msg00297.html">20000518132520Y.t-ishii@sra.co.jp</A>&gt;&lt;<A HREF="msg00352.html">392635F13DE.DC41GONZALO@po.jah.ne.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
花原@明宏です。


In &lt;<A HREF="msg00352.html">392635F13DE.DC41GONZALO@po.jah.ne.jp</A>&gt;,
Yuki Kamata &lt;gonzalo@jazz.ne.jp&gt; wrote:

&gt; Apacheのaccess_logをPostgreSQLに格納しようと思い、
&gt; PostgreSQL付属のapache_loggingの通りに以下の通りに
&gt; httpd.confに追記し、PostgreSQLにテーブルを作成し、
&gt; Apacheを再起動しました。
&gt;
&gt; LogFormat "insert into access values ( '%h', '%l', '%u', '%{%d/%b/%Y:%H:%M:%S}t, '%r', %T, %s, %b );"
&gt;
&gt; TransferLog '| su -c "sed \"s/, - );$/, -1 );/\" | /opt/NSUG98/pgsql/bin/psql www_log" nobody'
&gt;
&gt;
&gt;
&gt; ところが、Apacheのerror_logに以下のようなエラーメッセージが
&gt; 出ます。
&gt;
&gt; su: ID が正しくありません: sed "s/, - );$/, -1 );/" | /opt/NSUG98/pgsql/bin/psql
&gt; www_log

suのところですが、

 TransferLog '| su nobody -c "sed \"s/, - );$/, -1 );/\" | /opt/NSUG98/pgsql/bin/psql www_log"'

ということはないでしょうか?
FreeBSDの場合、suは

     su [-Kflm] [-c class] [login_user [shell_args]]

という書式です。login_userとshell_argsの部分が逆になっているのではないでしょうか?


# NSUG98ということは、SunOS(^_^;)?

---
hanahara@meiko.co.jp (Yoshihiro Hanahara)
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00437" HREF="msg00437.html">[pgsql-jp 14726] Re: apache_logging</A></STRONG>
<UL><LI><EM>From:</EM> Yuki Kamata &lt;gonzalo@jazz.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00294" HREF="msg00294.html">[pgsql-jp 14583] Re: SJISコードテストプログラムを公開しました</A></STRONG>
<UL><LI><EM>From:</EM> 佐藤　充男 &lt;satou@osk.3web.ne.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00297" HREF="msg00297.html">[pgsql-jp 14586] Re: SJISコードテストプログラムを公開しました</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00352" HREF="msg00352.html">[pgsql-jp 14641] apache_logging</A></STRONG>
<UL><LI><EM>From:</EM> Yuki Kamata &lt;gonzalo@jazz.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00352.html">[pgsql-jp 14641] apache_logging</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00354.html">[pgsql-jp 14643] NEC選定IBM拡張文字領域　-&gt;　IBM拡張文字領域　変換パッチ</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00352.html">[pgsql-jp 14641] apache_logging</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00437.html">[pgsql-jp 14726] Re: apache_logging</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00353"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00353"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
