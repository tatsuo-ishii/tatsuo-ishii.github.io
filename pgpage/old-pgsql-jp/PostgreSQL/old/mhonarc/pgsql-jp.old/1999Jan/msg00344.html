<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 6757] To use or not to use Large Object -->
<!--X-From: Hikaru Ito <TL7H&#45;ITU@asahi&#45;net.or.jp> -->
<!--X-Date: Sun, 24 Jan 1999 02:04:16 +0900 -->
<!--X-Message-Id: 199901231646.BAA09788@quadra700.moggio.to -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 36A7D298.8CF1B1D0@uki.cs.it&#45;chiba.ac.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 6757] To use or not to use Large Object </TITLE>
<LINK REV="made" HREF="mailto:TL7H-ITU@asahi-net.or.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00343.html">Date Prev</A>][<A HREF="msg00345.html">Date Next</A>][<A HREF="msg00339.html">Thread Prev</A>][<A HREF="msg00346.html">Thread Next</A>][<A HREF="index.html#00344">Date Index</A>][<A HREF="threads.html#00344">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 6757] To use or not to use Large Object</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Hikaru Ito &lt;<A HREF="mailto:TL7H-ITU@asahi-net.or.jp">TL7H-ITU@asahi-net.or.jp</A>&gt;</LI>
<LI><em>Date</em>: Sun, 24 Jan 1999 02:04:16 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
postgreSQLのLarge Objectを使うことは、どのくらい勧められるものでしょうか？


いま、postgreSQL + PHP + Apacheで、イントラネットを使い、多数の画像を含むデ
ータベースを長期的スパンで維持管理する場合を考えています。


この場合、Large Objectを用いる方法と、そうでない方法が考えられそうです。



まず、Large Objectを用いる場合です。

参考書によれば、Large Objectはdump出来ないとあります。

postgreSQLのメジャーバージョンアップの場合は、dumpしてデータを移行する必要が
あるようですので、Large Objectを多数含むDBは、そのままでは移行出来ないことが
予想されます。

この場合は、Large Objectを何らかの方法で書き出して、再び新バージョンのDBから
取り込むような工夫をしなければならないのではないかと思われます。

また、データベースが増大した場合、Large Objectを呼び出す場合のパフォーマンス
が低下するかもしれません（測定したわけではないのですが・・・）。



次に、Large Objectを用いない場合です。

イントラネット環境で利用する場合は、バイナリデータを適切なディレクトリに整理
し、そのURLをpostgreSQLに記録しておき、必要に応じてブラウザ上でそのURLを呼び
出すという方法が考えられます。

ただしこの場合は、バイナリデータの置場所と記録されたURLの対応が乱れる可能性
があり、別の方法でファイルの位置を管理しないといけません（ただしＵＮＩＸの場
合は、Ｐｅｒｌなどを使って、比較的容易に管理出来そうです）。

そのかわりDB自体はバイナリデータを含まないので、サイズを小さく保つことが出来
るし、パフォーマンスも比較的低下しないのではないかと思えます。



このように考えると、Large Objectを用いない後者の方針で開発するほうが良さそう
だと思うのですが、はたしてそうなのでしょうか？

若干抽象的な質問ですが、よろしくお願いします。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00346" HREF="msg00346.html">[pgsql-jp 6759] Re: To use or not to use Large Object</A></STRONG>
<UL><LI><EM>From:</EM> Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00327" HREF="msg00327.html">[pgsql-jp 6740] initdbが出来ません。</A></STRONG>
<UL><LI><EM>From:</EM> yamada &lt;yamada@uki.cs.it-chiba.ac.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00343.html">[pgsql-jp 6756] Re: 初めまして</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00345.html">[pgsql-jp 6758] Re: 初めまして</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00339.html">[pgsql-jp 6752] Re: initdbが出来ません。</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00346.html">[pgsql-jp 6759] Re: To use or not to use Large Object</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00344"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00344"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
