<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 3681] Re: PHP/FI 日本語パッチについて -->
<!--X-From: urat@first.tsukuba.ac.jp (Yutaka Uratochi) -->
<!--X-Date: Thu, 26 Mar 1998 04:47:48 +0900 (JST) -->
<!--X-Message-Id: 199803251947.EAA16523@daichi.first.tsukuba.ac.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199803241344.WAA01799@oza.rim.or.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 3681] Re: PHP/FI 日本語パッチについて </TITLE>
<LINK REV="made" HREF="mailto:urat@first.tsukuba.ac.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00248.html">Date Prev</A>][<A HREF="msg00250.html">Date Next</A>][<A HREF="msg00245.html">Thread Prev</A>][<A HREF="msg00250.html">Thread Next</A>][<A HREF="index.html#00249">Date Index</A>][<A HREF="threads.html#00249">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 3681] Re: PHP/FI 日本語パッチについて</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:urat@first.tsukuba.ac.jp">urat@first.tsukuba.ac.jp</A> (Yutaka Uratochi)</LI>
<LI><em>Date</em>: Thu, 26 Mar 1998 04:47:48 +0900 (JST)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
  こちらでははじめましてです、浦栃＠筑波大と申します。

&gt;&gt; &gt; これは重要なパッチですね！このパッチですが、ftp.sra.co.jp に置かせてい
&gt;&gt; &gt; ただいてもよろしいですか？
&gt;&gt; &gt; 
&gt;&gt; とのことでしたら、お願いします。(＞ 石井さん)
&gt;&gt; 
&gt;&gt; kanji2.0.1のパッチを公開して頂いている浦栃さんには、
&gt;&gt; 私からメールをしておきます。

  というわけで、PHP/FI 2.0.1 日本語パッチ v5.3 作りました。
<A HREF="ftp://ftp.sra.co.jp/pub/cmd/postgres/php-fi/">ftp://ftp.sra.co.jp/pub/cmd/postgres/php-fi/</A> のパッチは全て取り込みました。
以下に README.jp を抜粋します:

--&gt;8--&gt;8--&gt;8--&gt;8
PHP/FI 2.0.1 日本語+αパッチ 5.3                                  1998.3.26
php-2.0.1.jp_urat-5.3.gz
md5 checksum: 
                                          浦栃 裕 &lt;urat@first.tsukuba.ac.jp
                                      <A HREF="http://www.first.tsukuba.ac.jp/~urat/">http://www.first.tsukuba.ac.jp/~urat/</A>


  このパッチは、おみつさんのPHP/FI日本語パッチに、私が知る全てのPHP/FIの
日本語パッチの要素を盛り込んだものです。
  配布、バグ報告、サポートなどは

    Apacheワールド
      <A HREF="http://www.first.tsukuba.ac.jp/docs/install/apache/1.html">http://www.first.tsukuba.ac.jp/docs/install/apache/1.html</A>

    PHPメーリングリスト(日本語)
      <A HREF="http://sidecar.ics.es.osaka-u.ac.jp/php-jp/">http://sidecar.ics.es.osaka-u.ac.jp/php-jp/</A>

    PostgreSQLメーリングリスト(日本語)
      <A HREF="http://www.sra.co.jp/people/t-ishii/PostgreSQL/">http://www.sra.co.jp/people/t-ishii/PostgreSQL/</A>

  にて行ないます。お気軽にメール下さい。


取り込まれたパッチの説明

  おみつさんの PHP/FI 2.0b12 日本語パッチ第 5 版に、

    [pgsql-jp 2535]
      <A HREF="http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1997Sep/msg00108.html">http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1997Sep/msg00108.html</A>

    [pgsql-jp 2689]
      <A HREF="http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1997Oct/msg00103.html">http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1997Oct/msg00103.html</A>

  をあてたものが、第 5 版 fix1 として、そして パスワード認証でPHP/FIから
Postgresにログインする関数を付け足すパッチ kanji2.0b12.patch-fix2 が、
おみつさんご本人からリリースされました。
  ファイル名からして、この時点で 日本語パッチ v5.2 であると考えられます。

  このパッチは、それからさらに:

・lex.c の ParserInit() 内での gsize変数 の扱いの修正
    <A HREF="http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1998Mar/msg00230.html">http://www.sra.co.jp/people/t-ishii/PostgreSQL/mhonarc/pgsql-jp/1998Mar/msg00230.html</A>

・石井@SRAさんによる、同じくパスワード認証でPHP/FIからPostgresにログイン
  する関数を付け足すパッチ
  こちらの方がおみつさんの同様のパッチよりよりPHP/FIオリジナルの関数の
  形に近いので、こちらを採用
    <A HREF="ftp://ftp.sra.co.jp/pub/cmd/postgres/php-fi/pg_passwd_auth.patch.gz">ftp://ftp.sra.co.jp/pub/cmd/postgres/php-fi/pg_passwd_auth.patch.gz</A>

・access logging を on にしているときに特に速度が向上するパッチ
  本家 PHP/FI メーリングリスト(英語)
    Subject: [PHP] fileInode($fd) instead of fileInode(filename)?
  ./patch/log_speedup.patch にそのメールがあります

・fileInode() の引数にファイル名だけでなく inode も指定できるようにする
  パッチ
  本家 PHP/FI メーリングリスト(英語)
    Subject: [PHP] speedup patch for php2
  ./patch/fileinode.patch にそのメールがあります

  以上の向上がなされています。機能的に 日本語パッチ v5.2 相当のものに、
バグフィックスと性能の向上がなされているため、日本語パッチ v5.3 を名乗
ることにしました。
  混乱を避けるために、アーカイブ名に urat という固有名を入れてあります。


協力＆さんくす
  おみつさん
  小沢＠東光電気さん、
  PHPメーリングリスト(日本語)のみなさん
  PostgreSQLメーリングリスト(日本語)のみなさん


将来
  PHP/FIなんて捨てて、PHP3の日本語(国際化)をやらないとあきませんね。
  ドキュメントの整備。ドキュメントより大事なものはありません。
--&gt;8--&gt;8--&gt;8--&gt;8


  それから Wisconsinベンチマーク の結果です。<A HREF="http://www.first.tsukuba.ac.jp/">http://www.first.tsukuba.ac.jp/</A>
docs/install/postgresql-6.3.1.html に書きましたが、gcc 2.8.0 -&gt; gcc 2.8.1
でやや速くなり、MB指定無しに比べると MB=EUC_JP はかなり遅くなりました。6.3
より 6.3.1 の方がやや遅いみたいです。それから、何故か 6.3 になってコンパイ
ルが３分ほど速くなりました(^^;。

     Ultra 1 Model 140（UltraSPARC 143MHz）
     Solaris 2.5.1 日本語版
     メモリ 128MB（仮想 292MB）
     flex 2.5.4
     外部 SCSI HD 9GB

PostgreSQL 6.3.1、gcc 2.8.1 -O2、MB=EUC_JP:

     query  0:   0.001 real   0.001 user   0.001 sys
     query  1:   0.176 real   0.106 user   0.009 sys
     query  2:   1.937 real   0.398 user   0.188 sys
     query  3:   0.161 real   0.099 user   0.007 sys
     query  4:   0.978 real   0.378 user   0.164 sys
     query  5:   0.149 real   0.089 user   0.007 sys
     query  6:   0.403 real   0.291 user   0.016 sys
     query  7:   0.017 real   0.016 user   0.001 sys
     query  8:   0.180 real   0.158 user   0.008 sys
     query  9:   1.035 real   0.905 user   0.031 sys
     query 10:   1.154 real   0.919 user   0.039 sys
     query 11:   1.487 real   1.231 user   0.042 sys
     query 12:   1.470 real   0.977 user   0.043 sys
     query 13:   1.057 real   0.882 user   0.035 sys
     query 14:   1.474 real   1.274 user   0.037 sys
     query 15:   4.076 real   1.173 user   0.430 sys
     query 16:   7.237 real   3.741 user   1.405 sys
     query 17:   3.140 real   1.453 user   0.423 sys
     query 18:   2.043 real   1.394 user   0.134 sys
     query 19:   0.326 real   0.229 user   0.019 sys
     query 20:   0.001 real   0.000 user   0.000 sys
     query 21:   0.001 real   0.000 user   0.000 sys
     query 22:   0.001 real   0.000 user   0.000 sys
     query 23:   0.001 real   0.000 user   0.000 sys
     query 24:   0.001 real   0.000 user   0.000 sys
     query 25:   0.001 real   0.000 user   0.000 sys
     query 26:   0.001 real   0.001 user   0.000 sys
     query 27:   0.009 real   0.007 user   0.002 sys
     query 28:   0.075 real   0.027 user   0.004 sys
     query 29:   0.001 real   0.000 user   0.000 sys
     query 30:   0.008 real   0.007 user   0.001 sys
     query 31:   0.049 real   0.027 user   0.003 sys
     query 32:   0.081 real   0.029 user   0.004 sys


  長々と失礼しました。それでは失礼します。

----
筑波大学 第一学群 自然学類２年 化学専攻    | 
第一学群コミュニケーションシステムstaff    | 
<A HREF="http://www.first.tsukuba.ac.jp/~urat/">http://www.first.tsukuba.ac.jp/~urat/</A>      | 
浦栃 裕 （うらとち ゆたか）                | 日本最大の電話FAQ みかかの鉄人
urat@first.tsukuba.ac.jp                   |  詳しくは左記のアドレスまで
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00251" HREF="msg00251.html">[pgsql-jp 3683] Re: PHP/FI 日本語パッチについて</A></STRONG>
<UL><LI><EM>From:</EM> t-ishii@sra.co.jp</LI></UL></LI>
<LI><STRONG><A NAME="00250" HREF="msg00250.html">[pgsql-jp 3682] Re: PHP/FI  日本語パッチについて</A></STRONG>
<UL><LI><EM>From:</EM> Jun Kuwamura &lt;juk@rccm.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00245" HREF="msg00245.html">[pgsql-jp 3677] Re: PHP/FI 日本語パッチについて</A></STRONG>
<UL><LI><EM>From:</EM> Yoshitaka Ozawa &lt;yozawa@rd.tokodenki.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00248.html">[pgsql-jp 3680] Re: 自己紹介と質問</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00250.html">[pgsql-jp 3682] Re: PHP/FI  日本語パッチについて</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00245.html">[pgsql-jp 3677] Re: PHP/FI 日本語パッチについて</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00250.html">[pgsql-jp 3682] Re: PHP/FI  日本語パッチについて</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00249"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00249"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
