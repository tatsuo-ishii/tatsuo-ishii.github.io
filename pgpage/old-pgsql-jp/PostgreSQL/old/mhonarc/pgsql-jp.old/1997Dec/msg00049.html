<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 3087] `Class(table)' has been when execute "vacuum" command. -->
<!--X-From: Katsuya Sawamura <sawamura@ssemoka.co.jp> -->
<!--X-Date: Thu, 04 Dec 1997 17:09:32 +0900 -->
<!--X-Message-Id: 199712040809.RAA07132@vishost.ssemoka.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 3087] `Class(table)' has been when execute "vacuum" command. </TITLE>
<LINK REV="made" HREF="mailto:sawamura@ssemoka.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00048.html">Date Prev</A>][<A HREF="msg00050.html">Date Next</A>][<A HREF="msg00068.html">Thread Prev</A>][<A HREF="msg00050.html">Thread Next</A>][<A HREF="index.html#00049">Date Index</A>][<A HREF="threads.html#00049">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 3087] `Class(table)' has been when execute "vacuum" command.</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Katsuya Sawamura &lt;<A HREF="mailto:sawamura@ssemoka.co.jp">sawamura@ssemoka.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Thu, 04 Dec 1997 17:09:32 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
沢村＠三洋シリコンです。


ユーザマニュアル(日本語)の『日常的な管理』や『チューニング』に、

    "vacuum"コマンドを頻繁に実行しなさい！

と書いてあるので、cronで１時間毎に実行していました。

ところが、"vacuum"を実行するとデータベース内のクラス(テーブル)
が消されてしまうのです。

但し、全てのクラスが毎回消されてしまうのではなく、
データベース内の幾つかのクラスが、いつの間にか
無くなってしまうのです。

現状、私が分かっている事は、検索のスピードを上げるため、
索引(INDEX)を作っておくと、この現象が発生すると言う事
だけです。(索引を作らなければ正常に動作します)

ちなみに、膨大なデータ量になることが予め分かっていたので、
データベースを構築する時に、一緒に索引も作成しました。
つまり、データが無いのに索引を作ったのが気に入らないのでしょうか？

何か良いアドバイスをお願い致します。

動作環境は、
  - PostgreSQL-6.2.1 + jp.patch + v6.2.1-p1〜p6
  - Ultra Enterprise 150 (Solaris2.5.1)
  - gcc-2.7.2.1 for Solaris2.5.1

以上、宜しくお願い致します。


--
SANYO Silicon Electronics Co., Ltd.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
LSI Division Development
Engineering Section

Katsuya Sawamura (sawamura@ssemoka.co.jp)

12-2, Matsuyama-cho, Moka City,
Tochigi-Ken 321-43, Japan
TEL:0285-82-3482
FAX:0285-84-7974
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00048.html">[pgsql-jp 3086] はじめまして</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00050.html">[pgsql-jp 3088] Re: `Class(table)' has been when execute "vacuum" command.</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00068.html">[pgsql-jp 3106] Re: Too many open files in system</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00050.html">[pgsql-jp 3088] Re: `Class(table)' has been when execute "vacuum" command.</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00049"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00049"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
