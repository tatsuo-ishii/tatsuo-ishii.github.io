<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 10229] libpq使用コンパイル済バイナリの互換性 -->
<!--X-From: Naofumi Kondoh <nkon@shonan.ne.jp> -->
<!--X-Date: Tue, 17 Aug 1999 23:00:13 +0900 -->
<!--X-Message-Id: 37B96AEDBE.FE71NKON@mail.shonan.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 10229] libpq使用コンパイル済バイナリの互換性 </TITLE>
<LINK REV="made" HREF="mailto:nkon@shonan.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00382.html">Date Prev</A>][<A HREF="msg00384.html">Date Next</A>][<A HREF="msg00400.html">Thread Prev</A>][<A HREF="msg00391.html">Thread Next</A>][<A HREF="index.html#00383">Date Index</A>][<A HREF="threads.html#00383">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 10229] libpq使用コンパイル済バイナリの互換性</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Naofumi Kondoh &lt;<A HREF="mailto:nkon@shonan.ne.jp">nkon@shonan.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 17 Aug 1999 23:00:13 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
ソフト工房の近藤です。

PostgreSQL 6.5.0 の libpq.a を使用してコンパイルし
たプログラムをうっかりして、6.5.1 で実行したところ、
変なところでエラーになりました。(PQsetdb は通過し
て、DECLARE 文を PQexec してエラーになった)。

Version が違うから再コンパイルしなければいけないの
はあたりまえなんですが、うっかりミスを防ぐために、
version の相違を検知して、『 version が違う』という
ような表示をして異常終了するような Fale Safe にした
いのですが、うまい方法があるでしょうか。

strings で探してみたけど適当な手がかりがみつからな
くて。

本当は、PQsetdb の内部で、実行時に、互換性のない 
BACK END を検知してくれるといいんですが。

環境：Linux Vine 1.1 
コンパイルは、なまず本のとおり。
gcc -g -O2 -I/usr/local/pgsql/include     \
    -L/usr/local/pgsql/lib -lpq -lcrypt

_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
 (株)ソフト工房 近藤直文 Email:  nkon@shonan.ne.jp 
          <A HREF="http://www.shonan.ne.jp/~nkon/">http://www.shonan.ne.jp/~nkon/</A>
_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00391" HREF="msg00391.html">[pgsql-jp 10237] RE: libpq使用コンパイル済バイナリの互換性</A></STRONG>
<UL><LI><EM>From:</EM> "Hiroshi Inoue" &lt;Inoue@tpf.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00382.html">[pgsql-jp 10228] Re: データ件数と速度</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00384.html">[pgsql-jp 10230] Re: テーブルのレコード数</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00400.html">[pgsql-jp 10246] Re: perlからpgs ql に直接書き込み出来ますか？</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00391.html">[pgsql-jp 10237] RE: libpq使用コンパイル済バイナリの互換性</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00383"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00383"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
