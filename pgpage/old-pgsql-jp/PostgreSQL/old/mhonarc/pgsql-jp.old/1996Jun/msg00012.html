<!-- MHonArc v2.1.0 -->
<!--X-Subject: [postgres95 483] Re: createuser -->
<!--X-From: kanemasu@dragon.osaka.ish.cae.ntt.jp -->
<!--X-Date: Tue, 4 Jun 1996 10:21:07 JST +900 -->
<!--X-Message-Id: 199606040118.KAA08486@dragon.osaka.ish.cae.ntt.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[postgres95 483] Re: createuser </TITLE>
<LINK REV="made" HREF="mailto:kanemasu@dragon.osaka.ish.cae.ntt.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00019.html">Date Prev</A>][<A HREF="msg00021.html">Date Next</A>][<A HREF="msg00021.html">Thread Prev</A>][<A HREF="msg00013.html">Thread Next</A>][<A HREF="index.html#00012">Date Index</A>][<A HREF="threads.html#00012">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[postgres95 483] Re: createuser</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:kanemasu@dragon.osaka.ish.cae.ntt.jp">kanemasu@dragon.osaka.ish.cae.ntt.jp</A></LI>
<LI><em>Date</em>: Tue, 4 Jun 1996 10:21:07 JST +900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>

ＮＴＴの金升です。

 &gt;サーチパスは問題ないようです。
 &gt;
 &gt;shに -vオプションをつけて実行させると、途中まで動いているようです。
 &gt;
 &gt;ログの途中から最後までは以下のようです。
 &gt;何がもんだいなのでしょう？
 &gt;＃お手数お掛けします。
 &gt;
 &gt;--- ここから ---
 &gt;
 &gt;#
 &gt;# see if user $USER is allowed to create new users
 &gt;#
 &gt;
 &gt;QUERY="select usesuper from pg_user where usename = '$USER'"
 &gt;#echo $QUERY
 &gt;
 &gt;ADDUSER=`$MONITOR -TN -c "$QUERY" template1`
 &gt;#ADDUSER="$MONITOR -TN -c $QUERY template1"
 &gt;
 &gt;if [ $? -ne 0 ]
 &gt;then
 &gt;    echo "$CMDNAME: database access failed." 1&gt;&amp;2
 &gt;    exit 1
 &gt;fi
 &gt;
 &gt;if [ -n "$ADDUSER" ]
 &gt;then
 &gt;
 &gt;if [ $ADDUSER != "t" ]
 &gt;then
 &gt;    echo "$CMDNAME: $USER cannot create users." 1&gt;&amp;2
 &gt;    exit 1
 &gt;fi
 &gt;fi
 &gt;--- ここまで ---
 &gt;

以前、このメーリングリストで議論されていたのを見つけました。

&gt;はなみつ％逃避モードです
&gt;&gt;&gt;   これは、monitor プログラムがエスケープ・シーケンスを出しているため、
&gt;&gt;&gt; $ADDUSER に "t" に続いて他の文字列も入っているためのようです。
&gt;確認しました
&gt;ついでに対処方法も分かりました
&gt;
&gt;	unsetenv PAGER
&gt;
&gt;結局それかって感じですがうちではうまくいきました
&gt;Linux でも同じかは分かりません
&gt;＃もっと根本的な解決方法があるような気も
&gt;
&gt;&gt;&gt; ＃createuser, dropuser は使わないでpg95admin を使って済ませています。
&gt;pg95admin ってなんですか？

既に試してみたのでしたら、ごめんなさい。
-----------------------------------------------------------------
　ＮＴＴ関西情報システムセンター　
  金升忠男 E-mail:kanemasu@dragon.osaka.ish.cae.ntt.jp
-----------------------------------------------------------------

</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00013" HREF="msg00013.html">[postgres95 484] Re: createuser</A></STRONG>
<UL><LI><EM>From:</EM> Shinya Arai &lt;arai@systemgate.nifty.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00019.html">[postgres95 490] Re: Japanese pg95 document</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00021.html">[postgres95 492] mask column in pg_hba ?</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00021.html">[postgres95 492] mask column in pg_hba ?</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00013.html">[postgres95 484] Re: createuser</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00012"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00012"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
