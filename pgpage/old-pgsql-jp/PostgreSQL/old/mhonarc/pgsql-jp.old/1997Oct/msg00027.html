<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 2612] regression test failed -->
<!--X-From: tamaoki@manage.kanazawa&#45;it.ac.jp (Nobuyuki Tamaoki) -->
<!--X-Date: Sat, 4 Oct 1997 00:07:58 +0900 (JST) -->
<!--X-Message-Id: 199710031507.AAA16070@kitsun4.manage.kanazawa&#45;it.ac.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 2612] regression test failed </TITLE>
<LINK REV="made" HREF="mailto:tamaoki@manage.kanazawa-it.ac.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00024.html">Date Prev</A>][<A HREF="msg00025.html">Date Next</A>][<A HREF="msg00029.html">Thread Prev</A>][<A HREF="msg00028.html">Thread Next</A>][<A HREF="index.html#00027">Date Index</A>][<A HREF="threads.html#00027">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 2612] regression test failed</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:tamaoki@manage.kanazawa-it.ac.jp">tamaoki@manage.kanazawa-it.ac.jp</A> (Nobuyuki Tamaoki)</LI>
<LI><em>Date</em>: Sat, 4 Oct 1997 00:07:58 +0900 (JST)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
玉置＠金沢工大です

PostgreSQL 6.1.1 で regression test を失敗した私は
PostgreSQL 6.2 でも regression test で失敗しました。
自分なりに失敗した理由を調べてみたのですが、再び壁
にぶつかってしまいメールを出した次第です。
みなさんの知恵をお貸していただけないでしょうか

現象は前回と同じく regression test 中にプログラムか
らの応答がなくなります。以下が regression test の結
果です。テスト'misc'の時に応答がなくなります。


=============== running regression queries...         =================
boolean ..  ok
char ..  ok
char16 ..  ok
char2 ..  ok
char4 ..  ok
char8 ..  ok
text ..  ok
int2 ..  failed
int4 ..  failed
oid ..  ok
oidint2 ..  failed
oidint4 ..  failed
oidname ..  ok
float4 ..  ok
float8 ..  failed
numerology ..  ok
point ..  ok
lseg ..  ok
box ..  ok
path ..  ok
polygon ..  ok
circle ..  ok
geometry ..  failed
timespan ..  ok
datetime ..  ok
reltime ..  ok
abstime ..  failed
tinterval ..  failed
horology ..  failed
comments ..  ok
create_function_1 ..  ok
create_type ..  ok
create_table ..  ok
create_function_2 ..  failed
constraints ..  ok
triggers ..  failed
copy ..  ok
create_misc ..  ok
create_aggregate ..  ok
create_operator ..  ok
create_view ..  ok
create_index ..  ok
sanity_check ..  ok
errors ..  ok
select ..  ok
select_into ..  ok
select_distinct ..  ok
select_distinct_on ..  ok
aggregates ..  ok
transactions ..  ok
random ..  failed
portals ..  ok
misc ..


前回石井さんが言われたことを元に調べていきまして、
 regression test 中に生成される core をデバッグし
てみました。

GDB is free software and you are welcome to distribute copies of it
 under certain conditions; type "show copying" to see the conditions.
There is absolutely no warranty for GDB; type "show warranty" for details.
GDB 4.16 (sparc-sun-solaris2.5.1), 
Copyright 1996 Free Software Foundation, Inc...
Core was generated by `/usr/local/pgsql/bin/postgres -p -d3 -P4 regression'.
Program terminated with signal 10, Bus error.
Reading symbols from /usr/lib/libnsl.so.1...done.
Reading symbols from /usr/lib/libsocket.so.1...done.
Reading symbols from /usr/lib/libdl.so.1...done.
Reading symbols from /usr/lib/libm.so.1...done.
Reading symbols from /usr/lib/libc.so.1...done.
Reading symbols from /usr/lib/libintl.so.1...done.
Reading symbols from /usr/lib/libmp.so.1...done.
Reading symbols from /usr/lib/libw.so.1...done.
Reading symbols from /usr/platform/SUNW,Ultra-1/lib/libc_psr.so.1...done.
#0  0x1b600 in heapgettup (relation=0x204fd8, tid=0x0, dir=1, b=0x213bbc, 
    timeQual=0x0, nkeys=0, key=0x0) at heapam.c:432
432                             
    HeapTupleSatisfies(lpp, relation, *b, (PageHeader) dp,
(gdb) where
#0  0x1b600 in heapgettup (relation=0x204fd8, tid=0x0, dir=1, b=0x213bbc, 
    timeQual=0x0, nkeys=0, key=0x0) at heapam.c:432
#1  0x1be8c in heap_getnext (scandesc=0x213ba8, backw=0, b=0xefffd2cc)
    at heapam.c:985
#2  0x44bc8 in SeqNext (node=0x212e28) at nodeSeqscan.c:73
#3  0x3fa60 in ExecScan (node=0x212e28, accessMtd=0x44ba0 &lt;SeqNext&gt;)
    at execScan.c:102
#4  0x44c14 in ExecSeqScan (node=0x44ba0) at nodeSeqscan.c:138
#5  0x3e4ec in ExecProcNode (node=0x212e28, parent=0x212e28)
    at execProcnode.c:240
#6  0x3d990 in ExecutePlan (estate=0x213878, plan=0x212e28, 
    parseTree=0x204ec0, operation=CMD_SELECT, numberTuples=0, 
    direction=NoMovementScanDirection, printfunc=0x14348 &lt;printtup&gt;)
    at execMain.c:747
#7  0x3d500 in ExecutorRun (queryDesc=0x212e28, estate=0x213878, feature=4, 
    count=0) at execMain.c:253
#8  0x3266c in PerformPortalFetch (name=0x219248 "foo24", forward=4 '\004', 
    count=0, tag=0xcabd0 "FETCH", dest=Remote) at command.c:171
#9  0x897a8 in ProcessUtility (parsetree=0x2240d8, dest=Remote)
    at utility.c:152
#10 0x87a28 in pg_eval_dest (query_string=0xefffd9b0 "FETCH all in foo24;",
    argv=0x0, typev=0x0, nargs=0, dest=Remote) at postgres.c:703
#11 0x87970 in pg_eval (query_string=0xefffd9b0 "FETCH all in foo24;",
    argv=0x0, typev=0x0, nargs=0) at postgres.c:651
#12 0x88e18 in PostgresMain (argc=-268445264, argv=0xeffff9b0)
    at postgres.c:1564
#13 0x4cef4 in main (argc=5, argv=0xeffffa94) at main.c:77

玉置  伸行  Nobuyuki Tamaoki
金沢工業大学大学院  工学研究科  
地球環境生態デザイン  日下研
EEED (Earth,Ecological,Environmental Design),
Kanazawa Institute of Technology
E-mail; tamaoki@kitsun4.manage.kanazawa-it.ac.jp
URL; <A HREF="http://klabwww.manage.kanazawa-it.ac.jp/~tamaoki/">http://klabwww.manage.kanazawa-it.ac.jp/~tamaoki/</A>
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00028" HREF="msg00028.html">[pgsql-jp 2613] Re: regression test failed</A></STRONG>
<UL><LI><EM>From:</EM> Yoshihiko ICHIKAWA &lt;ichikawa@hyalos.is.ocha.ac.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00024.html">[pgsql-jp 2609] [Q]テーブルの不一致</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00025.html">[pgsql-jp 2610] Re: [Q]テーブルの不一致</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00029.html">[pgsql-jp 2614] Hi nice to meet you</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00028.html">[pgsql-jp 2613] Re: regression test failed</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00027"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00027"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
