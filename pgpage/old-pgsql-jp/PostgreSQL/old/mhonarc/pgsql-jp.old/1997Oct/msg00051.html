<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 2636] PostgreSQL&#45;6.2 FAQ(10/02/97) -->
<!--X-From: Jun Kuwamura <juk@rccm.co.jp> -->
<!--X-Date: Wed, 8 Oct 1997 06:33:30 +0900 (JST) -->
<!--X-Message-Id: Pine.LNX.3.95LJ1.1b4.971008061035.3295A&#45;100000@penty.rccm.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 2636] PostgreSQL-6.2 FAQ(10/02/97) </TITLE>
<LINK REV="made" HREF="mailto:juk@rccm.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00050.html">Date Prev</A>][<A HREF="msg00052.html">Date Next</A>][<A HREF="msg00052.html">Thread Prev</A>][<A HREF="msg00044.html">Thread Next</A>][<A HREF="index.html#00051">Date Index</A>][<A HREF="threads.html#00051">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 2636] PostgreSQL-6.2 FAQ(10/02/97)</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Jun Kuwamura &lt;<A HREF="mailto:juk@rccm.co.jp">juk@rccm.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 8 Oct 1997 06:33:30 +0900 (JST)</LI>
<LI><em>cc</em>: "JF; Linux Japanese FAQ Project" &lt;<A HREF="mailto:JF@jf.gee.kyoto-u.ac.jp">JF@jf.gee.kyoto-u.ac.jp</A>&gt;</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
桑村です。

  PostgreSQL FAQ が 6.2 のリリースに併せて更新されていましたので、
和訳の方も更新しました。

  それから、この前の和訳で前田充宏さんのお名前を間違えていましたので
この場を借りてお詫び致します。_o_

--
PostgreSQL についてよくある質問(FAQ)

原文最終更新日: Thu Oct 2 14:52:12 EDT 1997
Version: 6.2

現在の維持管理者: Bruce Momjian (maillist@candle.pha.pa.us)

この文書の最新版は postgreSQL の WWW サイトの <A HREF="http://postgreSQL.org">http://postgreSQL.org</A> で見るこ
とができます。

Linux に特有の質問についての答えは:
<A HREF="http://postgreSQL.org/docs/FAQ-linux.shtml">http://postgreSQL.org/docs/FAQ-linux.shtml</A>.

に、 IRIX に特有の質問についての答えは:
<A HREF="http://postgreSQL.org/docs/FAQ-irix.shtml">http://postgreSQL.org/docs/FAQ-irix.shtml</A>. にあります。

[訳注：日本語版については以下の通りです。
(以下、訳者による注意書きを [訳注： と ] で囲んで記します。)
最終更新日:     1997年10月08日
訳者:           桑村 潤 (juk@rccm.co.jp)
このFAQの和訳の作成にあたり、以下の方々の協力を得ました。
(洩れている方は御連絡下さい。)
                田仲 稔さん(green@keiken.co.jp)、
                石井 達夫さん(t-ishii@sra.co.jp)、
                齊藤 知人さん(tomos@elelab.nsc.co.jp)、
                中西 通雄さん(naka@ics.es.osaka-u.ac.jp)、
                馬場  肇さん(baba@kusastro.kyoto-u.ac.jp)、
                岡本 一幸さん(ikko-@pacific.rim.or.jp)

日本語版のこの文書は
        <A HREF="http://www.rccm.co.jp/~juk/pgsql/index.phtml">http://www.rccm.co.jp/~juk/pgsql/index.phtml</A>
        <A HREF="http://www.sra.co.jp/people/t-ishii/PostgreSQL/">http://www.sra.co.jp/people/t-ishii/PostgreSQL/</A>
        <A HREF="http://jf.gee.kyoto-u.ac.jp/JF/JF-ftp/other-formats/INDEX-JF.html">http://jf.gee.kyoto-u.ac.jp/JF/JF-ftp/other-formats/INDEX-JF.html</A>
からもたどれます。

なお、この和訳に関するご意見は桑村(juk@rccm.co.jp)までお寄せ下さい。
]

このバージョンでの変更箇所(* = 修正, + = 新):

    [訳注： 日本語版のこの文書は更新の頻度が少ないのでもっと変わっています]

----------------------------------------------------------------------------

解答された質問：

1) 一般的な質問

1.1) PostgreSQL とは何ですか？
1.2) PostgreSQL の動作環境は？
1.3) PostgreSQL はどこから手に入りますか？
1.4) PostgreSQL の著作権はどうなってますか？
1.5) PostgreSQL のサポート
1.6) PostgreSQL の最新版
1.7) PostgreSQL の商用版はありますか？
1.8) PostgreSQL はどのバージョンのSQLを使っていますか？
1.9) PostgreSQL にはどのようなドキュメントがありますか？
1.10) PostgreSQL は、それより前のバージョンの postgres で作成されたデータベ
ースを使って動きますか？
1.11) PostgreSQL の ODBC ドライバーはありますか？
1.12) Postgres を WEB ページにぶらさげるにはどんなツールがありますか？
1.13) PostgreSQL はグラフィカル・ユーザインターフェースを持ちますか？ リポー
トジェネレータは？ 埋め込み問い合わせ言語インターフェースは？

2) インストール時の質問

2.1) initdb が動きません
2.2) postmaster を起動したら、次のようなメッセージが出ました "FindBackend:
could not find a backend to execute..." "postmaster: could not find backend
to execute..."
2.3) システムはコンマ、小数点、および、日付フォーマットについて混乱している
ようです。
2.4) どのようにすれば /usr/local/pgsql 以外の場所にインストールできますか？
2.5) postmaster を走らせると、Bad System Call core dumpd というメッセージが
出ます。
2.6) postmaster を走らせようとすると、IpcMemoryCreate error が出ます。
2.7) ソースファイルを変更したのですが、再コンパイルをしても変化がみられませ
ん？
2.8) 他のホストから自分の PostgreSQL へのアクセスをどのように回避しますか？
2.9) 'root' ユーザでは自分のデータベースにアクセスできません。
2.10) 競合状態でのテーブルアクセスでは全て自分のサーバはクラッシュしてしまい
ます。なぜ？
2.11) より良い性能にするためにはデータベース・エンジンをどのように調整すれば
良いですか？
2.12) PostgreSQL ではどのようなデバッグ機能が使えますか？
2.13) 同時に 32 を越えるバックエンドはどのようにすればできますか？

3) 操作上の質問

3.1) PostgreSQL は入れ子状の副問い合わせをサポートしますか？
3.2) ルールを使うと沢山の問題がおきてしまいます。
3.3) ラージオブジェクトの途中には書き込むことができないみたいです。
3.4) PostgreSQL へのクライアント・アプリケーションはどのように書けますか？
3.5) pg_group の設定はどのようにしますか？
3.6) バイナリ・カーソルとノーマル・カーソルの厳密な違いは何ですか？
3.7) R-tree 索引とは何ですか、また、何のために使われますか？
3.8) １つのタップルの最大サイズは？
3.9) 複数の索引を定義しましたが、行なった問い合わせではそれらを使っている様
子がありません。なぜでしょう？
3.10) 正規表現での検索はどのようにすればよいですか？ 大文字と小文字とを区別
しない regexp 検索は？
3.11) vacuum を行なっている最中にサーバーがクラッシュするという経験をしまし
た。ロックファイルはどのように取り除けばよいですか？
3.12) 様々な文字型のそれぞれの違いは何ですか？
3.13) 問い合わせの中で、フィールドが NULL であることを検出するにはどうします
か？
3.14) 問い合わせ最適化部がどのように問い合わせを評価するかを見るにはどうしま
すか？
3.15) 通番(serial)フィールドはどのようにつくりますか？
3.16) 自分のデータベース・ディレクトリにある pg_sort.XXX ファイルは何ですか
？
3.17) 他のマシンから自分のデータベースに接続できないのはなぜですか？
3.18) データベース内に定義された索引や演算子はどのようにして見つけますか？
3.19) 時間旅行機能とは何ですか、また、その機能と vaccuum との関係は？
3.20) oid とは何ですか？ tid とは何ですか？
3.21) Postgres で使われる幾つかの用語の意味は何ですか？
3.22) 遺伝的問い合わせ最適化とは何ですか？
3.23) テーブルからカラムの削除はどのようにしますか？
3.24) 最初の数行のみを SELECT するにはどうしますか？

4) PostgreSQL の拡張についての質問

4.1) ユーザ定義関数を書きましたが、psql の中で実行したらコアを吐いてしまいま
した。
4.2) 次のようなメッセージを受け取ります。 NOTICE:PortalHeapMemoryFree:
0x402251d0 not in alloc set!
4.3) PostgreSQL のために粋な新しい型と関数を書きました。
4.4) タップルを返す C の関数はどのように書きますか？

5) バグについて

5.1) バグ・レポートはどのようにしますか？

----------------------------------------------------------------------------

Section 1: 一般的な質問

1.1) PostgreSQL とは何ですか？

PostgreSQL は POSTGRES データベース管理システムの改良版で、次世代DBMS 研究用
のプロトタイプです。PostgreSQL は POSTGRES の強力なデータ・モデルと豊富なデ
ータ・タイプ(型)を内包しつつ、POSTGRES で使われた PostQuel 問い合わせ言語を
、拡張したSQL のサブセットに置き換えています。PostgreSQL は無料で完全なソー
スの利用ができます。

PostgreSQL の開発は PostgreSQL 開発者メーリングリストに参加しているインター
ネット上の開発者チームにより進められています。現在の座長は Marc G. Fournier
( scrappy@postgreSQL.org )です。(以下に参加の仕方があります。)現在、このチー
ムがすべての現状と将来の PostgreSQL の開発の面倒を見ます。

PostgreSQL 1.01 の著者は Andrew Yu と Jolly Chen でした。その他大勢の人々が
このコードの移植、テスト、デバグ、および、改良に貢献しました。PostgreSQL の
派生元コードである POSTGRES はカリフォルニア大学バークレー校において、
Michael Stonebraker 教授の指揮のもと、多くの学生、卒業生、職業プログラマたち
の努力により作られました。

バークレーにおけるこのソフトウェアのもとの名前は Postgres でした。SQL の機能
が追加された 1995 年にその名前は Postgres95 に変更されました。1996 年の終り
にその名前は PostgreSQL に変更されました。

1.2) PostgreSQL の動作環境は？

著者らは PostgreSQL のコンパイルとテストを次のプラットホーム上で行ないました
。(これらのうちの幾つかはコンパイルにgcc 2.7.0が必要です)：

   * aix - IBM on AIX 3.2.5 or 4.x
   * alpha - DEC Alpha AXP on Digital Unix 2.0, 3.2, 4.0
   * BSD44_derived - OSs derived from 4.4-lite BSD (NetBSD, FreeBSD)
   * bsdi - BSD/OS 2.0, 2.01, 2.1, 3.0
   * dgux - DG/UX 5.4R4.11
   * hpux - HP PA-RISC on HP-UX 9.0, 10
   * i386_solaris - i386 Solaris
   * irix5 - SGI MIPS on IRIX 5.3
   * linux - Intel x86 on Linux 2.0 and Linux ELF
     SPARC on Linux ELF
     PPC on Linux Elf
     (For non-ELF Linux, see LINUX_ELF below).
   * sco - SCO 3.2v5
   * sparc_solaris - SUN SPARC on Solaris 2.4, 2.5, 2.5.1
   * sunos4 - SUN SPARC on SunOS 4.1.3
   * svr4 - Intel x86 on Intel SVR4 and MIPS
   * ultrix4 - DEC MIPS on Ultrix 4.4

次のプラットホームでは、まだ問題／バグがあることがわかってます：

   * nextstep - Motorola MC68K or Intel x86 on NeXTSTEP 3.2

    [訳注:
          Windows-NT版への移植は Jon Forrest(forrest@cs.berkeley.edu)
        さんにより行なわれているそうです。

          日本語への移植は、石井達夫さん(t-ishii@sra.co.jp)によって行なわれ
        ました。このパッチは：
                <A HREF="ftp://ftp.sra.co.jp/pub/cmd/postgres/6.2/">ftp://ftp.sra.co.jp/pub/cmd/postgres/6.2/</A>
        にあります。
          また、石井達夫さんにより MkLinux への移植(PPC on Linux Elf)も行なわれました。
    ]

1.3) PostgreSQL はどこから手に入りますか？

PostgreSQL の元の anonymous ftp サイトです：

   * <A HREF="ftp://ftp.postgreSQL.org/pub">ftp://ftp.postgreSQL.org/pub</A>

また、次のミラーサイトがあります：

   * <A HREF="ftp://postgres95.vnet.net/pub/postgres95">ftp://postgres95.vnet.net/pub/postgres95</A>
   * <A HREF="ftp://ftp.luga.or.at/pub/postgres95">ftp://ftp.luga.or.at/pub/postgres95</A>
   * <A HREF="ftp://cal011111.student.utwente.nl/pub/postgres95">ftp://cal011111.student.utwente.nl/pub/postgres95</A>
   * <A HREF="ftp://ftp.uni-trier.de/pub/database/rdbms/postgres/postgres95">ftp://ftp.uni-trier.de/pub/database/rdbms/postgres/postgres95</A>
   * <A HREF="ftp://rocker.sch.bme.hu/pub/mirrors/postgreSQL">ftp://rocker.sch.bme.hu/pub/mirrors/postgreSQL</A>

    [訳注:
        日本でのミラーサイトは、藤枝和宏さん(fujieda@jaist.ac.jp)のご好意により
                <A HREF="ftp://ftp.jaist.ac.jp/pub/dbms/postgres95">ftp://ftp.jaist.ac.jp/pub/dbms/postgres95</A>
        にあります。
    ]

1.4) PostgreSQL の著作権はどうなってますか？

PostgreSQL は下記の著作権に従います。

    [訳注：訳者は英語に不案内な上、法律については無知なので、以下に原文を残し注釈を付けます。]

PostgreSQL Data Base Management System

Copyright (c) 1994-6 Regents of the University of California

Permission to use, copy, modify, and distribute this software and its
documentation for any purpose, without fee, and without a written agreement
is hereby granted, provided that the above copyright notice and this
paragraph and the following two paragraphs appear in all copies.

IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR
DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING
LOST PROFITS, ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION,
EVEN IF THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.

THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE PROVIDED HEREUNDER IS ON AN
"AS IS" BASIS, AND THE UNIVERSITY OF CALIFORNIA HAS NO OBLIGATIONS TO
PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.

[訳注：

POSTGRESQL データベース管理システム

著作権 (c) 1994-6 カリフォルニア大学本校

このソフトウェアとその文書を、如何なる目的でも、無料で、使用許諾書無しに、
使用、複写、修正、そして、配布することへの許可を、上記の著作権表示、この段
落、および、これに続く二つの段落が、すべての複写に添付される限りにおいて、
ここにそれを認めます．

たとえカリフォルニア大学が以下のような損害の可能性について言及していた
としても．このソフトウェア及び文書の使用上，直接的・間接的・特別・偶然
もしくは必然的に，生じた失われた利益を含む損害に於いて，いずれの当事者
に対してもカリフォルニア大学は一切の責任を負いません．

カリフォルニア大学は，特定目的のための商用性及び適合性の暗黙の保証を含
む，しかしそれに限定されることのない，いかなる保証も明確に放棄します．
ここにおいて用意されたソフトウェアは「あるがまま」ということを前提とし，
カリフォルニア大学は維持・補助・更新・改良・修正を用意する義務を負いま
せん．
]

1.5) PostgreSQL のサポート

PostgreSQL の公式なサポートは、元の維持管理者達からもカリフォルニア大学バー
クレー校からもありません。そのサポートはボランティアの努力を通してのみ続けら
れています。

主要なメーリング・リストは: questions@postgreSQL.orgです。PostgreSQL に関す
ることであれば、バグレポートや修正のことに限ることなく議論ができます。このリ
ストへの参加の仕方は、電子メールの本文(Subject 行ではありません)に：

        subscribe
        end

と書いて、questions-request@postgreSQL.org へ送って下さい。

ダイジェスト版のメーリング・リストもあります。このリストへの参加は "本文"に
：

        subscribe
        end

と書いて questions-digest-request@postgreSQL.org へ電子メールを送って下さい
。

ダイジェスト版は、メインリストが受信するメッセージ 30k 程度溜る毎にダイジェ
スト版リストのメンバーに送付されます。

バグのメーリングリストもあります。このリストへの参加は "本文"といっしょに：
bugs-request@postgreSQL.org へ電子メールを送って下さい。

開発者の議論のためのメーリングリストも利用できます。このリストへの参加は電子
メールの本文に：

        subscribe
        end

と書いて、hackers-request@postgreSQL.orgへ電子メールを送って下さい。

PostgreSQL についてもっと詳しく知りたければ、次の postgreSQL WWWホームページ
からたどれます：

     <A HREF="http://postgreSQL.org">http://postgreSQL.org</A>

    [訳注:
         日本語のメーリング・リストを SRA Inc. の石井達夫さんが主催して
        います。このリストの購読は、本文の１行目に：
                subscribe
        と書いて pgsql-jp-request@sra.co.jp 宛に電子メールをお送り下さい。
        詳細は、
                <A HREF="http://www.sra.co.jp/people/t-ishii/postgreSQL/info.html">http://www.sra.co.jp/people/t-ishii/postgreSQL/info.html</A>
        を御覧下さい。また、この ML のアーカイブは、
                <A HREF="http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html">http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html</A>
        で御覧になれます。]

1.6) PostgreSQL の最新版

PostgreSQL の最新版はバージョン 6.2 で、1997年10月2日にリリースされました。
6.2 で新しくなったことについての情報は、我々の WWW ページの TODO リストを御
覧下さい。

1.7) PostgreSQL の商用版はありますか？

Illustra Information Technology (Infomix Software, Inc. の子会社となりまし
た)が POSTGRES を基にした Illustra というオブジェクト-リレーショナル DBMS を
販売しています。Illustra は見かけ上 PostgreSQLと似ていますが、もっと多くの機
能を持っていて、より堅牢で、より性能も良く、実際にドキュメントとサポートを提
供しています。その分、費用がかかります。これ以上の情報が欲しければ、
sales@illustra.comに問い合わせて下さい。

    [訳注：
        インフォミックスのユニバーサル・サーバに融合するそうです。
    ]

1.8) PostgreSQL にはどのようなドキュメントがありますか？

配付の中に、1冊のユーザマニュアルとオンラインマニュアル(マニュアル・ページ)
および幾つかの小さなテスト例題が含まれます。その sqlと附属のオンラインマニュ
アルは特に大切です。

その www ページは、実装ガイドと postgres の設計概念と将来について書かれた５
つの論文へのポインターを含んでいます。

1.9) PostgreSQL はどのバージョンのSQLを使っていますか？

PostgreSQL は SQL-92 のサブセットをサポートしています。ほとんどの重要な構成
は持っていますが、機能の幾つかが欠けています。最も顕著な違いは：

   * 入れ子状の副問い合わせをサポートしません
   * GROUP BY のもとでの HAVING 句がありません

その反面、ユーザー定義の型、関数、継承などを創ることができます。も し、どう
しても PostgreSQL のコーディングを手伝いたければ、ちょうど良い 具合に、上記
の機能洩れを追加することでできます。

1.10) PostgreSQL は、それより前のバージョンの postgres で作成されたデータベ
ースを使って動きますか？

PostgreSQL v1.09 は v1.01 で創られたデータベースと互換があります。

それより前のリリースから 6.2 へのアップグレードにはダンプとリストアが必要で
す。

1.09 よりも前のバージョンからのアップグレードでは、まず、1.09 へはダンプ／リ
ロードはしないでアップグレードしなくてはなりません、それから、1.09 のデータ
をダンプしてそれを 6.2 にロードします。

1.11) PostgreSQL のための ODBC ドライバーはありますか？

PostODBC と OpenLink ODBC の二つの ODBC ドライバーが利用可能です。

PostODBC について興味ある人々のために、PostODBC についての議論の場として、現
在２つのメーリングリストがあります。そのメーリングリストは：

   * postodbc-users@listserv.direct. net
   * postodbc-developers@listserv.direct.net

で、これらのリストは一般的な majordomo メーリングリストです。メールを次のと
ころに送ることによって購読が出来ます：

   * majordomo@listserv.direct.net

    [訳注:
        PostODBC の 日本語パッチを片岡裕生さん(kataoka@interwiz.koganei.tokyo.jp)が作られました:
                ●<A HREF="http://www.interwiz.koganei.tokyo.jp/software/PostODBC/">http://www.interwiz.koganei.tokyo.jp/software/PostODBC/</A>
    ]

OpenLink ODBC はとても人気があります。
<A HREF="http://www.openlinksw.com/postgres.htmlから入手できます。標準的な">http://www.openlinksw.com/postgres.htmlから入手できます。標準的な</A> ODBC クラ
イアント・ソフトウェアで使えますので、支援しているすべてのプラットホーム
(Win, Mac, Unix, VMS)から Postgres ODBC が利用できます。

たぶん我々は、商用品質のサポートの必要な人々に売ることになるでしょうが、フリ
ーウェア版はいつでも入手可能でしょう。質問は、postgres95@openlink.co.ukにお
願いします。

1.12) Postgres を WEB ページにぶらさげるにはどんなツールがありますか？

ウェブへの拡張のためには、PHP/FI が卓越したインターフェースとなっています。
URL は、<A HREF="http://www.vex.net/php/です。">http://www.vex.net/php/です。</A>

    [訳注:
        PHP/FI のWEBページのアドレスは<A HREF="http://php.iquest.net/になってます。">http://php.iquest.net/になってます。</A>
        日本語のサイトは広川さんのところにあります。

        PHP/FI の 日本語パッチを前田充宏さん(mitsu@tramp.co.jp)が作られました:
                ●<A HREF="http://www.tramp.co.jp/Postgres95/">http://www.tramp.co.jp/Postgres95/</A>
        を御覧下さい。
    ]

PHP は簡単な内容に対しては素晴らしいのですが、より複雑な内容に対しては、依然
として perl インターフェースと CGI.pm が使われています。

C で WWW を使って Postgres に問い合わせをする実例が次の場所で試せます：

   * <A HREF="http://postgreSQL.org/~mlc">http://postgreSQL.org/~mlc</A>

perl を使った WDB を基にした WWW ゲートウェイは次の所からダウンロードできま
す：

   * <A HREF="http://www.eol.ists.ca/~dunlop/wdb-p95">http://www.eol.ists.ca/~dunlop/wdb-p95</A>

1.13) PostgreSQL はグラフィカル・ユーザ・インターフェースを持っていますか？
レポート・ジェネレータは？ 埋め込み問い合わせ言語へのインターフェースは？

３つともありません。少なくとも正式な配布には含まれてません。何人かのユーザが
'pgbrowse' と 'onyx' を PostgreSQL のフロントエンドに使って成功したと報告し
ています。幾つかのコントリビューションが tk ベースのフロントエンド・ツールで
動いています。メーリング・リストで聞いて下さい。

    [訳注：
          pgbrowse は POSTGRES4.2 用に作られた Tcl7.3/Tk3.6 を使った
        ＧＵＩです。これを PostgreSQL 用に変更した雛型が pg95browse
        ですが、これを Tcl7.4/Tk4.0+TclX7.4 でほぼ完全に動くようにし
        た pgb5 というのがありました。
                <A HREF="ftp://ftp.folz.de/pub/postgreSQL/pgb5-v0.2a.tar.gz">ftp://ftp.folz.de/pub/postgreSQL/pgb5-v0.2a.tar.gz</A>
          その他に William Wanders(wwanders@sci.kun.nl)さんによる
        pg95admin というのがありました。これは、
        Tcl7.4/Tk4.0 + TclX7.4 + TiX-4.0 を使っていて、古いバージョンの
        Postgres95 では、ユーザ登録やアクセス権の設定などができました。
          Onix は 4GL の汎用の DBMS インターフェースで POSTGRES4.2 に
        対応していました。
          Java インターフェースのプロトタイピングツール Kanchenjunga
                <A HREF="http://www.man.ac.uk/~whaley/kj/kanch.html">http://www.man.ac.uk/~whaley/kj/kanch.html</A>
        もあります。JDK 1.0.2 を使います。
         RAD ツールとしては AppGEN <A HREF="http://www.man.ac.uk/~whaley/ag/appgen.html">http://www.man.ac.uk/~whaley/ag/appgen.html</A> というのもあります。
    ]

----------------------------------------------------------------------------

Section 2: インストール/設定についての質問

2.1) initdb が動きません

   * 適切なパスがセットされているかを確認して下さい
   * 'postgres' のユーザがすべての該当ファイルを所有しているかどうかを確認し
     て下さい
   * $PGDATA/files の下にあるファイルが空でないことを確認して下さい。もし、
     それらがなければ、"gmake install" が何らかのかの理由で失敗してます

2.2) postmaster を起動したら、次のようなメッセージが出ました
"FindBackend: could not find a backend to execute..."
"postmaster: could not find backend to execute..."

おそらく、パスが正しく設定されていません。'postgres' 実行モジュールは設定さ
れたパスの中にあることが必要です。

2.3) システムがカンマ、小数点、および、日付フォーマットについて混乱している
ようです。

ロケールの設定を確かめて下さい。PostgreSQL は postmaster プロセスを走らせた
ユーザーのロケールの設定を使います。これらの設定をあなたの操作環境に合わせて
下さい。

2.4) どのようにすれば /usr/local/pgsql 以外の場所にインストールできますか？

Makefile.global 修正して POSTGRESDIR をそれに合わせるか、あるいは、
Makefile.custom をつくりそこで POSTGRESDIR を定義して下さい。

2.5) postmaster を走らせると、Bad System Call core dumpd というメッセージが
出ます。

さまざまな問題が考えられますが、まず最初にあなたのカーネルに system V の拡張
がインストールされているかを確認して見てください。PostgreSQL はカーネルによ
る共有メモリのサポートを必要とします。

2.6) postmaster を走らせようとすると、IpcMemoryCreate error が出ます。

カーネルが共有メモリーを持つ設定になっていなかったか、でなければ、カーネルに
対して使える共有メモリの大きさを大きく設定する必要があります。具体的な大きさ
は、使っているアーキテクチャとpostmaster を走らせるときに設定するバッファの
数に依存します。ほとんどのシステムでは、既定値のバッファサイズで、少なくても
約760Kが必要です。

2.7) ソースファイルを変更したのですが、再コンパイルをしても変化がみられませ
ん？

幾つかの Makefile がインクルード・ファイルに対して適切な依存関係を持っていま
せん。'make clean' をしてからもう一度 'make' を行なわなくてはなりません。

2.8) 他のホストから自分の PostgreSQL バックエンドへのアクセスは、どのように
防げば良いでしょうか？

$PGDATA/pg_hba ファイルを適切に直して、ホスト主導型の認証を使って下さい。

2.9) 'root' ユーザでデータベースにアクセスできません。

ユーザ id 0(root) でデータベース・ユーザを創るべきではありません。そうすると
ユーザはデータベースにはアクセスできません。これは、すべてのユーザがデータベ
ース・エンジンの中にオブジェクト・モジュールを動的に結合できるようにするかわ
りの保全対策です。

2.10) 競合してテーブルにアクセスするとすべてのサーバが落ちます。なんで？

この問題はセマフォをサポートするように設定していないカーネルで起こ り得ます
。

2.11) よりよい性能を得るために、どのようにデータベース・エンジンを調整できま
すか？

行なえることが２つあります。postmaster を '-o -F' オプションで起動することに
よって、fsync() を無効にする Openlink のオプションを使うことができます。これ
によって、すべてのトランザクション毎に fsync() でディスクを更新するのを止め
ます。

postmaster -B オプションを使ってバックエンド・プロセスとの間で共有する共有メ
モリ・バッファを大きくすることもできます。もし、このパラメータを高くしすぎる
と、プロセスが走らなかったり、予期せずクラッシュしてしまいます。既定値では、
それぞれのバッファは 8K で、 64 バッファです。

postmaster の -S オプションを使って、それぞれのバックエンド・プロセスが一時
的な並べ替えによって使うメモリの最大サイズを増やすこともできます。 それぞれ
のバッファは 1K で既定値は 512 バッファです。

2.12) PostgreSQL ではどのようなデバッグ機能が使えますか？

PostgreSQL は、デバッグのために意味のある、状態情報を報告する幾つかの機能を
持ちます。

まず、-enable-cassert オプションで configure を走らせます。そうしてコンパイ
ルすることにより、沢山の assert() が、バックエンドの進捗状況を監視し、何か予
期せぬことが起きるとプログラムを停止するようになります。

postmaster と postgres の両方で幾つかのデバッグ・オプションの利用ができます
。まず次のように、postmaster を起動するときはいつでも、次のように標準出力と
エラー出力をログ・ファイルに送るようにしてあることを確かめて下さい。

        cd /usr/local/pgsql
        ./bin/postmaster &gt;server.log 2&gt;&amp;1 &amp;

これにより PostgreSQL の最上部のディレクトリに server.log ファイルが置かれま
す。このファイルはサーバーが遭遇した問題やエラーについて役に立つ情報を含みま
す。Postmaster は更に詳細な情報を報告するための -d オプションを持ちます。そ
の -d オプションは、デバグ・レベルを指定する 1〜3の数を取ります。注意しなく
てはならないのは、デバグ・レベル 3 では、大きなログファイルを生成することで
す。

コマンド行から、実際に postgres のバックエンドを走らせることも、また、SQL 文
を直接入力することもできます。これは、デバッグの目的のためにだけお勧めします
。セミコロンではなく、改行が問い合わせを完結することに注意して下さい。もし、
デバッグ・シンボルを一緒にコンパイルしていたならば、何が起きているかを診るの
にデバッガが使えるでしょう。バックエンドが postmaster から起動されたのではな
く、同一環境で走るわけではではないので、ロッキング／バックエンドの相互関係の
問題では重複は起こらないでしょう。あるオペレーティング・システムでは、問題を
診断するために、走っているバックエンドに直接取り付けることができます。

postgres プログラムには、デバッグと性能測定にとても役に立つ -s、-A、-t 等の
オプションがあります。

なんという関数が実行時間を食っているかを見るために、プロファイリングでコンパ
イルすることも可能です。そのバックエンドのプロフィール・ファイルは
pgsql/data/base/dbname ディレクトリに格納されるでしょう。クライアントのプロ
フィールは現行ディレクトリに置かれるでしょう。

EXPLAIN コマンド(この FAQ を参照)は PostgreSQL が問い合わせをどのように解釈
するかを見ることができるようにします。

2.13) 同時に 32 を越えるバックエンドはどのようにすればできますか？

include/storage/sinvaladt.h を編集して、MaxBackendId の値を変えて下さい。将
来的には、設定可能なパラメータにする計画です。

----------------------------------------------------------------------------

Section 3: PostgreSQL の特徴

3.1) PostgreSQL は入れ子状の副問い合わせをサポートしますか？

副問い合わせは実装されていませんが、sql 関数を用いてシミュレートできます。

3.2) ルールを使うと沢山の問題がおきてしまいます。

現在、PostgreSQL のルール・システムはほとんど壊れています。このルール・シス
テムはビューのしくみをサポートするのには十分ですが、所詮その程度のものです。
PostgreSQL のルールは危険を覚悟の上で使って下さい。

3.3) ラージオブジェクトの途中には書き込むことができないみたいです。

PostgreSQL のインバージョン・ラージオブジェクト・システムも、ほとんど壊れて
しまいます。大きなサイズのデータを保存して、そして、それらを読み出すには十分
機能しますが、しかし、実装上の根本的問題が潜んでいます。PostgreSQL のラージ
オブジェクトは危険を覚悟の上で使って下さい。

3.4) PostgreSQL へのクライアント・アプリケーションはどのように書けますか？

PostgreSQL は libpq というＣ言語呼出し可能なライブラリ・インターフェースの他
、沢山あります。src/interfaces ディレクトリを御覧下さい。

    [訳注：
        C++, Tcl/Tk, perl5 などのインターフェイスや
        JDBC ドライバ(6.2 より追加)があります。
    ]

その他の人々も、PostgreSQL への perl インターフェースと WWW ゲートウェイに貢
献しました。PostgreSQL のホームページに詳細がありますので御覧下さい。

    [訳注：
        WWW インターフェースに WDB(A Web interface to SQL DataBase) の
        Wdb-p95 というのがあります。これは perl インターフェースの pg95perl5
        を使っています。
                (<A HREF="http://www.eol.ists.ca/~dunlop/wdb-p95/">http://www.eol.ists.ca/~dunlop/wdb-p95/</A>)
        PHP/FI についてはこの FAQ の 1.12) にあります。
        Python のモジュールの PyGres95 があります。
                (<A HREF="http://www.via.ecp.fr/via_dvpt/products/pygres.html">http://www.via.ecp.fr/via_dvpt/products/pygres.html</A>)
        Java のインターフェースがあります。
                (<A HREF="http://www.demon.co.uk/finder/postgres/index.html">http://www.demon.co.uk/finder/postgres/index.html</A>)
        これは 6.2 より interfaces/jdbc に取り込まれていると思います。
        これ以外のサードパーティーの Java インターフェイスとしては、
                <A HREF="http://www.tara-lu.com/~jimb/jsql">http://www.tara-lu.com/~jimb/jsql</A>)があります。
        ODBC ドライバーについてはこの FAQ の 1.11) にあります。
        ruby の作者である松本さん(ematsu@pfu.co.jp)が ruby のインターフェース
        を作ってくださいました。詳しくは日本語 PostgreSQL ML のアーカイブより、
        <A HREF="http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html">http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html</A>
        "Subject: [pgsql-jp 2446] PostgreSQL ruby module" を御覧ください。
    ]

3.5) pg_group の設定はどのようにしますか？

現在、ユーザ・グループを設定する簡単なインターフェースはありません。明示的に
pg_group テーブルを insert/update しなければなりません。例えば次のようにしま
す：

        jolly=&gt; insert into pg_group (groname, grosysid, grolist)
        jolly=&gt;     values ('posthackers', '1234', '{5443, 8261}');
        INSERT 548224
        jolly=&gt; grant insert on foo to group posthackers;
        CHANGE
        jolly=&gt;

pg_group のフィールドは以下のとおりです：

   * groname: グループ名。Char*16 型で純粋な英数字にすべき。 アンダースコア
     やその他の特殊文字を含めないこと。
   * grosysid: グループID。Int4 型で各グループ毎に一意であるべき。
   * grolist: そのグループに所属する pg_user id のリスト。このフィールドの型
     は int4[]。

3.6) バイナリ・カーソルとノーマル・カーソルの厳密な違いは何ですか？

詳述は、オンラインマニュアルの declare の項を御覧下さい。

    [訳注：(古いFAQ では以下のような説明でした。)
         ノーマル・カーソルは ASCII フォーマットでデータを返します。データ
        はもともとバイナリ・フォーマットで保存されていますのでシステムはASCII
        フォーマットで取り出すために変換をしなければなりません。それに加えて、
        ASCII フォーマットはバイナリ・フォーマットよりもサイズが大きくなること
        がよくあります。また、一旦 ASCII フォーマットで返された属性をクライア
        ント・アプリケーションで扱うために、再びバイナリ・フォーマットに変換し
        なければならないことがよくあります。

         バイナリ・カーソルはデータをもとのバイナリ表現で返します。このため、
        バイナリ・カーソルは変換のオーバーヘッドが少ない分だけ速くなる傾向があ
        ります。

         しかしながら、バイナリ表現は異なるマシン・アーキテクチャ間では異な
        る可能性があるのに対して、ASCII はアーキテクチャに関しては中立です。こ
        のように、クライアント機とサーバ機が異なるバイナリ表現を持つとき、アト
        リビュートをバイナリ・フォーマットで取り出すことはしたくないでしょう。
        また、もし本来の目的がデータを ASCII で表示することであれば、ASCII で
        データを取り出すとによりクライアント側での作業は減ります。
    ]

3.7) R-tree 索引とは何ですか、また、何のために使われますか？

R-tree 索引は空間的なデータに索引を付けるために使われます。ハッシュ索引では
範囲の検索ができません。また、B-tree 索引では、１次元でしか範囲の検索ができ
ません。R-tree インデックスであれば多次元のデータを扱えます。たとえば、もし
R-tree インデックスを 'point' 型の属性に付けることができるとするとシステムは
、長方形に囲まれた点をすべてを選択するというような問い合わせに、より効率良く
答えられます。

組み込まれている R-Tree でポリゴンやボックスを操作できます。理論的にはR-tree
はもっと高い次元を操作するようにも拡張できます。実質的には、R-tree の拡張に
はちょっとした作業が必要でして、現在、我々はそれをどのようにするかについての
文書を持っていません。

R-Tree の設計の原典となる権威ある論文は:

Guttman, A. "R-Trees: A Dynamic Index Structure for Spatial Searching." Proc
of the 1984 ACM SIGMOD Int'l Conf on Mgmt of Data, 45-57.

で、この論文は、Stonebraker 教授の "Readings in Database Systems" でも取り上
げられています。

    [訳注：
        奈良先端大の石川佳治さんより日本 PostgreSQL ML にて文献を紹介して
        頂きました。この ML のアーカイブ
                <A HREF="http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html">http://www.sra.co.jp/people/t-ishii/postgreSQL/archive.html</A>
        から "Subject: [postgres95 801] spatial data structures" を御覧下さい。
    ]

3.8) １つのタップルの最大サイズは？

タップルの大きさは 8K バイトに制限されています。システムの属性やその他のオー
バーヘッドを考慮すると、安全側に見積もって１タップルあたり 8,000 バイトにと
どめるべきでしょう。8K を越える属性を使うときは、ラージ・オブジェクト・イン
ターフェースを使ってみて下さい。

        [訳注：8K は 8*1024=8192]

タップルは 8k の境界をまたがることができないので、5k のタップルでも 8k の保
存領域が必要です。

3.9) 複数の索引を定義しましたが、行なった問い合わせではそれらを使っている様
子がありません。なぜでしょう？

PostgreSQL は統計情報を自動的には保守しません。統計情報を更新するためには、
明示的に 'vacuum' を呼び出さなくてはなりません。統計情報が更新された後は、最
適化部が索引を使うようになり的中率が上がります。ただし、オブティマイザには制
約があって、(OR 句のような)ある状況下では索引を使いませんのでご注意下さい。
カラム指定の最適化統計情報を得るには、'vacuum analyze' をお使い下さい。

もし、システムが已然として索引を見ないとすれば、不適切な *_ops 型のフィール
ドに索引をつくってしまったからでしょう。たとえば、CHAR(4) のフィールドをつく
ったのに、char_ops index type_class を指定してしまったときなどです。

どの型のクラスが利用可能かにつては、オンラインマニュアルで create_index を見
て下さい。フィールドの型と合うはずです。

不適切な索引がつくられても、 postgres は警告を出しません。

索引は ORDER BY 操作のためには使われません。

3.10) 正規表現での検索はどのようにすればよいですか？ 大文字と小文字とを区別
しない regexp 検索は？

オンラインマニュアルの pgbuiltin の項を御覧下さい。 regular expression.をお
捜し下さい。

    [訳注：(古いFAQ では以下のような説明でした。)
         PostgreSQL は ~ 演算子で検索する一般的な正規表現と同様に、SQL の
        LIKE 構文をサポートします。!~ は否定の正規表現演算子です。~* と !~*
        は大文字と小文字を区別しない正規表現演算子です。
    ]

3.11) Vacuum を行なっている最中にサーバーがクラッシュするという経験をしまし
た。ロックファイルはどのように取り除けばよいですか？

オンラインマニュアルの vacuum の項を御覧下さい。

    [訳注：(古いFAQ では以下のような説明でした。)
         vacuum コマンドの途中でサーバが落ちると、ロック・ファイルを残し
        たままにしてしまいます。再び vacuum コマンドを走らせようとすると
        次のような結果で終ってしまいます。


        WARN:can't create lock file -- another vacuum cleaner running?


         もし、vacuum が実際には走っていないことが確認できれば、データベース・
        ディレクトリ($PGDATA/base/&lt;dbName&gt;&gt;ディレクトリ)の "pg_vlock"と
        いうファイルを消すことが出来ます。
    ]

3.12) 様々な文字型のそれぞれの違いは何ですか？

Type            Internal Name   Notes
--------------------------------------------------
CHAR            char            1 character   }
CHAR2           char2           2 characters  }
CHAR4           char4           4 characters  } 固定長に最適化されている
CHAR8           char8           8 characters  }
CHAR16          char16          16 characters }
CHAR(#)         bpchar          指定された固定長となるように空白が詰められる
VARCHAR(#)      varchar         最大長の大きさを指定する、何も詰められない
TEXT            text            長さの制限は最大タップル長による
BYTEA           bytea           バイトの可変長配列

これらのフィールドに索引を付けたり、その他の内部操作を行なうときには、内部名
を使う必要があることを覚えておいて下さい。

上記の型のうち後の４つの型は "varlena" 型です(すなわち、最初の４バイトがデー
タ長で、それの後に実際のデータが続きます)。CHAR(#) と VARCHAR(#) はどれだけ
データがフィールドに保存されようとも最大のバイト数を確保します。TEXT と
BYTEA のみがディスク上でも可変長となる文字型です。

3.13) 問い合わせの中で、フィールドが NULL であることを検出するにはどうします
か？

IS NULL と IS NOT NULL でカラムをテストしてみて下さい。

3.14) 問い合わせ最適化部がどのように問い合わせを評価するのかを見るにはどうし
ますか？

オンラインマニュアルの explain の項を御覧下さい。

    [訳注：(古いFAQ では以下のような説明でした。)
        'EXPLAIN' という単語を問い合わせの前に置いて下さい。たとえば：


                EXPLAIN SELECT * FROM table1 WHERE age = 23;

    ]

3.15) 通番(serial)フィールドはどのようにつくりますか？

Postgres ではユーザのカラムを SERIAL 型として指定することができません。その
かわり、各行の oid フィールドを一意の値として使うことができます。しかしなが
ら、もしデータベースのダンプを取って再ロードし直す必要があるのならば、pgdump
の -o オプションか、もしくは COPY コマンドのWITH OIDS オプションを使って oid
を残しておきます。

SERIAL に似た SEQUENCE 関数もあります。オンラインマニュアルの
create_sequence を御覧下さい。

これを行なうもう一つの適切な方法は関数を作ることです：

        create table my_oids (f1 int4);
        insert into my_oids values (1);
        create function new_oid () returns int4 as
                'update my_oids set f1 = f1 + 1;  select f1 from my_oids; '
        language 'sql';

そうして：

        create table my_stuff (my_key int4, value text);
        insert into my_stuff values (new_oid(), 'hello');

しかしながら、あるサーバがアップデートをしようとたときに、もう一つ のサーバ
がアップデートをしようとした競合状態のとき、両方とも同じ新しい id を選択する
ことを忘れないで下さい。このステートメントはトランザクショ ン中で行なわれる
べきです。

もう一つの方法は、contrib/spi/autoinc.c から、一般的トリガ関数の autoinc()
を使うことです。

3.16) 自分のデータベース・ディレクトリにある pg_psort.XXX ファイルとは何です
か？

それらは問い合わせ実行部によって生成された一時的なファイルです。例えば、もし
ORDER BY 句を満たす為にソートが必要だとすると、幾つかの一時ファイルが並び替
えの結果として生成されます。

もし、そのときにトランザクションもソートも走ってなければ、pg_psort.XXXファイ
ルを消しても大丈夫です。

3.17) 他のマシンから自分のデータベースに接続できないのはなぜですか？

既定値の設定では tcp/ip ホストは localhost からしか接続を許しません。
pgsql/data/pg_hba ファイルにホスト登録を追加する必要があります。

オンラインマニュアルの hba_conf の項を御覧下さい。

3.18) データベース内に定義された索引や演算子はどのようにして見つけます か？

pgsql/src/tutorial/syscat.source ファイルを走らせて下さい。それは、沢山の
'select' 文により必要な情報をデータベースのシステム・テーブルから取り出して
例示します。

3.19) タイムトラベル機能とは何ですか、また、その機能と vaccuum との関係は？

PostgreSQL は他のほとんどのデータベースシステムとは異なる方法でデータの変更
を扱います。テーブルの中の行が変更されると、元の行は変更された時間で印が付け
られ、そして、新しい行が現在のデータで創られます。既定値では、テーブルの中で
は現在の行のみが使われます。もし、FROM 句の中でテーブル名の後ろに 日時を指定
すると、その時点で最新であったデータにアクセスできます。すなわち、

        SELECT *
        FROM employees ['July 24, 1996 09:00:00']

は、指定された時間での雇用者の行をすべて表示します。また、[date,date]、
[date,]、[,date]、 あるいは [,] のような期間を指定できます。この最後のオプシ
ョンはかつて存在したすべての行にアクセスします。

INSERT された行もタイムスタンプを得ますので、望んだ時間のテーブルの中に無い
行は表示されません。

Vacuum は現行以外の行を削除します。このタイムトラベル機能は、ロールバックと
クラッシュ・リカバリのためにデータベースのエンジンにより使われます。期限切れ
の時間が purge で設定されます。

6.0 では一度テーブルが vacuum されたら、行の作成時間は正しく無くなりタイムト
ラベルの失敗を引き起こします。

6.3 ではタイムトラベル機能は取り除かれます。

3.20) oid とは何ですか？ tid とは何ですか？

Oid とは一意の行 ID や通番カラムなどに対する Postgres の答えです。Postgres
の中でつくられるすべての行は一意の oid を得ます。initdb
 で(backend/access/transam.h から)発生される oid はすべて 16384より小さな値
です。initdb 後のすべての oid (ユーザ作成)はそれ以上の値になります。これらす
べての oid はテーブル内やデータベース内に留まらず、Postgres のそのインストレ
ーション全体内で一意であります。

Postgres は別々のテーブルの行を結びつけるために、そのシステム・テーブル内に
oid を使います。この oid は特定のユーザの行を識別するためや結合の中で使われ
ることができます。oid の値を保存するためには oid 型をカラムに使うことを奨め
ます。他の内部カラムを見るにはオンライン・マニュアルの sql(l) を見て下さい。

Tid は特定の物理行をそのブロックとオフセット値で識別するために使われます。
Tid は行が修正されたり再ロードされると変わります。それらの tid は、物理行を
指すために索引記載で使われます。それらは、sql からではアクセスできません。

3.21) Postgres で使われる幾つかの用語の意味は何ですか？

あるソースコードや古い文書の中では、あまり一般的ではなくなった用語を使ってま
す。それらは；

   * 行(row)、レコード(record)、タップル(tuple)
   * 属性(attribute)、フィールド(field)、カラム(column)
   * 表(table)、クラス(class)
   * 取得(retrieve)、選択(select)
   * 置換(replace)、更新(update)
   * 追加(append)、挿入(insert)
   * oid、連番(serial value)
   * ポータル(portal), カーソル(cursor)
   * 領域変数(range variable)、表名(table name)、表別名(table alias)

もしこれら以外にもお気づきの方は、どうぞお知らせ下さい。

3.22) 遺伝的問い合わせ最適化とは何ですか？

PostgreSQL の GEQO モジュールは、遺伝的アルゴリズム(GA)で、沢山のテーブルの
結合する、問い合わせ最適化問題を解くことを意図しています。これにより、しらみ
つぶし探索を行なうことなしに、大きな結合(join queries)を扱うことができるよう
になります。

もっと詳しい情報は README.GEQO &lt;utesch@aut.tu-freiberg.de&gt;を御覧下さい。

3.23) テーブルからカラムの削除はどのようにしますか？

ALTER TABLE DROP COLUMN はサポートしていませんが、その代わりにこうします:

        SELECT ...  -- select all columns but the one you want to remove
        INTO TABLE new_table
        FROM old_table;
        DROP TABLE old_table;
        ALTER TABLE new_table RENAME TO old_table;

    [訳注：
        この方法では、索引が設定されている場合、それがなくなってしまいます。
    ]

3.24) 問い合わせの最初の数行のみを SELECT するにはどうしますか？

オンラインマニュアルのfetchの項を御覧下さい。

これは、ただ単に結果のすべての行がクライアントに転送されるのを避けるだけです
。たとえ、最初の数行だけが欲しくても、すべての問い合わせが評価されてしまいま
す。ORDER BY を持った問い合わせを考えてみて下さい。すべての問い合わせが評価
されてそしてソートされるまでは、行を返す方法は全くありません。

----------------------------------------------------------------------------

Section 4: PostgreSQL の拡張

4.1) ユーザ定義関数を書きましたが、psql の中で実行したらコアダンプしてしまい
ました。

問題は色々と考えられます。まず最初に、お作りになったユーザ定義関数を単独のテ
ストプログラムにして試してみて下さい。また、type_in() や type_out()関数の実
行中のように、フロントエンドがデータを待っている時に elog NOTICES を送ってい
ないか確かめて下さい。

        [訳注：elog は error logging です。]

4.2) 次のようなメッセージを受け取ります。 NOTICE:PortalHeapMemoryFree:
0x402251d0 not in alloc set!

palloc されていない何かを pfree しようとしています。ユーザ定義関数を書くとき
に "libpq-fe.h" をインクルードしないようにして下さい。それをすると palloc が
free のかわりにmalloc になってしまいます。そして、バックエンドが保存領域を
pfreeしようとするときに、そのことを知らせるメッセージを受け取ります。

4.3) PostgreSQL のために粋な新しい型と関数を書きました。

どうか、それらを他の PostgreSQL ユーザと分かちあって下さい。皆さんの行なった
拡張を、メーリング・リストに送ってください。そして、ゆくゆくはそうした拡張が
contrib/ サブディレクトリに入ることになるでしょう。

4.4) タップルを返す C の関数はどのように書きますか？

これには極端な妙技を要します、あまりにも極端すぎて著者らは未だかつてやってみ
たことがありませんが、原理的には可能です。手短に答えてしまえば... それは無理
です。この機能は将来、やがて出来るようになります。

----------------------------------------------------------------------------

Section 5: バグ

5.1) バグ・レポートはどのようにしますか？

その前に <A HREF="http://postgreSQL.orgにある最新の">http://postgreSQL.orgにある最新の</A> FAQ をチェックして下さい。

それと同時に ftp サイト <A HREF="ftp://ftp.postgreSQL.org/pubにもっと新しいバージョン">ftp://ftp.postgreSQL.org/pubにもっと新しいバージョン</A>
の PostgreSQL が無いかをさがしてみて下さい。

"bug-template" ファイルの項目を満たして、それを下記に送ることができます：

   * bugs@postgreSQL.org

これは、開発者メーリング・リストのアドレスです。

        [訳注：バグレポート用のメーリングリストかな？]
--
 Jun Kuwamura
rC Cm			E-mail:	JuK@rcCM.Co.jp, Phone: +81-3-3785-3033
  ^
  ~				re7J-Kwmr@Asahi-Net.or.jp
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00050.html">[pgsql-jp 2635] Re: configure fails with FM/TOWNS/Linux (Re: Self Introduction)</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00052.html">[pgsql-jp 2637] Self Introduction</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00052.html">[pgsql-jp 2637] Self Introduction</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00044.html">[pgsql-jp 2629] JDBC in 6.2</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00051"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00051"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
