<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 2719] Re: failed to connect with PHP/FI system -->
<!--X-From: Tatsuo Ishii <t&#45;ishii> -->
<!--X-Date: Fri, 17 Oct 1997 17:21:32 +0900 -->
<!--X-Message-Id: 199710170821.RAA16088@srashd.sra.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 34462727.6F21@st.rim.or.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 2719] Re: failed to connect with PHP/FI system </TITLE>
<LINK REV="made" HREF="mailto:t-ishii">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00132.html">Date Prev</A>][<A HREF="msg00134.html">Date Next</A>][<A HREF="msg00126.html">Thread Prev</A>][<A HREF="msg00137.html">Thread Next</A>][<A HREF="index.html#00133">Date Index</A>][<A HREF="threads.html#00133">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 2719] Re: failed to connect with PHP/FI system</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Tatsuo Ishii &lt;t-ishii&gt;</LI>
<LI><em>Date</em>: Fri, 17 Oct 1997 17:21:32 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
石井です。PostgreSQL のバージョン、web サーバの種類、PHP/FI のバージョ
ンが分かりませんので、

	apache-2.1.4
	PHP/FI 2,0b12+日本語パッチ
	PostgreSQL 6.1.1

を想定して書きます。

&gt;　ＰｏｓｔｇｒｅＳＱＬをＰＨＰ／ＦＩから使おうとしてみた
&gt;のですが、なかなかうまくいきませんでした。
&gt;
&gt;　まず、ＦｒｅｅＢＳＤには標準のｄｂｍシステムがないよう
&gt;で、ｇｄｂｍをインストールをしました。これを使ってログの
&gt;処理をしようとしたのですが、ｄｂｍｏｐｅｎが使えずにとり
&gt;あえず、アクセスログの使用は諦めました。

/usr/local/etc/httpd/cgi-data は nobody の書き込み許可がありますか？

また、LD_LIBRARY_PATH
&gt;の受け渡しがうまく行かないようなので、static link でリン
&gt;クしました。

ldconfig で /usr/local/pgsql/lib を見るようにするか、httpd の起動スク
リプトで LD_LIBRARY_PATH を設定するようにするなどで対応できます。

&gt;　php.cgi 単独ではうまく動作するのですが、簡単なスクリプ
&gt;トを作って、
&gt;
&gt;#!/usr/local/www/cgi-bin/php.cgi -q
&gt;
&gt;&lt;?$conn = pg_Connect("localhost","5432","","","testdb")&gt;
&gt;
&gt;を実行すると、Bus error というエラーコードを出してエラー
&gt;となりました。このエラーがよく分かりませんでした。また、
&gt;Perlからの呼び出しはうまく行くようです。

こちらは良く分かりませんが、当方では、上記環境で PHP/FI をモジュールに
して FreeBSD で快調に動いてます。
また、別な Linux では、PostgreSQL 6.2 以外は同じ環境でやはり快調です。

# もしかして、PHP/FI 日本語パッチのバグが関係しているのかな。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00137" HREF="msg00137.html">[pgsql-jp 2723] Re: Re: failed to connect with PHP/FI system</A></STRONG>
<UL><LI><EM>From:</EM> Yasutomo Senoo &lt;ysenoo@st.rim.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00126" HREF="msg00126.html">[pgsql-jp 2712] failed to connect with PHP/FI system</A></STRONG>
<UL><LI><EM>From:</EM> Yasutomo Senoo &lt;ysenoo@st.rim.or.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00132.html">[pgsql-jp 2718] Re: Connection Shareing</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00134.html">[pgsql-jp 2720] hello</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00126.html">[pgsql-jp 2712] failed to connect with PHP/FI system</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00137.html">[pgsql-jp 2723] Re: Re: failed to connect with PHP/FI system</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00133"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00133"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
