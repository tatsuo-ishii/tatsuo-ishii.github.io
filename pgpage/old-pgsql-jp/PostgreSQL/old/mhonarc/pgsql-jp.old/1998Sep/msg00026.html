<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 5233] Re: Perl CGI can't exec -->
<!--X-From: Michihide Hotta <sim@remus.dti.ne.jp> -->
<!--X-Date: Wed, 02 Sep 1998 14:30:33 +0900 -->
<!--X-Message-Id: 199809020530.AA00675@hotta.remus.dti.ne.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 199809021227.MAA11258@mail.hopemoon.com -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 5233] Re: Perl CGI can't exec </TITLE>
<LINK REV="made" HREF="mailto:sim@remus.dti.ne.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00024.html">Date Prev</A>][<A HREF="msg00025.html">Date Next</A>][<A HREF="msg00025.html">Thread Prev</A>][<A HREF="msg00028.html">Thread Next</A>][<A HREF="index.html#00026">Date Index</A>][<A HREF="threads.html#00026">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 5233] Re: Perl CGI can't exec</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Michihide Hotta &lt;<A HREF="mailto:sim@remus.dti.ne.jp">sim@remus.dti.ne.jp</A>&gt;</LI>
<LI><em>Date</em>: Wed, 02 Sep 1998 14:30:33 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
堀田＠諫早市です。FreeBSD ユーザでないのではずしている可能性が大ですが、

In message "[pgsql-jp 5228] Perl CGI can't exec",
Hopemoon Internet Y.Mochizuki wrote...
望月 &gt;（４）これのＣＧＩをブラウザーから実行するとサーバーエラーになりました。
望月 &gt;
望月 &gt;その時のエラーログは下記の通りです。
望月 &gt;Can't load '/usr/local/lib/perl5/site_perl/i386-freebsd/auto/Pg/Pg.so' 
望月 &gt;  for module Pg: Can't find shared library "libpq.so.1.
望月 &gt;1" at /usr/local/lib/perl5/DynaLoader.pm line 140.
望月 &gt;
望月 &gt; at /usr/local/lib/perl5/site_perl/Pg.pm line 110
望月 &gt;BEGIN failed--compilation aborted at /home/hopemoon/httpd/htdocs/pgsql_test2.cgi line 3.

(snip)

望月 &gt;（６）LD_LIBRARY_PATH=/usr/local/pgsql/lib  が無いため
望月 &gt;これが原因と考えて、

私もそうじゃないかと思います。

望月 &gt;apache の立上げスクリプトを下記のようにしましたが、
望月 &gt;テストＣＧＩは相変わらずサーバーエラーになり、
望月 &gt;printenv.cgi の表示も変りませんでした。
望月 &gt;
望月 &gt;bash# cat /usr/local/etc/rc.d/apache.sh
望月 &gt;#!/bin/sh
望月 &gt;export LD_LIBRARY_PATH=/usr/local/pgsql/lib
望月 &gt;/usr/local/bin/httpd -f /home/hopemoon/httpd/conf/httpd.conf &amp;&amp; echo -n '
望月 &gt;httpd'

httpd はどんどん子供を産みますが、環境って引き継がれるんでしょうか？

Linux の場合は、/etc/ld.so.conf というファイルがあり、ここに
ライブラリのデフォルト・サーチパスを設定して ldconfig という
コマンドで反映させます。FreeBSD にも同様のコマンドがあるんじゃ
ないでしょうか？
--------10--------20--------30--------40--------50--------60--------70

堀田 倫英（Michihide Hotta)
[Mail] sim@remus.dti.ne.jp     [Web] <A HREF="http://www.remus.dti.ne.jp/~sim/">http://www.remus.dti.ne.jp/~sim/</A>
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00035" HREF="msg00035.html">[pgsql-jp 5242] Re: Perl CGI can't exec</A></STRONG>
<UL><LI><EM>From:</EM> ASADA Kazuhisa &lt;asada@trust.co.jp&gt;</LI></UL></LI>
<LI><STRONG><A NAME="00028" HREF="msg00028.html">[pgsql-jp 5235] Re: Perl CGI can't exec</A></STRONG>
<UL><LI><EM>From:</EM> Syunichi Shimizu &lt;syun@noda-hs.noda.chiba.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00021" HREF="msg00021.html">[pgsql-jp 5228] Perl CGI can't exec</A></STRONG>
<UL><LI><EM>From:</EM> "Hopemoon Internet Y.Mochizuki" &lt;support@hopemoon.com&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00024.html">[pgsql-jp 5231] You can't change sequence relation</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00025.html">[pgsql-jp 5232] Re: Perl CGI can't exec</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00025.html">[pgsql-jp 5232] Re: Perl CGI can't exec</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00028.html">[pgsql-jp 5235] Re: Perl CGI can't exec</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00026"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00026"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
