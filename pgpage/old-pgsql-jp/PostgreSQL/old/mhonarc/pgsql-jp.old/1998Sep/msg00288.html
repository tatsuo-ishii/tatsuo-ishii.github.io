<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 5497] Tuples is not the same as heap. -->
<!--X-From: Katsuya Sawamura <sawamura@ssemoka.co.jp> -->
<!--X-Date: Tue, 29 Sep 1998 10:00:36 +0900 -->
<!--X-Message-Id: 19980929100036H.sawamura@ssemoka.co.jp -->
<!--X-ContentType: text/plain -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 5497] Tuples is not the same as heap. </TITLE>
<LINK REV="made" HREF="mailto:sawamura@ssemoka.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00287.html">Date Prev</A>][<A HREF="msg00289.html">Date Next</A>][<A HREF="msg00300.html">Thread Prev</A>][<A HREF="msg00289.html">Thread Next</A>][<A HREF="index.html#00288">Date Index</A>][<A HREF="threads.html#00288">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 5497] Tuples is not the same as heap.</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: Katsuya Sawamura &lt;<A HREF="mailto:sawamura@ssemoka.co.jp">sawamura@ssemoka.co.jp</A>&gt;</LI>
<LI><em>Date</em>: Tue, 29 Sep 1998 10:00:36 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
沢村＠三洋シリコンです。

またまた、'vacuum' でやられてます．．．(;_;)

'vacuum' を実行すると、

    mydb=&gt; vacuum mytable;
    NOTICE:  Ind pk_mytable: NUMBER OF INDEX' TUPLES (151226) IS NOT THE
    SAME AS HEAP' (151227)

と言う警告のメッセージが出力されます。

ヒープ領域 (shard memory ?) のインデックス数とタップル数が一致していないことは
メッセージから分かるのですが、何故こうなるのかが分かりません。

必殺の reboot postmaster をしても、やはり怒られてしまいます。
但し、複数のテーブルで怒られていたのが、1 つのテーブルだけになったり
と、状況は変化します。

そこで、皆さんにお尋ねしたいのが、

    1. 何故こうなったのか？
    2. どうすれば直るのか？
    3. この警告による影響はあるのか？

と言う誠に自分勝手な内容です。

本来ならソースコードでも読んで解析すべきなのでしょうが、そこまでの力もなく、
また時間的な問題もあり皆様に聞いてしまおうと言う魂胆です:-)

【環境】
   - SPARC/Solaris 2.5.1
   - PostgreSQL 6.3.2 + jumboPatch
   - gcc-2.8.1 + flex 2.5.4 + bison 1.25

以上、宜しくお願い致します。
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<UL><LI><STRONG>Follow-Ups</STRONG>:
<UL>
<LI><STRONG><A NAME="00289" HREF="msg00289.html">[pgsql-jp 5498] Re: Tuples is not the same as heap.</A></STRONG>
<UL><LI><EM>From:</EM> SHIOZAKI Takehiko &lt;takehi-s@ascii.co.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00287.html">[pgsql-jp 5496] Re: Make error on postgresql-: 6.3.2/ SunOS 4.1.4　</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00289.html">[pgsql-jp 5498] Re: Tuples is not the same as heap.</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00300.html">[pgsql-jp 5509] Re: 始めましていきなり教えて下さい</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00289.html">[pgsql-jp 5498] Re: Tuples is not the same as heap.</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00288"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00288"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
