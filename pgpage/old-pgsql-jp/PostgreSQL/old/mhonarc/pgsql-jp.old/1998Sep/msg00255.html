<!-- MHonArc v2.1.0 -->
<!--X-Subject: [pgsql&#45;jp 5464] Re: バックエンドの動き -->
<!--X-From: t&#45;ishii@sra.co.jp (Tatsuo Ishii) -->
<!--X-Date: Wed, 23 Sep 1998 00:30:52 +0900 -->
<!--X-Message-Id: 199809221532.AAA09481@meshsv26.tk.mesh.ad.jp -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 360756CCCF.BA58SIM@smtp.remus.dti.ne.jp -->
<!--X-Head-End-->
<HTML>
<HEAD>
<TITLE>[pgsql-jp 5464] Re: バックエンドの動き </TITLE>
<LINK REV="made" HREF="mailto:t-ishii@sra.co.jp">
</HEAD>
<BODY BGCOLOR="#ffffff">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<A HREF="msg00254.html">Date Prev</A>][<A HREF="msg00256.html">Date Next</A>][<A HREF="msg00252.html">Thread Prev</A>][<A HREF="msg00243.html">Thread Next</A>][<A HREF="index.html#00255">Date Index</A>][<A HREF="threads.html#00255">Thread Index</A>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>[pgsql-jp 5464] Re: バックエンドの動き</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><em>From</em>: <A HREF="mailto:t-ishii@sra.co.jp">t-ishii@sra.co.jp</A> (Tatsuo Ishii)</LI>
<LI><em>Date</em>: Wed, 23 Sep 1998 00:30:52 +0900</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
石井です。

At 4:50 PM 98.9.22 +0900, Michihide Hotta wrote:
&gt;堀田＠諫早市です。すばやいコメントどうもです。

どういたしまして。

&gt;&gt; まあ、それはそれとして、確かPHPの場合、あるページのスクリプトが終了す
&gt;&gt; ると、自動的にいろんな後始末をしてくれて、PostgreSQLの場合も 
&gt;&gt; pg_close()を呼んでもらえると思ってましたが。
&gt;
&gt;さすがは PHP3。

いや、実は PHP/FI の 2.x ではこうなっているのを確認した憶えがあるので
すが、PHP3 はソースを見て確かめたわけでは無いのです。でも、わざわざ
機能を減らすとは思えないので、PHP3 にも実装されていると思いますが...

&gt;１つのセッションでは１つの DB にしか接続できないんですか。
&gt;そういえば、pg_xxx() には DB を切り替える I/F がないなあ。
&gt;psql の \connect は、その名の通り、新しいセッションを張る
&gt;わけですね。

でも、１つのセッションで１つの DBというのもそんなにおかしく
ないと思います。SQL-92でもそのような想定になっていると思います。
セッションを切り替えるインターフェイスはあってしかるべきですね。
でも、これはlibpqレベルで実現できそうなのでそんなに大変じゃ無い
でしょう。多分 libpq の一つ上のレイヤを新たに作るのかな。

&gt;はい。PostgreSQL が内部で何をやっているかはよく知りませんが、
&gt;\copy で１〜２時間ほどかかる処理をやっていると、その間は
&gt;telnet 君もほとんど反応しなくなるので、むちゃくちゃ忙しいん
&gt;だろうと思ってます。Linux はかなり頑強ですが、余計ないじわる
&gt;をしない方が精神衛生上いいので。

多分 index の作り直しに時間を喰っているのですね。あんまり時間が
かかるようでしたら、一時的に index を drop してから copy し、
その後で再度 index を作り直す方がトータルの時間は短くて
済むかも知れません。
--
Tatsuo Ishii
t-ishii@sra.co.jp
</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00252" HREF="msg00252.html">[pgsql-jp 5461] Re: バックエンドの動き</A></STRONG>
<UL><LI><EM>From:</EM> Michihide Hotta &lt;sim@remus.dti.ne.jp&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<LI>Prev by Date:
<STRONG><A HREF="msg00254.html">[pgsql-jp 5463] transaction or work</A></STRONG>
</LI>
<LI>Next by Date:
<STRONG><A HREF="msg00256.html">[pgsql-jp 5465] sparc-sun-solaris2.5.1</A></STRONG>
</LI>
<LI>Prev by thread:
<STRONG><A HREF="msg00252.html">[pgsql-jp 5461] Re: バックエンドの動き</A></STRONG>
</LI>
<LI>Next by thread:
<STRONG><A HREF="msg00243.html">[pgsql-jp 5452] win32 client binary for 6.4beta</A></STRONG>
</LI>
<LI>Index(es):
<UL>
<LI><A HREF="index.html#00255"><STRONG>Date</STRONG></A></LI>
<LI><A HREF="threads.html#00255"><STRONG>Thread</STRONG></A></LI>
</UL>
</LI>
</UL>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
