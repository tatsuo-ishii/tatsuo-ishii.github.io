<A NAME="0">
<PRE><B>
From: Tanaka Minoru &lt;green@keiken.co.jp&gt;
Date: Fri, 28 Jun 1996 18:46:26 +0900
Subject: [postgres95 497] Re: vacuum 
Message-Id: &lt;9606280946.AA01180@onbashira&gt;
</A>
</B></PRE>
<PRE>

田仲＠ケイケンです。
一ヶ月も前のものにフォロー、それも便乗質問ですいません。

masayang@ns-kansai.co.jpさん：
masayang&gt; 中村＠ＮＳＫです。
masayang&gt; 
masayang&gt; vacuumの件です。
...
masayang&gt; ということで、あんまりテーブルが大きくなる場合には、vacuumしたほうが
masayang&gt; いいんじゃないかと思います。

user manual によれば、 vacuum しないとどんどんお馬鹿なDBMSに
なるそうです。毎晩やれ、と書いてありました。

で、これに関連して疑問が湧いてきました。

・vacuum 中のデータベースは使えないのでしょうか。なんとなく、
  処理対象のテーブルだけは使えないような気がしますが。

もとの中村さんのメールは、巨大なテーブルの vacuum に時間が
かかって困るというものでした。そこで私が思ったのは、テーブル
を複数のテーブルに分割したらどうか、というものでした。vacuum
時間はデータサイズの2乗に比例する、ということですのでサイズ
が2倍になれば4倍の時間がかかる計算です。でも2つのテーブルに
分ければ2倍の時間で済むはずですからね。そこで、

・同じ形式の複数のテーブルは union 句で接続して、select でき
  るはずですが、インデックスは効くのでしょうか。

・ひとつの親テーブルと、それを継承する複数の子テーブルを作り、
  「親テーブル*」で検索すれば、全体を検索できるのでしょうか。
  その場合、インデックスはどうなるんでしょうか。

最後になりますが、中村さんのところは linux でしたよね。
http://www.empress.com で empress for linux という商用データ
ベースの懸賞をしています。応募者は少なそうです。ユーザ数が少
なければ、これでも十分使えるでしょう。(あ、ここで言うのはま
ずかったかな ^_^;)

＃ 実はこれに当たってCDをもらいました。でも、98noteしか
＃ ない私は FreeBSD(98) ユーザ。ああ、宝持ち腐れ状態… ;_;)
-
田仲 稔 (Tanaka Minoru)  （株）ケイケンエンジニアリングシステム 諏訪支社
<HR>
</PRE>
