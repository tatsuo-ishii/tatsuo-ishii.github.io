<A NAME="2">
<PRE><B>
From: Kazuyoshi Uesaka &lt;uesaka@mk.ecei.tohoku.ac.jp&gt;
Date: Sun, 09 Feb 1997 19:45:49 +0900
Subject: [postgres95 1348] Re: how to use the COPY
Message-Id: &lt;199702091045.TAA16927@newton.mk.ecei.tohoku.ac.jp&gt;
</A>
</B></PRE>
<PRE>

上坂＠東北大です. 

From: &quot;神田大輔 [Daisuke Kanda]&quot; &lt;small@first.tsukuba.ac.jp&gt;
Subject: [postgres95 1347] Re: how to use the COPY
Date: Sun, 09 Feb 1997 17:37:35 +0900

Kanda&gt;   TAB でフィールドを区切って、一行に１レコード書きます。
Kanda&gt; 
Kanda&gt; 本のタイトル1	本の著者名1	出版社1
Kanda&gt; 本のタイトル2	本の著者名2	出版社2
Kanda&gt; 
Kanda&gt; &gt; copy books from 'books.pg';
Kanda&gt; 
Kanda&gt;   でできます。ファイル名はフルパスじゃないとダメかも。

早速, ありがとうございます. うまくできました. 
USING DELIMITERS を使えば, デリミタをいろいろと変えられるよ
うですね. 

あと, ついでにお聞きしたいのですが, COPY でファイル出力した
いときには, postgresさん(postmasterのowner)になって psql を
起動しないと書き込めないようです. 

これは, 「psql が行っているファイルの入出力は postgresさんの権
利で行われている」と考えていいのでしょうか. 

-----
  東北大学 大学院 工学研究科 電気・通信工学専攻 川又研究室Ｍ１
   上坂 和義(Kazuyoshi UESAKA)	mailto:uesaka@mk.ecei.tohoku.ac.jp
				http://www.mk.ecei.tohoku.ac.jp/~uesaka
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: &quot;神田大輔  [Daisuke Kanda]&quot; &lt;small@first.tsukuba.ac.jp&gt;
Date: Sun, 09 Feb 1997 17:37:35 +0900
Subject: [postgres95 1347] Re: how to use the COPY
Message-Id: &lt;199702090837.RAA13723@matsumi.first.tsukuba.ac.jp&gt;
</A>
</B></PRE>
<PRE>


  神田＠筑波大です。

Uesakaさんの書かれた、
	「[postgres95 1346] how to use the COPY」
からの引用です。

Uesaka&gt; postgres95を正式にインストールした翌日にpostgreSQLがでてショッ
Uesaka&gt; クを受けています. (^^;)

  僕も最近入れたばっかりです(^^;

Uesaka&gt; 最近, 別のフォーマットでデータを入力することはできないものか
Uesaka&gt; と思っていたら, COPY というコマンドがあることに気づきました.
Uesaka&gt; 
Uesaka&gt; が, マニュアルを読んでも, 使い方が良くわかりませんでしたので
Uesaka&gt; 教えていただけないでしょうか. 
Uesaka&gt; 
Uesaka&gt; 具体的に, 
Uesaka&gt; 
Uesaka&gt; ---
Uesaka&gt; 本のタイトル1
Uesaka&gt; 本の著者名1
Uesaka&gt; 出版社1
Uesaka&gt; 
Uesaka&gt; 本のタイトル2
Uesaka&gt; 本の著者名2
Uesaka&gt; 出版社2
Uesaka&gt; 
Uesaka&gt; ....
Uesaka&gt; ---
Uesaka&gt; 
Uesaka&gt; のようなファイルがあって, これを読み込ませたいと考えています. 

  TAB でフィールドを区切って、一行に１レコード書きます。

本のタイトル1	本の著者名1	出版社1
本のタイトル2	本の著者名2	出版社2

＃perl なんかで変換して下さい。

  このファイルを books.pg という名前で保存して、booksテーブルに書き込みたい
とすると、

&gt; copy books from 'books.pg';

  でできます。ファイル名はフルパスじゃないとダメかも。

    筑波大学自然学類三年次神田大輔 
	e-mail:	small@first.tsukuba.ac.jp
	WWW:	http://www.first.tsukuba.ac.jp/~small
	PGP fingerprint:09 35 5B 57 5B B7 C8 8B  9C 87 7C 57 8F 2F BE 8B
<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Kazuyoshi Uesaka &lt;uesaka@mk.ecei.tohoku.ac.jp&gt;
Date: Sun, 09 Feb 1997 15:39:13 +0900
Subject: [postgres95 1346] how to use the COPY
Message-Id: &lt;199702090639.PAA05584@newton.mk.ecei.tohoku.ac.jp&gt;
</A>
</B></PRE>
<PRE>


postgres95を正式にインストールした翌日にpostgreSQLがでてショッ
クを受けています. (^^;)

研究室の図書データベース(貸し借りチェック付)を作っています.
データの入力の際に, 例えば, 

INSERT INTO book VALUES('本の名前','著者'...);

というようなものを書いて, nkfを通して読み込んでいます. 
最近, 別のフォーマットでデータを入力することはできないものか
と思っていたら, COPY というコマンドがあることに気づきました.

が, マニュアルを読んでも, 使い方が良くわかりませんでしたので
教えていただけないでしょうか. 

具体的に, 

---
本のタイトル1
本の著者名1
出版社1

本のタイトル2
本の著者名2
出版社2

....
---

のようなファイルがあって, これを読み込ませたいと考えています. 

よろしくお願いします. 

-----
  東北大学 大学院 工学研究科 電気・通信工学専攻 川又研究室Ｍ１
   上坂 和義(Kazuyoshi UESAKA)	mailto:uesaka@mk.ecei.tohoku.ac.jp
				http://www.mk.ecei.tohoku.ac.jp/~uesaka
<HR>
</PRE>
