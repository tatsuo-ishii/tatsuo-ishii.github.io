<A NAME="3">
<PRE><B>
From: Yoji Kogure &lt;yoji@sainet.or.jp&gt;
Date: Wed, 02 Oct 1996 23:57:22 +0900
Subject: [postgres95 804] はじめまして
Message-Id: &lt;199610021457.XAA10214@sainet.or.jp&gt;
</A>
</B></PRE>
<PRE>


postgres95 MLのみなさま。はじめまして。木暮と申します。

Linuxを使用して、個人的に運営しているWWWサイト用のデータ管理に挑戦して
います。（サイトはレンタルなのでPostgres95を使用することはできません）
現在はDBMなどを使用して何とかやりくりをしているのですが、データ管理を
もっと簡単にするために、Postgres95を利用できないかと模索している段階で
す。


環境は
	Linux 2.0
	Postgres95 1.06 + pg95perl
です。

今後ともよろしくお願いします。

==============================================
Yoji Kogure.  Email: yoji@sainet.or.jp 
                     PFB02320@niftyserve.or.jp 
==============================================


<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: Yoshiharu Ishikawa &lt;ishikawa@is.aist-nara.ac.jp&gt;
Date: Wed, 02 Oct 1996 13:27:46 +0900
Subject: [postgres95 803] Re: Re: r-tree index
Message-Id: &lt;199610020427.NAA16976@enju.aist-nara.ac.jp&gt;
</A>
</B></PRE>
<PRE>

奈良先端大の石川です。

&gt;&gt; On Wed, 02 Oct 1996 11:18:13 +0900 Yoshinari Tsumagari &lt;ytumagar@oracle.co.jp&gt; wrote:

&gt; そういう背景があったのですか．．．
&gt; 
&gt; 過去ログを見て、深く考えずにお願いのメールを出してしまったことを
&gt; 反省しております。
&gt; 
&gt; いただいたファイルについては石川さんのおっしゃる通りに処置したいと思います。
&gt; お騒がせして申し訳ありませんでした。

こちらこそ、どうも申し訳ありません。突然前のメールのような投稿を受けて
つまがりさんも驚かれたと思いますが、気を悪くしないでくださいね :-)

&gt; 先程石川さんが送られたR-treeに関する参考資料のメールを読んだのですが、やはり
&gt; 論文が多いですね。

postgres(95)を商品化したDBMSとして、Illustra (イラストラ) というDBMSが
あり、日本でも去年くらいから販売されています。postgres(95)の開発の中心
となったMichael Stonebraker氏 (UCBの教授) が社長をやっていたと思います
が、その後Informixに吸収されました。postgresの商品化ということで、
R-treeなども実装されています。Illustraの資料や雑誌の記事などを参照され
ると、もしかするとR-treeに関する記述があるかもしれません。なお、
Illustra DBMSは将来的にはInformix DBMSに統合される予定のようです。
URLはhttp://www.illustra.com/です。

**

ついでですが、postgresとの関連に興味もある方もおありかと思いますので、
話のついでにIllustraについて説明しておきます。話のいきがかり上で宣伝の
つもりではないのでお許し下さい。

Illustraの構成としては、オブジェクトリレーショナルデータベースとしての
基本機能を持つサーバと、種々の分野別の機能を実装したモジュールである
DataBladeがあり、たとえばテキストを扱うならText DataBlade、時系列デー
タを扱うならTimeSeries DataBladeを別途購入すればそのようなデータを容易
に格納・検索できるということになっています。こういうモジュールをDBMS本
体と独立して開発できるようにしたことで、サードパーティーがDataBladeを
提供できるようになり、実際他の会社からもDataBladeが出ているようです

そのようなDataBladeの一つとして、2-D Spatial DataBladeというものがあり、
2次元の空間オブジェクトの格納・検索機能をサポートしています。この
DataBladeではR-treeが使われています。実際に売られているかどうかはわか
りませんが、3-D Spatial DataBladeというのもあるようです。あと、想像で
すが、TimeSeries DataBladeでももしかしたらR-treeを使っているかもしれま
せん。

**

実は、うちの研究室に昨日Illustraが入荷して、インストール前にマニュアル
を眺めているところなのですが、「template1データベース」などという記述
もあったりして、やはり基本的にはpostgresのようです。ちゃんと売り物とし
て整備して、種々のDataBladeを開発したのがIllustraということになるので
しょう。残念ながら2-D Spatial DataBladeは購入していないため、Illustra
におけるR-treeの詳細はわかりません。

postgres95も並行して利用していくつもりですので、MLのみなさま今後ともよ
ろしくお願いします。

石川佳治 (いしかわ よしはる)
奈良先端科学技術大学院大学
情報科学研究科
Phone: 07437-2-5332
Fax: 07437-2-5399
E-mail: ishikawa@is.aist-nara.ac.jp

<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Yoshinari Tsumagari &lt;ytumagar@oracle.co.jp&gt;
Date: Wed, 02 Oct 1996 11:18:13 +0900
Subject: [postgres95 802] Re: Re: r-tree index
Message-Id: &lt;9610020223.AA09284@jphp1.jp.oracle.com&gt;
</A>
</B></PRE>
<PRE>

今回お願いのメールを出しましたつまがり と申します。


In message &lt;199610011153.UAA15497@enju.aist-nara.ac.jp&gt;
   &quot;[postgres95 799] Re: r-tree index&quot;
   &quot;Yoshiharu Ishikawa &lt;ishikawa@is.aist-nara.ac.jp&gt;&quot; wrote:

(申し訳有りませんが、一部省略させていただきました。)

&gt; このMLはほとんどROMで申し訳ありあません＠奈良先端大の石川です。
&gt; 

　　　　　　　　　　　　(中略)

&gt; そもそも、この論文がMLの話題に出てきたのは、「R-treeとは何でしょう」と
&gt; いう問いに筑波大の学生の和久利さんが同じ研究室の古本さんの修論を紹介し
&gt; たことにあるのですが、今回古本さんと連絡をとったところによると、どうも
&gt; 和久利さんと古本さんと行き違いがあったらしく、古本さんには知合いに見せ
&gt; るというニュアンスしか伝わっていなかったようです。また、古本さん自身は
&gt; ftpで公開されることも知らなかったようです。もう一つ、ftpで公開された論
&gt; 文は修論の最終バージョンではなくてまだ途中の段階だったということです。
&gt; 
&gt; そこでですが、この論文のPostScriptファイルをお持ちの方は、これ以上配布
&gt; しないで、できれば処分願います。この処置については古本さんの許可はもらっ
&gt; ています。もちろん、大学の修士論文は公開されているものなのですが、自分
&gt; の意図しない形で論文が配布されているという状況は本人も不本意でしょう。
&gt; 実際の論文には、いわゆる正規のルートということで、筑波大の図書館などを
&gt; 通じて論文の閲覧などしていただけたらと思います。
&gt; 

　　　　　　　　　　　　(以後省略)

そういう背景があったのですか．．．

過去ログを見て、深く考えずにお願いのメールを出してしまったことを
反省しております。

いただいたファイルについては石川さんのおっしゃる通りに処置したいと思います。
お騒がせして申し訳ありませんでした。


**

先程石川さんが送られたR-treeに関する参考資料のメールを読んだのですが、やはり
論文が多いですね。

社会人になるとなかなか大学の図書館まで足が向かなくて．．．
でもいい機会ですので、教えていただいた論文を見に行ってこようかと思います。

有益な情報を教えていただきましてありがとうございました。




<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Yoshiharu Ishikawa &lt;ishikawa@is.aist-nara.ac.jp&gt;
Date: Wed, 02 Oct 1996 00:23:06 +0900
Subject: [postgres95 801] spatial data structures
Message-Id: &lt;199610011523.AAA15985@enju.aist-nara.ac.jp&gt;
</A>
</B></PRE>
<PRE>

奈良先端大の石川です。空間インデックスとR-treeの参考文献を。

**

空間インデックスに関する研究をサーベイした日本語の文献は少ないのですが、
ちょっと古いものとしては、

1) Hanan Samet,
   &quot;Hierarchical Representations of Collections of Small Rectangles&quot;,
   ACM Computing Surveys, Vol. 20, No. 4, pp. 271-309, 1988.
   
を訳した

2) Hanan Samet (著), 今井浩, 今井桂子(訳)
   「長方形集合の階層的表現」
   bit別冊 コンピュータ・サイエンス acm computing surveys '88
   共立出版, 1990年5月.
   
があります。ただし、R-treeの話は最後にちょっとあるだけです。
1)の「ACM Computing Surveys」という雑誌は、コンピュータ関連の学会の最
大手の一つのACMが出している雑誌で、各研究領域の研究動向のサーベイを載
せるものです。2)は、毎年共立出版がその雑誌の中からいくつか論文をピック
アップして訳したものです。どちらも大学の図書館にいけばみつかると思いま
す。Hanan Sametには、

3) Hanan Samet,
   &quot;The Design and Analysis of Spatial Data Structures&quot;,
   Addison-Wesley, 1989

4) Hanan Samet,
   &quot;Applications of Spatial Data Structures: Computer Graphics, Image
   Processing, and GIS&quot;,
   Addison-Wesley, 1990 (もしかしたら1989)

という著書もあります。3)の方はいま手もとにないのですが、1)の拡張版のよ
うなものです。4)にはR-treeはでてきません。どちらも読むのは大変だとおも
いますし、R-treeに関する文献というわけでもありません。実は私自身もちゃ
んとは読んでいません:-) どちらもAddison-Wesleyというアメリカの出版社か
ら出ています。これも大学の図書館を探せば手に入るでしょう。

Sametには、他には

5) Hanan Samet,
   &quot;Spatial Data Structures&quot;,
   in Won Kim (ed.), &quot;Modern Database Systems: The Object Model,
   Interoperability, and Beyond&quot;, pp. 361-385 (Chapter 18),
   ACM Press, 1995

というのもあります。Won Kimという人が編者となって最近のデータベース研
究の話題を集めた本なのですが、その一節を担当しています。あまり詳しくは
ないみたいです。英語で構わないという方はこれから入ってもいいと思います。

**

R-tree自体の提案は, 以前のメールにあるように、

6) A. Guttman,
   &quot;R-Trees: A Dynamic Index Structure for Spatial Searching&quot;,
   in Proceedings of the 1984 ACM SIGMOD International Conference on
   Management of Data, pp. 45-57, Boston, MA, 1984.

が最初になります。ACM SIGMODというのは、先に書いたACMという学会のデー
タベース関連の分科会です。この論文は、ACM SIGMODが毎年開く国際会議の予
稿集に採録された論文ということになります。このような文献も大学の図書館
などに相談すれば手に入ると思います。

このあたりの研究分野は2, 3年が一昔であるようなところもありますので、必
ずしも10年以上も前の論文が現在読む意義があるかは必ずしもそうとはいいき
れないところがあります。6)の論文に関しても、実際にこの分野を研究する場
合には読むべきかもですが、R-treeを簡単に理解するに読むには適していない
でしょう。

R-treeについては、いろいろと改善策が提案されていて、それらの変種を総称
して「R-treeファミリー」と呼んだりします。R+-treeとR*-treeというのがよ
く参照されます。どちらもR-tree本来の構成などをちょっといじったものです。
R-treeファミリーの中でどれがいいのかという話については、すいません、私
にはわかりません (_o_)
おそらくはどのような環境や対象データを想定するかで得失があると思います。

**

あとは、R-treeに関する余談をいくつか書きます。

1) R-tree自体の使用例ですが、postgres95ではなくpostgres-v4r2のcontrib
の下にgeoという地理情報システムのソフトが入っていました。ヨーロッパの
地図が出てきて、その地図上である地点や領域を指定して問合せが出せるとい
うものです。

2) R-treeは、基本的には長方形領域の間の包含関係をもとに索引構造を作っ
ていく索引手法なのですが、包含関係というのは別に長方形領域の間だけでな
くて、たとえば、集合の間の包含関係などいろいろと考えることができます。
そういった点からR-treeやB-treeを一般化したのがGiSTという索引構造で、
Postgres95と同じくUCBの

  http://s2k-ftp.cs.Berkeley.EDU:8000/gist/

から手に入るようです。単体でも、Postgres95の索引としても使えるようです。
ただし、R-treeのようにこれまで研究分野で使い込まれてきた索引手法ではな
く、あくまでも新規に提案されたものですので、今後実際に残っていくかはわ
かりません。

3) R-treeのような空間インデックスは、地図などのようなデータだけでなく、
n次元空間上の点として表されるような特徴量についても対処できます (もち
ろん、効率が良くないといけないのですが)。たとえば、画像データの類似検
索や、株価のような時系列データの検索などが提案されています。

画像データの場合は、画像の特徴ベクトルをn次元空間上の点ととらえます。
時系列データに関する検索としては、たとえば「現在の株価の変動と同じよう
な変動の傾向を示している時期はいつか」といった問合せが考えられます。株
価の変動曲線をフーリエ変換して、そのフーリエ係数を前からn個とってきてn
次元の点として扱うことなどが提案されています。

このあたりについては、研究者としてはChristos Faloutsos
(http://www.cs.umd.edu/users/christos/) などが有名です。なお、地理デー
タへの応用などではHans-Peter Kriegel
(http://www.dbs.informatik.uni-muenchen.de/index_e.html) なども有名で
す。

4) 地図データなどでは一般に次元数は2か3でしょうが、画像検索などのよう
ないろいろな応用を考えると高次元のデータを扱う必要もあります。R-treeファ
ミリーは他の空間インデックスにくらべて比較的高次元に強いという話を聞い
たことがあります。ちょっと出典は忘れました。

5) R-treeがPostgres95でがなぜ実装されたかなのですが、R-tree自体が空間
インデックスとしてかなり早い時期に提案されたこともあり、ある程度有効性
が検証されていたことや、Postgresを作ったグループ自体が以前にR-treeを研
究していたことなどが理由としてあると思います。

**

ここまで書いてきて、参考文献でインターネット上で手に入るものを挙げてな
いのに気づきました。といっても、R-tree自体の提案はかなり古いので、現在
インターネット上にある文献はR-treeの知識がある程度あるものとして書かれ
ています。R-tree自体は図を見れば一目瞭然のところもありますので、R-tree
自体の文献ではないですが、R-tree図が挙げてある資料を探しました。

上に挙げたChristos Faloutsosが持っている授業のホームページからたどれる
ところに参考文献のページ

  http://www.cs.umd.edu/class/cmsc724-s96/mtguide.html

があり、そこに「Transparencies of lectures」として

  http://www.cs.umd.edu/class/cmsc724-s96/foils/sl2.ps.gz

へリンクが張ってあります。この「Indexing Multimedia Databases」という
資料はどこかの国際会議のチュートリアルで作ったものを講義に使っているの
だと思いますが、R-treeだけでなくいろいろなデータに対する索引手法を簡単
にまとめたものです。OHPの原稿で、しかも研究者向けのものですから、背景
知識がないとかなり理解しづらいとは思いますが、R-treeの図などが出てきま
すのでなんとか感じはつかめるのではないかと思います。

**

R-tree以外にも、主に点データについてはgrid file, K-D-B-Treeなどと呼ば
れるデータ構造があります。また、空間上の領域に対する索引も同様にいくつ
も提案がありますが、ちょっと疲れてきたので省略します。

石川佳治 (いしかわ よしはる)
奈良先端科学技術大学院大学
情報科学研究科
Phone: 07437-2-5332
Fax: 07437-2-5399
E-mail: ishikawa@is.aist-nara.ac.jp
<HR>
</PRE>
