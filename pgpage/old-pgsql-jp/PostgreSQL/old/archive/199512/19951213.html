<A NAME="0">
<PRE><B>
From: Atsushi TABuchi &lt;tabuchi@obp.cl.nec.co.jp&gt;
Date: Wed, 13 Dec 1995 15:41:42 +0900
Subject: [postgres95 292] How to know user name?
Message-Id: &lt;9512130641.AA00972@.obp.cl.nec.co.jp&gt;
</A>
</B></PRE>
<PRE>

田淵＠NECです。

またお尋ね事なのですが、postgres95において、あるテーブルのインスタンスを
INSERT/UPDATEなどで更新したときに、テーブルに設定したルールの中で、誰がそ
の更新を行なったかを知ることは可能でしょうか？テーブル毎のアクセス制限が出
来るということは、少なくともバックエンドサーバは、利用者名をつかんでいる気
がするのですが。

何がやりたいかというと、特定のテーブルが更新された時点で、直ちに、その更新
を行なった利用者の個人的なテーブルに差分を転記する、ということです。しかも
テーブルを更新するクライアント自体には手を加えたくないのです。

LISTEN/NOTIFYでも出来そうですが、LISTENしている全てのクライアントに
Notificationが行くので、自分がした更新に対するNOTIFYかどうかを知る(自分の
じゃない場合ははじく)必要がありますが、その方法がわかりません。

ルールやLISTEN/NOTIFY以外の方法でこれが可能なら、示唆を頂ければ幸いです。

+--------- ＮＥＣ  関西Ｃ＆Ｃ研究所   田淵  篤 (Tabuchi Atsushi) ---------+
+ 〒540 大阪市中央区城見1-4-24 NEC関西ビル   06-945-{3213(TEL)/3096(FAX)} +
+    たまには tab6433@mbox.kyoto-inet.or.jp の方にもメールを下さい(^o^)   +
<HR>
</PRE>
