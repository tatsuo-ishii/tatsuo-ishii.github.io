<A NAME="10">
<PRE><B>
From: Mitsuhiro Maeda &lt;mitsu@tramp.co.jp&gt;
Date: Mon, 02 Sep 1996 21:43:53 +0900
Subject: [postgres95 641] P.S. pg_dump doesn't work
Message-Id: &lt;199609021243.VAA20869@log.tramp.co.jp&gt;
</A>
</B></PRE>
<PRE>

おみつ@Tramp です。

失礼いたしました。
あわててしまい、動作環境を書き忘れておりました。

Postgres95 が稼働しており、pg_dump がエラーになる
わたくしの動作環境は、
====================================
linux 1.2.13 (Slackware 3.0)
postgres95 1.02 + pg95-1.02-jp.patch
====================================
です。

===========================
Mitsuhiro Maeda
    Tramp Data Service, Co.

mitsu@tramp.co.jp
===========================
<HR>
</PRE>
<A NAME="9">
<PRE><B>
From: Mitsuhiro Maeda &lt;mitsu@tramp.co.jp&gt;
Date: Mon, 02 Sep 1996 21:34:55 +0900
Subject: [postgres95 640] pg_dump doesn't work
Message-Id: &lt;199609021234.VAA20848@log.tramp.co.jp&gt;
</A>
</B></PRE>
<PRE>

皆様こんにちは。おみつ@Tramp です。

ようやく Postgres95 を立ち上げ、SQL のテストをしているのですが、
pg_dump がうまく作動しないのです。

テストの SQL は、
==============================================================
mydb=&gt; create table BD (
mydb=&gt;   name varchar(40),
mydb=&gt;   birth date
mydb=&gt; );
mydb=&gt; insert into BD
mydb=&gt;   values ('Mitsuhiro Maeda', '05/02/1971');
==============================================================
という単純なものです。

結果は、
==============================================================
beans% pg_dump mydb
CREATE TABLE BD (name varchar(40), birth date) archive = none;
failed sanity check,  type with oid 21289 was not found
==============================================================
となる次第です。

どなたか解決方法をご存知でしょうか?

===========================
Mitsuhiro Maeda
    Tramp Data Service, Co.

mitsu@tramp.co.jp
===========================
<HR>
</PRE>
<A NAME="8">
<PRE><B>
From: Takeaki OTA &lt;ota@cs.titech.ac.jp&gt;
Date: Sun, 01 Sep 1996 15:17:18 +0900
Subject: [postgres95 639] Re: どうぞよろしくおねがいします
Message-ID: &lt;32292A6D.4E0F@cs.titech.ac.jp&gt;
</A>
</B></PRE>
<PRE>

こんにちは。太田です。

Kahori TAKEUCHI/ 竹内かほり wrote:
&gt; 個人的に運営しているサーバにて、web と連係させて使おう、とい
&gt; うのが現在の野望です。
&gt; とりあえず linux(1.2.13) にインストールだけはすませましたが、
&gt; さてこれからがイバラの道です。がんばろうとおもいます。

Postgressとはぜんぜん関係ないのですが、単純な数千件程度のWWW-DB
を作るのであれば、既存でzyviewとかwBaseというperlスクリプトが
出回ってますよ。個人的にはzyviewというのが好きで、適当に日本語
通るようにしました。非常に簡単ですので、本格的なDBでなくていい人
は使って見てください。(zyviewも、一応UNIXのdbmには対応してるので、
れなりには使えました。)

P.S.
今、URLもってないので、altavistaででも検索してみてください。

<HR>
</PRE>
<A NAME="7">
<PRE><B>
From: hana@msr.mei.co.jp (Hanamitsu Satoshi)
Date: Mon, 2 Sep 1996 18:51:46 +0900
Subject: [postgres95 638] Re: createuser が正常になりました
Message-Id: &lt;199609020951.SAA19747@brown.msr.mei.co.jp&gt;
</A>
</B></PRE>
<PRE>

はなみつです


僕は FreeBSD-2.1.0R で postgres95-1.01p2 を使っています

&gt;&gt; こんにちは、清水です。&quot;createuser が正常に出来ない&quot; 問題ですが、正常？に
&gt;&gt; なりました。
&gt;&gt; 石井さんのメールを読んで
&gt;&gt; 
&gt;&gt; ＞QUERY=&quot;select usesuper from pg_user where usename = '$USER' &quot;
&gt;&gt;                                                              ^
&gt;&gt; ＞QUERY=&quot;select usesysid from pg_user where usename = '$NEWUSER' &quot;
&gt;&gt;                                                                 ^
&gt;&gt; の２個のスペースで解決しました。
&gt;&gt; ちなみに、destroyuser も同じ現象があり、同じ方法で対処できました。

以前同じような問題があって環境変数 PAGER によるページング(?)を
しないようにして解決（と言っていいかは謎ですが）したんですが
最近のはそれだけじゃダメなんでしょうか


&gt;&gt; それから、ちょっと気になるのですが、
&gt;&gt; ＞&gt;I believe is it a flex version problem.  You need 2.5.2, not 2.5.3.
&gt;&gt; の様に、FAQ などでも flex のバージョンが問題にされていますが、私のところで
&gt;&gt; は、 flex のバージョンを新しくするだけではだめでした。

1.01 をとってくる時に「FreeBSD で使うには...」といったところに
リンクが張ってあり
＃FireWall があるため WWW browser から ftp しました
その通りに Makefile のあちこちを書き換えました
flex 自体はバイナリを探して入れました


&gt;&gt; FreeBSD は /usr/bin に lex があり、flex は /usr/local/bin にインストール
&gt;&gt; しましたが、正常にコンパイル出来ませんでした。その後、 flex の Makefile
&gt;&gt; を書き換えて、 flex を /usr/bin/lex として、また、ライブラリは /usr/lib/
&gt;&gt; libl.a としてインストールした所、うまくコンパイル出来ました。処置としては
&gt;&gt; これで正しいんでしょうか？出来れば、 lex とは別に flex をインストールする
&gt;&gt; ことで解決出来ればうれしいですけど。

というわけで
うちでは lex と flex が別に入っていますけど
Makefile を書き換えずに済ますんだったら
処置としては間違っていないんじゃないかと


なにぶんにもうちのはバージョンが古いので
最近は対処法が違うのかも知れませんね
------------------------------------------------
   花光％Ｇ４-３＠ＭＳＲ   hana@msr.mei.co.jp
<HR>
</PRE>
<A NAME="6">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Mon, 02 Sep 1996 18:36:07 +0900
Subject: [postgres95 637] Re: createuser が正常になりました
Message-Id: &lt;199609020936.SAA00670@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井です。

&gt;それから、ちょっと気になるのですが、
&gt;＞&gt;I believe is it a flex version problem.  You need 2.5.2, not 2.5.3.
&gt;の様に、FAQ などでも flex のバージョンが問題にされていますが、私のところで
&gt;は、 flex のバージョンを新しくするだけではだめでした。

2.5.3 ではなくて、古い 2.5.2 を使うということでは？
# 私は FreeBSD 環境を持っていないので、間違っていたらごめんなさい。

&gt;環境は FreeBSD-960801-SNAP FreeBSD-960501-SNAP です。
&gt;FreeBSD は /usr/bin に lex があり、flex は /usr/local/bin にインストール
&gt;しましたが、正常にコンパイル出来ませんでした。その後、 flex の Makefile
&gt;を書き換えて、 flex を /usr/bin/lex として、また、ライブラリは /usr/lib/
&gt;libl.a としてインストールした所、うまくコンパイル出来ました。処置としては
&gt;これで正しいんでしょうか？出来れば、 lex とは別に flex をインストールする
&gt;ことで解決出来ればうれしいですけど。

pg95-1.02 以降では、src/mk/port/postgres.mk.BSD44_derived で

# FreeBSD 2.1R with new Flex v2.5.2 in /usr/local
LEX = flex
LDADD+= -L/usr/local/lib -lfl

となっています。同じ行を pg95-1.01 の 
src/mk/port/postgres.mk.BSD44_derived に追加すれば pg95-1.01 でも 
/usr/local/bin/flex のインストールで行けると思います。

&gt;ps. createuser で、２つ質問が来ますよね？ ２つめの質問は 新しく作ったユー
&gt;    ザーが、今後新しいユーザーを作ることを許すか？ と言う質問ですよね？

その通りですね。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="5">
<PRE><B>
From: Chihiro Higuchi &lt;higuchi@sumitomopharm.co.jp&gt;
Date: Mon, 02 Sep 1996 18:33:47 +0900
Subject: [postgres95 636] Re: createuser が正常になりました
Message-Id: &lt;9609020933.AA01237@SPI002.sumitomopharm.co.jp&gt;
</A>
</B></PRE>
<PRE>

樋口＠住友製薬です。

&quot;清水　孝司&quot;&lt;JAE00277@niftyserve.or.jp&gt; さんは書きました：
&gt;ps. createuser で、２つ質問が来ますよね？ ２つめの質問は 新しく作ったユー
&gt;    ザーが、今後新しいユーザーを作ることを許すか？ と言う質問ですよね？

PHP/FIを使って、WWWから、postgres95のデータベースを操作するため、
createuser nobodyを実行する際、二つ目の質問はnoにしました。
そしたら、アクセス出来ず。二つ目の質問をyesにして作り直したら
うまく行きました。

多分、もっと権限の細かな設定があると思うのですが、それをするのが、
glantなのでしょうか？

----
Chihiro Higuchi
Sumitomo Pharmaceuticals Research Center
Research Coordination &amp; General Affairs Department 
1-98 Kasugadenaka 3-choume, Konohana-ku, Osaka 554, Japan
Phone: 81-6-466-5219 E-Mail: higuchi@sumitomopharm.co.jp
<HR>
</PRE>
<A NAME="4">
<PRE><B>
From: &quot;清水　孝司 &quot;	&lt;JAE00277@niftyserve.or.jp&gt;
Date: Mon, 02 Sep 1996 18:08:00 +0900
Subject: [postgres95 635] createuser が正常になりました
Message-Id: &lt;199609020913.SAA06333@inetnif.niftyserve.or.jp&gt;
</A>
</B></PRE>
<PRE>

こんにちは、清水です。&quot;createuser が正常に出来ない&quot; 問題ですが、正常？に
なりました。
石井さんのメールを読んで

＞QUERY=&quot;select usesuper from pg_user where usename = '$USER' &quot;
                                                             ^
＞QUERY=&quot;select usesysid from pg_user where usename = '$NEWUSER' &quot;
                                                                ^
の２個のスペースで解決しました。
ちなみに、destroyuser も同じ現象があり、同じ方法で対処できました。

それから、ちょっと気になるのですが、
＞&gt;I believe is it a flex version problem.  You need 2.5.2, not 2.5.3.
の様に、FAQ などでも flex のバージョンが問題にされていますが、私のところで
は、 flex のバージョンを新しくするだけではだめでした。
環境は FreeBSD-960801-SNAP FreeBSD-960501-SNAP です。
FreeBSD は /usr/bin に lex があり、flex は /usr/local/bin にインストール
しましたが、正常にコンパイル出来ませんでした。その後、 flex の Makefile
を書き換えて、 flex を /usr/bin/lex として、また、ライブラリは /usr/lib/
libl.a としてインストールした所、うまくコンパイル出来ました。処置としては
これで正しいんでしょうか？出来れば、 lex とは別に flex をインストールする
ことで解決出来ればうれしいですけど。

ps. createuser で、２つ質問が来ますよね？ ２つめの質問は 新しく作ったユー
    ザーが、今後新しいユーザーを作ることを許すか？ と言う質問ですよね？

                                      Nifty@清水 (タスクフォーツ＠清水）
<HR>
</PRE>
<A NAME="3">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Mon, 02 Sep 1996 17:25:03 +0900
Subject: [postgres95 634] Re: はじめまして、清水です。
Message-Id: &lt;199609020825.RAA24263@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

&gt;ほとんど趣味ですが、XENIX から始まり 386BSD 0.1 がリリースの時点で乗り換
&gt;え、その後 Linux 今は、FreeBSD を中心に使用しています。（でも Nifty は
&gt;Windows95）その環境で使える データベース と言う事で、2,3年前から postgres
&gt;には興味を持っていましたが、インストールさえ出来ずにいました、が知り合い
&gt;が FreeBSD に postgres95 をインストール（インストールだけらしいのですが）
&gt; したのを知って、どうしても使ってみたく、更には、SQL も対応と聞いて、早速
&gt;インストールに取り掛かっております。周りに教えてもらう人や相談出来る人が
&gt;少ないため、質問魔になると思いますが、よろしくお願いします。
&gt;
&gt;                                      Nifty@清水 (タスクフォーツ＠清水）

かなり経験の長いベテランとお見受けしました。こちらこそ、色々教えて下さ
い。

ところで、postgres95 ML 自己紹介のページを update していて気づいたので
すが、ちょうど清水さんが１００番目の自己紹介です。おめでとうございます！
# って何か出るわけじゃないんですが...:-)

早く FreeBSD で postgres95 が動き出すといいですね。
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="2">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Mon, 02 Sep 1996 12:27:59 +0900
Subject: [postgres95 633] Re: HTML Users Manual 
Message-Id: &lt;199609020328.MAA16188@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

&gt;桑村です。

&gt;&gt; そんなこんなで、ついで(といっては何ですが)に、
&gt;&gt; 勝手ながらユーザ・マニュアルを HTML化してみてしまいました :-)
&gt;&gt; 
&gt;&gt; よろしければ...
&gt;&gt; 	http://www.tramp.co.jp/Postgres95
&gt;&gt; に置いております。
&gt;
&gt;  すばらしいですね。そういうのが欲しかったのです。ね、石井さん。
&gt;＃ ３種類も作られているところがなかなかにくいですね。:-)

全くですね。これですっかりユーザマニュアルの LaTeX 版を作る気がなくなっ
ちゃいました:-)

# さあ、次はリファレンスマニュアルだ！
---
t-ishii@sra.co.jp	石井達夫
（株）ＳＲＡ
<HR>
</PRE>
<A NAME="1">
<PRE><B>
From: Tatsuo Ishii &lt;t-ishii@sra.co.jp&gt;
Date: Mon, 02 Sep 1996 11:07:27 +0900
Subject: [postgres95 632] Re: createuser が	 うまくいきません。 
Message-Id: &lt;199609020207.LAA08105@srashc.sra.co.jp&gt;
</A>
</B></PRE>
<PRE>

石井＠SRAです。

&gt;JAE00277&gt; % createuser shimizu
&gt;JAE00277&gt; PQexec() -- No response from backend
&gt;JAE00277&gt; createuser: database access failed.
&gt;JAE00277&gt; %
&gt;JAE00277&gt; 
&gt;JAE00277&gt; となります。これも同じなんでしょうか？
&gt;
&gt;  私も同様の現象にブチ当たっています( gmake test は通るし、
&gt;psql -l や createdb XXX も出来るのに、、、)。 それで、createuser 
&gt;を見て見たのですが、これって、shell script なんですね。

みなさん同じ現象に当たっているようですね。（山田さんも FreeBSD なんで
しょうか？）

本家の ML にあたってみたところ、２つほど参考になりそうなのが見つかりま
した。

-------------------------- その１ -----------------------------

&gt;&gt; ./createuser shows me the follwing message
&gt;&gt; 
&gt;&gt; ns: {95} ./createuser
&gt;&gt; unexpected last match in input()
&gt;&gt; PQexec() -- No response from backend
&gt;&gt; createuser: database access failed.
&gt;&gt; 
&gt;&gt; (postmaster IS running on port 5432!)
&gt;&gt; 
&gt;&gt; Can anybody help?
&gt;
&gt;I believe is it a flex version problem.  You need 2.5.2, not 2.5.3.

---------------------------- その２ ----------------------------

the following patch worked on my box (postgres-1.01.9, bash-1.14.4(1)); 
the difference is very small, indeed (just a few spaces...).

Regards,

Ernst

*** createuser~	Tue Jul 23 08:16:50 1996
--- createuser	Tue Jul 23 08:56:34 1996
***************
*** 67,73 ****
  # see if user $USER is allowed to create new users
  #
  
! QUERY=&quot;select usesuper from pg_user where usename = '$USER'&quot;
  #echo $QUERY
  
  ADDUSER=`$MONITOR -TN -c &quot;$QUERY&quot; template1`
--- 67,73 ----
  # see if user $USER is allowed to create new users
  #
  
! QUERY=&quot;select usesuper from pg_user where usename = '$USER' &quot;
  #echo $QUERY
  
  ADDUSER=`$MONITOR -TN -c &quot;$QUERY&quot; template1`
***************
*** 98,104 ****
      read NEWUSER
  fi
  
! QUERY=&quot;select usesysid from pg_user where usename = '$NEWUSER'&quot;
  
  RES=`$MONITOR -TN -c &quot;$QUERY&quot; template1`
  
--- 98,104 ----
      read NEWUSER
  fi
  
! QUERY=&quot;select usesysid from pg_user where usename = '$NEWUSER' &quot;
  
  RES=`$MONITOR -TN -c &quot;$QUERY&quot; template1`


  
<HR>
</PRE>
<A NAME="0">
<PRE><B>
From: Jun Kuwamura &lt;juk@rccm.co.jp&gt;
Date: Sun, 1 Sep 1996 23:58:38 +0900 (JST)
Subject: [postgres95 631] Re: HTML Users Manual
Message-Id: &lt;Pine.LNX.3.91LJ1.0.4.960901234749.605C-100000@penty.rccm.co.jp&gt;
</A>
</B></PRE>
<PRE>

桑村です。

&gt; Postgres95 だけならず、 SQL データベースそのものが
&gt; 全くの初心者だけに、Postgres95 のユーザ・マニュアル
&gt; と格闘の日々です。
&gt; 
&gt; どなたか、いい SQL の本があったら教えて下さいな。
&gt; (金升@NTT さんの紹介されていた本も早速買ってしまいました ^^;)

  良いかどうかわかりませんが、僕は最初に増永良文先生の「リレーショナル・
データベース入門」(サイエンス社)というのを読みました。SQL についてはそ
れほど詳しくはないかも知れませんが、UCB で Postgres の前のRDBMSの研究
プロジェクトでつくられた University Ingres をもとに解説がされていて、
興味深いものだと思います。

&gt; そんなこんなで、ついで(といっては何ですが)に、
&gt; 勝手ながらユーザ・マニュアルを HTML化してみてしまいました :-)
&gt; 
&gt; よろしければ...
&gt; 	http://www.tramp.co.jp/Postgres95
&gt; に置いております。

  すばらしいですね。そういうのが欲しかったのです。ね、石井さん。
＃ ３種類も作られているところがなかなかにくいですね。:-)

 Jun Kuwamura
rC Cm			E-mail:	JuK@RcCM.Co.jp, Phone: +81-3-3785-3033
  ^
  ~				re7J-Kwmr@Asahi-Net.or.jp

<HR>
</PRE>
