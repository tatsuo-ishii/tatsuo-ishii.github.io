rom: KASUKAWA Takeya <kasukawa@ics.es.osaka-u.ac.jp>
Date: Mon, 02 Dec 1996 18:16:44 +0900
Subject: [postgres95 1091] self-introduction
Message-Id: <199612020916.SAA19294@excalibur.ics.es.osaka-u.ac.jp>



はじめまして
大阪大学の粕川と申します。

大学でデータベースの勉強をしていて，時々，postgres95を使っていました。

＃実はpostgresのルールシステムに興味があったのですが，postgres95では，
  使用しない方がいいことになっているので少々残念に思っています。

今後ともよろしくお願いします。


ところで，現在大学のデータベースの授業の演習で postgres95 を使用してい
たのですが(私はその演習の手伝い)，以下の問題が生じました。何が問題なの
でしょうか？ よろしくお願いします。

------------start------------
・サーバは postgres95-1.09(sparc, SUNOS4.1.4)，クライアントは
  postgres95-1.09(i386,BSD-OS2.1)
・ユーザはクライアントから psql コマンドを使ってデータベースを利用する。
・ユーザは select でデータベースを検索する操作，select into table .. 
  でテーブルを作る操作，drop table で作ったテーブルを削除する操作を行
  なう。
・同時に複数のユーザが利用することもある。

このように使用していたところ，ある時点から drop table をしようとすると，

PQexec() -- Request was sent to backend, but backend closed the
channel before responding.  This probably means the backend terminated
abnormally before or while processing the request.
We have lost the connection to the backend, so further processing is
impossible.  Terminating.

というエラーが出て削除できないようになりました。
また select * from pg_attribute を実行すると

FATAL:  unexpected results from the backend, it probably dumped core.
FATAL:  unexpected results from the backend, it probably dumped core.
というエラーが出るようになります。
------------end------------
ちなみに 
% od -s /vmunix | grep ipc 
...
6445242 ipc_msg.o
6445254 ipc_sem.o
6445266 ipc_shm.o
6445300 ipc_subr.o
...
とあるので，カーネルがセマフォを使えるようになっていると思うのですが。

-- 
大阪大学基礎工学研究科物理系情報工学分野  Ｄ２（橋本研究室）
(KASUKAWA Takeya)
    粕川  雄也      E-Mail    kasukawa@ics.es.osaka-u.ac.jp
