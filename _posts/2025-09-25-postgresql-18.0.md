---
layout: post
title: PostgreSQL 18.0がリリースされました
categories: [blog]
tags: [PostgreSQL, Major-release, 18.0]
---

PostgreSQL 18.0がリリースされました。

[本家のリリースアナウンス](https://www.postgresql.org/about/news/postgresql-18-released-3142/)

(私の主観による)主な改良点は以下です。
他にもたくさんの改良があるので、詳細はリリースノートをご覧ください。

- 非同期I/O(AIO)がサポートされました。
  順スキャン、ビットマップヒープスキャン、VACUUMで性能向上が期待できます。
  リリースアナウンスによれば、ベンチマークで最大3倍の性能向上があったそうです(リリースアナウンスがこれを指しているかどうかわかりませんが、pgsql-hackersでのベンチマーク報告のリンクは[これ](https://www.postgresql.org/message-id/e6db33f3-50de-43d3-9d9f-747c3b376e80@vondra.me)です。)
  AIOの導入により、設定パラメータが追加されています。
  詳細は[こちら](https://www.postgresql.org/docs/18/runtime-config-resource.html#RUNTIME-CONFIG-RESOURCE-IO)をご覧ください。

- pg_upgradeが、アップデート後も統計情報を引き継ぐことができるようになりました。これにより、アップデート後にANALYZEをしなくても、プランナが最適なクエリプランを選ぶことができるようになりました。

- 仮想生成列(virtual generated columns)が導入されました。

- INSERT, UPDATE, DELETE, MERGEで、RETURNING句が、過去値と現在値を返せるようになりました。

- 範囲型に対して、時制的制約(temporal constraint)を指定できるようになりました。

- 複数列のB-treeインデックスの検索を"skip scan"で高速化しました。

- oauth認証がサポートされました。

- 論理レプリケーションで、コンフリクトがログとpg_stat_subscription_statsビューで報告されるようになりました。

- EXPLAIN ANALYZEで、tuplestoreで使用したメモリと一時ファイルの使用量が報告されるようになりました。

- フロントエンド/バックエンドプロトコルが3.2をサポートするようになりました(3.0も引き続きサポートされます)。

- 更に詳しい技術情報は[SRA OSSによるPostgreSQL 18検証報告](https://www.sraoss.co.jp/tech-blog/pgsql/pg18report/)をご覧ください。
