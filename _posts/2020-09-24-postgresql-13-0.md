---
layout: post
title: PostgreSQL 13.0がリリースされました
categories: [blog]
tags: [PostgreSQL, Major-release, 13.0]
---

待望のPostgreSQL 13.0がリリースされました。

[本家のリリースアナウンス](https://www.postgresql.org/about/news/2077/)

今回のリリースでは、Btreeインデックス、オプティマイザ、ソート機能、パーティションを中心に性能改善が行われています。

- 重複の多いBreeインデックスでスペース利用が効率的になり、インデックスサイズが小さくなるとともに性能が向上しています。ただし、この恩恵にあずかるためには、pg_upgradeで移行しただけでは駄目で、インデックスの作り直しが必要です。

- OR/IN/ANYを使った問い合わせで拡張統計情報を使ってより効率の良い問い合わせプランを生成できるようになりました。

- incremental sortingが実装されました。複数キーでのソートで、すでにあるキーでソートされている場合に、本当に必要なキーでのみソートが行われ
  ます。

- メモリ(work_mem)に収まらない場合でもhash aggregateがディスクを使って実行できるようになりました。

- 行の更新を伴わない、行の挿入だけでもauto vacuumが起動されるようになりました。

- 必要なときだけTOASTテーブルからデータを取得するようになりました。

- インデックスのVACUUMがパラレル化されました。

- ロジカルレプリケーションがパーティショニングに対応しました。

詳しい技術情報は[SRA OSSのtech blog](https://www.sraoss.co.jp/tech-blog/)をご覧ください。
