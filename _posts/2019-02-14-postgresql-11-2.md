---
layout: post
title: PostgreSQL 11.2などがリリースされました
categories: [blog]
tags: [PostgreSQL, Minor-releases, 11.2, 10.7, 9.6.12, 9.5.16, 9.4.21]
---

PostgreSQL 11.2などがリリースされました。今回リリースされたのは以下のバージョンです。

- 11.2
- 10.7
- 9.6.12
- 9.5.16
- 9.4.21

[本家のリリースアナウンス](https://www.postgresql.org/about/news/1920/)

今回から9.3系はEOLとなりました。

今回のリリースにはセキュリティfixは含まれません。

主な修正点は以下です。目に付くのは、新しい設定パラメータが導入されたこ
とです。PostgreSQLではマイナーリリース時に設定パラメータを追加するのは
極めて異例なことであり、この問題を開発者が重視していることが伺えます。
開発者の議論は[こちら](https://www.postgresql.org/message-id/flat/20180427222842.in2e4mibx45zdth5%40alap3.anarazel.de)です。

- fysnc()に失敗した時に、リトライするのではなく、PANICするようになりま
  した。Linuxを含む、広く使われているプラットフォームによってはfsync()
  が失敗すると、カーネル内のバッファを捨ててしまうため、リトライすると
  そのデータを喪失し、データベースの整合性が失われる可能性がありました。
  そこでPANICすることにより、WALからリプレイを実施してデータを回復でき
  る可能性があります。このために新しい設定パラメータ data_sync_retry
  が導入されました。このパラメータがoffなら、fysnc()に失敗した時にリト
  ライしなくなります。デフォルトはoffです。

- 過去バージョンのリリースノートがソースツリーに含まれなくなりました。
  それぞれのリリースのソースコードには、自身のマイナーバージョンのリリー
  スノートだけが含まれます。たとえば、PostgreSQL 11.xには、PostgreSQL
  11.xのリリースノートだけが含まれるわけです。

詳しい技術情報は[SRA OSSのtech blog](https://www.sraoss.co.jp/tech-blog/)をご覧ください。
