<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Pgpool-IIとは？</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Pgpool-II 4.3devel 文書"
HREF="index.html"><LINK
REL="UP"
TITLE="はじめに"
HREF="preface.html"><LINK
REL="PREVIOUS"
TITLE="はじめに"
HREF="preface.html"><LINK
REL="NEXT"
TITLE="Pgpool-IIの歴史概要"
HREF="history.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=utf-8"><META
NAME="creation"
CONTENT="2021-09-22T00:02:10"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Pgpool-II 4.3devel 文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="はじめに"
HREF="preface.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="preface.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>はじめに</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="Pgpool-IIの歴史概要"
HREF="history.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="INTRO-WHATIS"
><SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>とは？</A
></H1
><P
>   
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>の<I
CLASS="FIRSTTERM"
>pool</I
>を管理することによって、単一の<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>構成では得られない以下のような機能を提供します。

   <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
>高可用性</DT
><DD
><P
>       <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は複数の<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバを使い、故障したサーバを自動的に取り除くことによってデータベースの仕事を継続して高可用性 (HA)機能を提供します。
       これは<I
CLASS="FIRSTTERM"
>自動フェイルオーバ</I
>と呼ばれます。
       また、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>自身のHA機能を提供しており、これを<I
CLASS="FIRSTTERM"
>Watchdog</I
>と呼びます (詳細は<A
HREF="tutorial-watchdog.html"
>第4章</A
>をご覧ください。)
	更に<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は洗練された<I
CLASS="FIRSTTERM"
>クォーラム(quorum)</I
>アルゴリズムを採用しており、偽陽性エラーとスプリットブレイン問題を回避することが可能で、HAシステム全体が非常に信頼性の高いものになっています。
	詳細は<A
HREF="runtime-watchdog-config.html#CONFIG-WATCHDOG-FAILOVER-BEHAVIOR"
>項5.14.6</A
>をご覧ください。
      </P
></DD
><DT
>負荷分散</DT
><DD
><P
>       <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は読み込みクエリを複数の<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバに分散させて性能向上させることがで
きます。
       これは<I
CLASS="FIRSTTERM"
>負荷分散</I
>と呼ばれます。書き込みクエリはプライマリサーバ(ストリーミングレプリケーションモード時)かすべてのサーバ(ネィティブレプリケーションモードあるいはスナップショットアイソレーションモード）に送られます。
       これらのモードの詳細は<A
HREF="configuring-pgpool.html#RUNNING-MODE"
>項3.3.2</A
>をご覧ください。
	どの場合でも、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は自動的に読み込みクエリと書き込みクエリの違いを判断します。
      </P
></DD
></DL
></DIV
><P>
  </P
><P
>   これらの基本的な機能以外に、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は以下の機能を提供します。
  </P
><P
>   <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
>コネクションプーリング</DT
><DD
><P
>       
       <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバへの確立された接続を維持し、プロパティ（つまりユーザ名、データベース、プロトコルバージョン、他に指定されていれば接続パラメータも）が同じ新規のコネクションが到着する度に再利用します。
       コネクションオーバヘッドを軽減することによって、システム全体のスループットを改善します。
      </P
></DD
><DT
>オンラインリカバリ</DT
><DD
><P
>       
       <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>はコマンド一つでデータベースノードのオンラインリカバリができます。
       自動フェイルオーバと組み合わせることで、フェイルオーバにより切り離されたノードをスタンバイとして自動で復帰させることも可能です。
       新しいPostgreSQLサーバを同期しノードとして追加することもできます。
      </P
></DD
><DT
>限度を超えた接続の制限</DT
><DD
><P
>       
       <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>への最大同時接続数には制限があり、その制限に達すると新しいコネクションは拒否されます。
       最大接続数を大きくすると、リソースの消費が増え、システム全体の性能に悪影響があります。
       <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>にも最大接続数の制限があります。
       しかし、制限を超えた接続要求はすぐにエラーが返るのではなく、待ち行列に入ります。
       ただし、制限を超えた接続要求に対してエラーを返すように設定することも可能です(4.1 以降)。
      </P
></DD
><DT
>Watchdog</DT
><DD
><P
>       Watchdogは、複数の<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>を協調させて動作させることにより、単一障害点やスプリットブレインの起きない堅牢なクラスタを運用することが可能です。
       スプリットブレインを防ぐためには、少なくとも3台の<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>ノードが必要です。
       他の<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>の死活監視を行い、障害を検出することができます。
       稼働系の<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>がダウンしても、待機系の<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>が稼動系に昇格し、仮想IPを引き継ぐことができます。
      </P
></DD
><DT
>インメモリキャッシュ</DT
><DD
><P
>       
       SELECT文とその検索結果をキャッシュに保存できます。同じSELECT文が発行された場合、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>はキャッシュから結果を返します。
       SQLの解析も<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>へのアクセスも行われないため、インメモリキャッシュの利用は非常に高速です。
       反面、キャッシュを保存するオーバヘッドが生じるので、通常の方法より遅くなる場合もあります。
      </P
></DD
></DL
></DIV
><P>

  </P
><P
>   
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は、PostgreSQLのバックエンドフロントエンドプロトコルを理解し、バックエンドとフロントエンドの間でメッセージを転送します。
   つまり、データベースアプリケーション（フロントエンド）には<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>が実際の<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバであるように見えます。
   サーバ（バックエンド）には、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>がフロントエンドであるように見えます。
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>は、サーバとクライアントに対して透過なので、既存のデータベースアプリケーションは、ソースコードに変更を加えることなく<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>を利用できます。
  </P
><P
>   
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> は、Linuxをはじめ、SolarisやFreeBSDなどのほとんどのUNIX環境で動作します。
   Windows では動きません。
   対応する<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>のバージョンは、7.4 以降です。
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>配下で利用する<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバのメジャーバージョン、
   OS やハードウェアアーキテクチャを同じものにしなければなりません。
   また、バージョンが同じであっても、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> のビルド方法が違うものを混ぜている場合の動作は保証できません。
   たとえば、SSL サポートの有無、日付型の実装方法 (--disable-integer-datetimes)、ブロックサイズの違いなどは、<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>の一部の機能に影響を与えるでしょう。
   <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> のマイナーバージョンが違う場合は大抵の場合問題になりませんが、
   すべての<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>のマイナーバージョンを検証したわけではないので、
   できればマイナーバージョンを合わせておくことをお勧めします。
  </P
><P
>   
   <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>でSQLを使うにあたっては、制限事項があります。
   詳細は<A
HREF="restrictions.html"
>制限事項</A
>をご覧ください。
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="preface.html"
ACCESSKEY="P"
>前のページ</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>ホーム</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="history.html"
ACCESSKEY="N"
>次のページ</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>はじめに</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="preface.html"
ACCESSKEY="U"
>上に戻る</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>の歴史概要</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>