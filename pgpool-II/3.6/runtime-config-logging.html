<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.6. Error Reporting and Logging</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="pgpool-II 3.7devel Documentation" /><link rel="up" href="runtime-config.html" title="Chapter 5. Server Configuration" /><link rel="prev" href="runtime-config-connection-pooling.html" title="5.5. Connection Pooling" /><link rel="next" href="runtime-config-load-balancing.html" title="5.7. Load Balancing" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.6. Error Reporting and Logging</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="runtime-config-connection-pooling.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Server Configuration</th><td width="20%" align="right"> <a accesskey="n" href="runtime-config-load-balancing.html">Next</a></td></tr></table><hr /></div><div class="sect1" id="runtime-config-logging"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.6. Error Reporting and Logging</h2></div></div></div><div class="sect2" id="runtime-config-logging-where-to-log"><div class="titlepage"><div><div><h3 class="title">5.6.1. Where To Log</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="guc-log-destination"><span class="term"><code class="varname">log_destination</code> (<code class="type">string</code>)
        <a id="idm45333510665104" class="indexterm"></a>
      </span></dt><dd><p>					<span class="productname">Pgpool-II</span> supports two destinations
					for logging the <span class="productname">Pgpool-II</span> messages.
					The supported log destinations are <code class="literal">stderr</code>
					and <code class="literal">syslog</code>. You can also set this parameter to a list
					of desired log destinations separated by commas if you want the log messages
					on the multiple destinations.
						</p><pre class="programlisting">#for example to log on both syslog and stderr
log_destination = 'syslog,stderr'
            </pre><p>
					The default is to log to <code class="literal">stderr</code> only.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>						On some systems you will need to alter the configuration of your
						system's <span class="application">syslog</span> daemon in order to make use of the
						<code class="literal">syslog</code> option
						for <code class="varname">log_destination</code>. <span class="productname">Pgpool-II</span>
						can log to <span class="application">syslog</span> facilities LOCAL0 through LOCAL7
						(see <a class="xref" href="runtime-config-logging.html#guc-syslog-facility">syslog_facility</a>), but the default
						<span class="application">syslog</span>
						configuration on most platforms will discard all such messages.
						You will need to add something like:
						</p><pre class="programlisting">local0.*    /var/log/pgpool.log
						</pre><p>
						to the syslog daemon's configuration file to make it work.
					</p></div><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd><dt id="guc-syslog-facility"><span class="term"><code class="varname">syslog_facility</code> (<code class="type">enum</code>)
        <a id="idm45333510651888" class="indexterm"></a>
      </span></dt><dd><p>					See also the documentation of your system's syslog daemon.
					When logging to <span class="application">syslog</span> is enabled,
					this parameter determines the <span class="application">syslog</span>
					<code class="literal">"facility"</code> to be used.
					You can choose from <code class="literal">LOCAL0</code>, <code class="literal">LOCAL1</code>,
					<code class="literal">LOCAL2</code>, <code class="literal">LOCAL3</code>, <code class="literal">LOCAL4</code>,
					<code class="literal">LOCAL5</code>, <code class="literal">LOCAL6</code>, <code class="literal">LOCAL7</code>;
					the default is <code class="literal">LOCAL0</code>.
					See also the documentation of your system's <span class="application">syslog</span> daemon.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd><dt id="guc-syslog-ident"><span class="term"><code class="varname">syslog_ident</code> (<code class="type">string</code>)
        <a id="idm45333510639824" class="indexterm"></a>
      </span></dt><dd><p>					When logging to <span class="application">syslog</span> is enabled, this parameter determines
					the program name used to identify <span class="productname">Pgpool-II</span>
					messages in <span class="application">syslog</span> logs. The default is <code class="literal">pgpool</code>.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd></dl></div></div><div class="sect2" id="runtime-config-logging-when-to-log"><div class="titlepage"><div><div><h3 class="title">5.6.2. When To Log</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="guc-client-min-messages"><span class="term"><code class="varname">client_min_messages</code> (<code class="type">enum</code>)
        <a id="idm45333510631520" class="indexterm"></a>
      </span></dt><dd><p>					Controls which minimum message levels are sent to the client.
					Valid values are <code class="literal">DEBUG5</code>, <code class="literal">DEBUG4</code>,
					<code class="literal">DEBUG3</code>, <code class="literal">DEBUG2</code>, <code class="literal">DEBUG1</code>,
					<code class="literal">LOG</code>, <code class="literal">NOTICE</code>, <code class="literal">WARNING</code> and
					<code class="literal">ERROR</code>. Each level includes
					all the levels that follow it. The default is <code class="literal">NOTICE</code>.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
					You can also use <a class="xref" href="sql-pgpool-set.html" title="PGPOOL SET"><span class="refentrytitle">PGPOOL SET</span></a> command to alter the value of
					this parameter for a current session.
        </p></dd><dt id="guc-log-min-messages"><span class="term"><code class="varname">log_min_messages</code> (<code class="type">enum</code>)
        <a id="idm45333510619104" class="indexterm"></a>
      </span></dt><dd><p>					The default is WARNING.
					Controls which minimum message levels are emitted to log.
					Valid values are <code class="literal">DEBUG5</code>, <code class="literal">DEBUG4</code>,
					<code class="literal">DEBUG3</code>, <code class="literal">DEBUG2</code>, <code class="literal">DEBUG1</code>,
					<code class="literal">INFO</code>, <code class="literal">NOTICE</code>, <code class="literal">WARNING</code>,
					<code class="literal">ERROR</code>, <code class="literal">LOG</code>, <code class="literal">FATAL</code>,
					and <code class="literal">PANIC</code>.
					Each level includes all the levels that follow it.
					The default is <code class="literal">WARNING</code>.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
					You can also use <a class="xref" href="sql-pgpool-set.html" title="PGPOOL SET"><span class="refentrytitle">PGPOOL SET</span></a> command to alter the value of
					this parameter for a current session.
        </p></dd></dl></div></div><div class="sect2" id="runtime-config-logging-what-to-log"><div class="titlepage"><div><div><h3 class="title">5.6.3. What To Log</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="guc-log-statement"><span class="term"><code class="varname">log_statement</code> (<code class="type">boolean</code>)
        <a id="idm45333510603696" class="indexterm"></a>
      </span></dt><dd><p>					Setting to on, prints all SQL statements to the log.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
					You can also use <a class="xref" href="sql-pgpool-set.html" title="PGPOOL SET"><span class="refentrytitle">PGPOOL SET</span></a> command to alter the value of
					this parameter for a current session.
        </p></dd><dt id="guc-log-per-node-statement"><span class="term"><code class="varname">log_per_node_statement</code> (<code class="type">boolean</code>)
        <a id="idm45333510598400" class="indexterm"></a>
      </span></dt><dd><p>					Similar to <a class="xref" href="runtime-config-logging.html#guc-log-statement">log_statement</a>, except that it print the
					logs for each DB node separately. It can be useful to make sure that
					replication or load-balancing is working.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
					You can also use <a class="xref" href="sql-pgpool-set.html" title="PGPOOL SET"><span class="refentrytitle">PGPOOL SET</span></a> command to alter the value of
					this parameter for a current session.
        </p></dd><dt id="guc-log-hostname"><span class="term"><code class="varname">log_hostname</code> (<code class="type">boolean</code>)
        <a id="idm45333510592400" class="indexterm"></a>
      </span></dt><dd><p>					Setting to on, prints the hostname instead of IP address
					in the <code class="command">ps</code> command result, and connection logs
					(when <a class="xref" href="runtime-config-logging.html#guc-log-connections">log_connections</a> is on).
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd><dt id="guc-log-connections"><span class="term"><code class="varname">log_connections</code> (<code class="type">boolean</code>)
        <a id="idm45333510586400" class="indexterm"></a>
      </span></dt><dd><p>					Setting to on, prints all client connections from to the log.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd><dt id="guc-log-error-verbosity"><span class="term"><code class="varname">log_error_verbosity</code> (<code class="type">enum</code>)
        <a id="idm45333510581936" class="indexterm"></a>
      </span></dt><dd><p>					Controls the amount of detail emitted for each message that is logged.
					Valid values are <code class="literal">TERSE</code>, <code class="literal">DEFAULT</code>, and <code class="literal">VERBOSE</code>,
					each adding more fields
					to displayed messages. <code class="literal">TERSE</code> excludes the logging of <code class="literal">DETAIL</code>,
					<code class="literal">HINT</code>,
					and <code class="literal">CONTEXT</code> error information.
				</p><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
					You can also use <a class="xref" href="sql-pgpool-set.html" title="PGPOOL SET"><span class="refentrytitle">PGPOOL SET</span></a> command to alter the value of
					this parameter for a current session.
        </p></dd><dt id="guc-log-line-prefix"><span class="term"><code class="varname">log_line_prefix</code> (<code class="type">string</code>)
        <a id="idm45333510571616" class="indexterm"></a>
      </span></dt><dd><p>					This is a <code class="function">printf</code>-style string that is output at the beginning of
					each log line.
					<code class="literal">%</code> characters begin <span class="quote">“<span class="quote">escape sequences</span>”</span> that are replaced
					with information outlined below.
					All unrecognized escapes are ignored. Other characters are copied straight to
					the log line. Default is '%t: pid %p: ', which prints timestamp and process id,
					which keeps backward compatibily with pre<span class="productname">Pgpool-II</span>
					<span class="emphasis"><em>V3.4</em></span>.
				</p><div class="table" id="log-line-prefix-table"><p class="title"><strong>Table 5.5. log_line_prefix escape options</strong></p><div class="table-contents"><table class="table" summary="log_line_prefix escape options" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Escape</th><th>Effect</th></tr></thead><tbody><tr><td>%a</td><td>Client application name</td></tr><tr><td>%p</td><td>Process ID (PID)</td></tr><tr><td>%P</td><td>Process name</td></tr><tr><td>%t</td><td>Time stamp</td></tr><tr><td>%d</td><td>Database name</td></tr><tr><td>%u</td><td>User name</td></tr><tr><td>%l</td><td>Log line number for each process</td></tr><tr><td>%%</td><td>'%' character</td></tr></tbody></table></div></div><br class="table-break" /><p>          This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
        </p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-connection-pooling.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-load-balancing.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.5. Connection Pooling </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5.7. Load Balancing</td></tr></table></div></body></html>