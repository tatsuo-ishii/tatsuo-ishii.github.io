<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pcp_watchdog_info</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="pgpool-II 3.6beta2 Documentation" /><link rel="up" href="pcp-commands.html" title="PCP commands" /><link rel="prev" href="pcp-node-info.html" title="pcp_node_info" /><link rel="next" href="pcp-proc-count.html" title="pcp_proc_count" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">pcp_watchdog_info</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pcp-node-info.html">Prev</a> </td><th width="60%" align="center">PCP commands</th><td width="20%" align="right"> <a accesskey="n" href="pcp-proc-count.html">Next</a></td></tr></table><hr /></div><div class="refentry" id="pcp-watchdog-info"><div class="titlepage"></div><a id="idp58286768" class="indexterm"></a><div class="refnamediv"><h2>Name</h2><p>pcp_watchdog_info — 	displays the watchdog status of the Pgpool-II</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="cmdsynopsis"><p id="idp58289760"><code class="command">pcp_watchdog_info</code> [<em class="replaceable"><code>options</code></em>...] [<em class="replaceable"><code>watchdog_id</code></em>]</p></div></div><div class="refsect1" id="r1-pcp-watchdog-info-1"><h2>Description</h2><p>  <code class="command">pcp_node_info</code>
	displays the information on the given node ID.
  </p></div><div class="refsect1" id="idp58294384"><h2>Options</h2><p>    </p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">-n <em class="replaceable"><code>watcgdog_id</code></em></code><br /></span><span class="term"><code class="option">--node-id=<em class="replaceable"><code>watcgdog_id</code></em></code></span></dt><dd><p>	 The index of other Pgpool-II to get information for.
       </p><p>	 Index 0 gets one's self watchdog information.
       </p><p>	 If ommitted then gets information of all watchdog nodes.
       </p></dd><dt><span class="term"><code class="option">Other options </code></span></dt><dd><p>	 See <a class="xref" href="pcp-common-options.html" title="pcp_common_options"><span class="refentrytitle">pcp_common_options</span></a>.
       </p></dd></dl></div><p>
   </p></div><div class="refsect1" id="idp58300112"><h2>Example</h2><p>	Here is an example output:
    </p><pre class="programlisting">$ pcp_watchdog_info -h localhost -u postgres

3 NO Linux_host1.localdomain_9991 host1

Linux_host1.localdomain_9991 host1 9991 9001 7 STANDBY
Linux_host2.localdomain_9992 host2 9992 9002 4 MASTER
Linux_host3.localdomain_9993 host3 9993 9003 7 STANDBY
    </pre><p>
  </p><p>	The result is in the following order:
</p><pre class="literallayout">The first output line describes the watchdog cluster information:

1. Total watchdog nodes in the cluster
2. Is VIP is up on current node?
3. Master node name
4. Master node host</pre><p>
</p><pre class="literallayout">Next is the list of watchdog nodes:

1. node name
2. hostname
3. pgpool port
4. watchdog port
5. current node state
6. current node state name</pre><p>
  </p><p>	The <code class="option">--verbose</code> option can help understand the output. For example:
  </p><pre class="programlisting">$ pcp_watchdog_info -h localhost -v -u postgres

Watchdog Cluster Information
Total Nodes          : 3
Remote Nodes         : 2
Quorum state         : QUORUM EXIST
Alive Remote Nodes   : 2
VIP up on local node : NO
Master Node Name     : Linux_host2.localdomain_9992
Master Host Name     : localhost

Watchdog Node Information
Node Name      : Linux_host1.localdomain_9991
Host Name      : host1
Delegate IP    : 192.168.1.10
Pgpool port    : 9991
Watchdog port  : 9001
Node priority  : 1
Status         : 7
Status Name    : STANDBY

Node Name      : Linux_host2.localdomain_9992
Host Name      : host2
Delegate IP    : 192.168.1.10
Pgpool port    : 9992
Watchdog port  : 9002
Node priority  : 1
Status         : 4
Status Name    : MASTER

Node Name      : Linux_host3.localdomain_9993
Host Name      : host3
Delegate IP    : 192.168.1.10
Pgpool port    : 9993
Watchdog port  : 9003
Node priority  : 1
Status         : 7
Status Name    : STANDBY
    </pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pcp-node-info.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="pcp-commands.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="pcp-proc-count.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">pcp_node_info </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> pcp_proc_count</td></tr></table></div></body></html>