<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pgpool_adm extension</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="pgpool-II 3.7devel Documentation" /><link rel="up" href="reference.html" title="Part IV. Reference" /><link rel="prev" href="sql-show-pool-cache.html" title="SHOW POOL_CACHE" /><link rel="next" href="installing-pgpool-adm.html" title="1. Installing pgpool_adm" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">pgpool_adm extension</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sql-show-pool-cache.html">Prev</a> </td><th width="60%" align="center">Part IV. Reference</th><td width="20%" align="right"> <a accesskey="n" href="installing-pgpool-adm.html">Next</a></td></tr></table><hr /></div><div class="reference" id="pgpool-adm"><div class="titlepage"><div><div><h1 class="title">pgpool_adm extension</h1></div></div><hr /></div><div class="partintro" id="idm45333508765168"><div></div><p>	<code class="command">pgpool_adm</code> is a set of extensions to allow
	SQL access to <a class="xref" href="pcp-commands.html" title="PCP commands">PCP commands</a> (actually, pcp
	  libraries). It uses foreign data wrapper as shown in the
	  diagram below.
      </p><p>	</p><div class="figure" id="idm45333508762928"><p class="title"><strong>Figure 2. How <code class="command">pgpool_adm</code> works</strong></p><div class="figure-contents"><div class="mediaobject"><img src="pgpool_adm.gif" alt="How pgpool_adm works" /></div></div></div><p><br class="figure-break" />
      </p><p>	It is possible to call the functions from either via pgpool-II
	(1) or via <span class="productname">PostgreSQL</span> (2).  In case
	(1), <span class="productname">Pgpool-II</span> accepts query from
	user (1), then forward
	to <span class="productname">PostgreSQL</span> (3).
	<span class="productname">PostgreSQL</span> connects
	to <span class="productname">Pgpool-II</span> (5)
	and <span class="productname">Pgpool-II</span> reply back
	to <span class="productname">PostgreSQL</span> with the result
	(3). <span class="productname">PostgreSQL</span> returns the result
	to <span class="productname">Pgpool-II</span> (5)
	and <span class="productname">Pgpool-II</span> fowards the data to
	the user (6).
      </p><p>	In case (2), <span class="productname">PostgreSQL</span> accepts query from user (2).
	<span class="productname">PostgreSQL</span> connects
	to <span class="productname">Pgpool-II</span> (5)
	and <span class="productname">Pgpool-II</span> reply back
	to <span class="productname">PostgreSQL</span> with the result (3).
	<span class="productname">PostgreSQL</span> replies back the data to
	the user (6).
      </p><p>	There are two forms to call pgpool_adm functions: first form
	accepts <span class="productname">Pgpool-II</span> host name (or IP
	address), pcp port number, pcp user name, its password and
	another parameters.
      </p><p>	In the second form, <span class="productname">Pgpool-II</span>
	server name is required.  The server name must be already
	defined using "CREATE FOREIGN SERVER" command
	of <span class="productname">PostgreSQL</span>.  The pcp port number
	is hard coded as 9898, the pcp user name is assumes to be same
	as caller's <span class="productname">PostgreSQL</span> user name.
	password is extraced from $HOME/.pcppass.
      </p><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="refentrytitle"><a href="pgpool-adm-pcp-node-info.html">pgpool_adm_pcp_node_info</a></span><span class="refpurpose"> — 	a function to display the information on the given node
	ID</span></dt><dt><span class="refentrytitle"><a href="pgpool-adm-pcp-pool-status.html">pgpool_adm_pcp_pool_status</a></span><span class="refpurpose"> — 	a function to retrieves parameters in pgpool.conf.</span></dt><dt><span class="refentrytitle"><a href="pgpool-adm-pcp-node-count.html">pgpool_adm_pcp_node_count</a></span><span class="refpurpose"> —     a function to retrieves number of backend nodes.
  </span></dt><dt><span class="refentrytitle"><a href="pgpool-adm-pcp-attach-node.html">pgpool_adm_pcp_attach_node</a></span><span class="refpurpose"> — 	a function to attach given node	ID</span></dt><dt><span class="refentrytitle"><a href="pgpool-adm-pcp-detach-node.html">pgpool_adm_pcp_detach_node</a></span><span class="refpurpose"> — 	a function to detach given node ID</span></dt></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sql-show-pool-cache.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="reference.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="installing-pgpool-adm.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">SHOW POOL_CACHE </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 1. Installing pgpool_adm</td></tr></table></div></body></html>