<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5.4. Backend Settings</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="pgpool-II 3.7devel Documentation" /><link rel="up" href="runtime-config.html" title="Chapter 5. Server Configuration" /><link rel="prev" href="runtime-config-runnung-mode.html" title="5.3. Running mode" /><link rel="next" href="runtime-config-connection-pooling.html" title="5.5. Connection Pooling" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.4. Backend Settings</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="runtime-config-runnung-mode.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Server Configuration</th><td width="20%" align="right"> <a accesskey="n" href="runtime-config-connection-pooling.html">Next</a></td></tr></table><hr /></div><div class="sect1" id="runtime-config-backend-settings"><div class="titlepage"><div><div><h2 class="title" style="clear: both">5.4. Backend Settings</h2></div></div></div><div class="sect2" id="runtime-config-backend-connection-settings"><div class="titlepage"><div><div><h3 class="title">5.4.1. Backend Connection Settings</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="guc-backend-hostname"><span class="term"><code class="varname">backend_hostname</code> (<code class="type">string</code>)
		<a id="idm45737774690544" class="indexterm"></a>
	</span></dt><dd><p>						<code class="varname">backend_hostname</code> specifies the
						<span class="productname">PostgreSQL</span> backend to be connected to.
						It is used by <span class="productname">Pgpool-II</span> to communicate
						with the server.
		</p><p>			For TCP/IP communication, this parameter can take a hostname
			or an IP address. If this begins with a slash(<code class="literal">/</code>), it specifies
			Unix-domain communication rather than TCP/IP; the value is
			the name of the directory in which the socket file is
			stored. The default behavior when backend_hostname is empty
			(<code class="literal">''</code>) is to connect to a Unix-domain socket in <code class="filename">/tmp</code>.
		</p><p>			Multiple backends can be specified by adding a number at the
			end of the parameter name (e.g.backend_hostname0). This
			number is referred to as "DB node ID", and it starts from
			0. The backend which was given the DB node ID of 0 will be
			called "master node". When multiple backends are defined, the
			service can be continued even if the master node is down (not
			true in some modes). In this case, the youngest DB node ID
			alive will be the new master node.
		</p><p>			Please note that the DB node which has id 0 has no special
			meaning if operated in streaming replication mode. Rather,
			you should care about if the DB node is the "primary node" or
			not. See <a class="xref" href="runtime-config-load-balancing.html" title="5.7. Load Balancing">Section 5.7, “Load Balancing”</a>,
			<a class="xref" href="runtime-config-failover.html" title="5.9. Failover and Failback">Section 5.9, “Failover and Failback”</a>,
			<a class="xref" href="runtime-streaming-replication-check.html" title="5.11. Streaming Replication Check">Section 5.11, “Streaming Replication Check”</a>
			for more details.
		</p><p>			If you plan to use only one <span class="productname">PostgreSQL</span> server, specify it by
			backend_hostname0.
		</p><p>			New nodes can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <span class="productname">Pgpool-II</span> in
			that case.
		</p></dd><dt id="guc-backend-port"><span class="term"><code class="varname">backend_port</code> (<code class="type">integer</code>)
		<a id="idm45737774678880" class="indexterm"></a>
	</span></dt><dd><p>						<code class="varname">backend_port</code> specifies the port number
						of the backends. Multiple backends can be specified by
						adding a number at the end of the parameter name
						(e.g. backend_port0). If you plan to use only one
						<span class="productname">PostgreSQL</span> server, specify it by backend_port0.
		</p><p>			New backend ports can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <span class="productname">Pgpool-II</span> in
			that case.
		</p></dd><dt id="guc-backend-weight"><span class="term"><code class="varname">backend_weight</code> (<code class="type">floating point</code>)
		<a id="idm45737774673680" class="indexterm"></a>
	</span></dt><dd><p>						<code class="varname">backend_weight</code> specifies the load balance
						ratio of the backends. It may be set to any interger or
						floating point value greater than or equeal zero.
						Multiple backends can be specified by
						adding a number at the end of the parameter name
						(e.g. backend_weight0). If you plan to use only one
						PostgreSQL server, specify it by backend_weight0.
		</p><p>			New <code class="varname">backend_weight</code> can be added in this parameter by
			reloading a configuration file. However, this will take
			effect only for new established client sessions.
			<span class="productname">Pgpool-II</span> <span class="emphasis"><em>V2.2.6</em></span>, <span class="emphasis"><em>V2.3</em></span> or later
			allows alllow updating the values by reloading a configuration file.
			This is useful if you want to prevent any query sent to
			slaves to perform some administrative work in master/slave mode.
		</p></dd></dl></div></div><div class="sect2" id="runtime-config-backend-data"><div class="titlepage"><div><div><h3 class="title">5.4.2. Backend Data Settings</h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt id="guc-backend-data-directory"><span class="term"><code class="varname">backend_data_directory</code> (<code class="type">string</code>)
		<a id="idm45737774666848" class="indexterm"></a>
	</span></dt><dd><p>						<code class="varname">backend_data_directory</code> specifies the
						database cluster directory of the backend. Multiple backends can be
						specified by adding a number at the end of the parameter
						name (e.g. backend_data_directory0). If you plan to use
						only one PostgreSQL server, specify it by
						backend_data_directory0.
		</p><p>			New <code class="varname">backend data_directory</code> can be added by adding parameter rows and reloading a
			configuration file. However, the existing values cannot be updated, so
			you must restart <span class="productname">Pgpool-II</span> in
			that case.
		</p></dd><dt id="guc-backend-flag"><span class="term"><code class="varname">backend_flag</code> (<code class="type">string</code>)
		<a id="idm45737774661840" class="indexterm"></a>
	</span></dt><dd><p>						<code class="varname">backend_flag</code> controls various backend
						behavior. Multiple backends can be specified by adding a
						number at the end of the parameter name
						(e.g. backend_flag0). If you plan to use only one
						PostgreSQL server, specify it by backend_flag0.
		</p><p>			New backend flags can be added by adding parameter rows and reloading a
			configuration file. Currently followings are allowed. Multiple flags can
			be specified by using "|".
		</p><div class="table" id="backend-flag-table"><p class="title"><strong>Table 5.3. Backend flags</strong></p><div class="table-contents"><table class="table" summary="Backend flags" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Flag</th><th>Description</th></tr></thead><tbody><tr><td><code class="literal">ALLOW_TO_FAILOVER</code></td><td>Allow to failover or detaching backend. This
				is the default. You cannot specify with
				DISALLOW_TO_FAILOVER at a same time.</td></tr><tr><td><code class="literal">DISALLOW_TO_FAILOVER</code></td><td>Disllow to failover or detaching backend
				This is useful when you protect backend by
				using HA (High Availability) softwares such as
				<span class="productname">Heartbeat</span> or <span class="productname">Pacemaker</span>. You cannot specify with
				ALLOW_TO_FAILOVER at a same time.
			</td></tr></tbody></table></div></div><br class="table-break" /><p>			This parameter can be changed by reloading the <span class="productname">Pgpool-II</span> configurations.
		</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="runtime-config-runnung-mode.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime-config.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="runtime-config-connection-pooling.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">5.3. Running mode </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 5.5. Connection Pooling</td></tr></table></div></body></html>