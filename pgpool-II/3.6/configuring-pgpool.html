<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4.3. Configuring Pgpool-II</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="pgpool-II 3.7devel Documentation" /><link rel="up" href="runtime.html" title="Chapter 4. Server Setup and Operation" /><link rel="prev" href="configuring-pcp-conf.html" title="4.2. Configuring pcp.conf" /><link rel="next" href="configuring-backend-info.html" title="4.4. Configuring backend information" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.3. Configuring Pgpool-II</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configuring-pcp-conf.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Server Setup and Operation</th><td width="20%" align="right"> <a accesskey="n" href="configuring-backend-info.html">Next</a></td></tr></table><hr /></div><div class="sect1" id="configuring-pgpool"><div class="titlepage"><div><div><h2 class="title" style="clear: both">4.3. Configuring Pgpool-II</h2></div></div></div><a id="idm45333511030288" class="indexterm"></a><div class="sect2" id="configuring-pgpool-conf"><div class="titlepage"><div><div><h3 class="title">4.3.1. Configuring pgpool.conf</h3></div></div></div><p>      <code class="filename">pgpool.conf</code> is the main configuration file
      of <span class="productname">Pgpool-II</span>. You need to specify the
      path to the file when
      starting <span class="productname">Pgpool-II</span>
      using <code class="option">-f</code> option.
      <code class="filename">pgpool.conf</code> is located
      at <code class="filename">$prefix/etc/pgpool.conf</code> by default.
    </p></div><div class="sect2" id="running-mode"><div class="titlepage"><div><div><h3 class="title">4.3.2. Running mode of Pgpool-II</h3></div></div></div><a id="idm45333511024576" class="indexterm"></a><a id="idm45333511023712" class="indexterm"></a><a id="idm45333511022848" class="indexterm"></a><p>      There are four different running modes in <span class="productname">Pgpool-II</span>: streaming
      replication mode, master slave mode, native replication mode and
      raw mode. In any mode, <span class="productname">Pgpool-II</span> provides connection pooling,
      automatic fail over and online recovery. The sample configuration
      files for each mode are provied. They are located
      under <code class="filename">$prefix/etc</code>. You can copy one of them
      to <code class="filename">$prefix/etc/pgpool.conf</code>.
    </p><p>      Those modes are exclusive each other and cannot be changed after
      starting the server. You should make a decision which to use in
      the early stage of designing the system. If you are not sure, it
      is recommended to use the streaming replication mode.
    </p><p>      The streaming replication mode can be used with <span class="productname">PostgreSQL</span> servers
      operating streaming replication. In this mode, <span class="productname">PostgreSQL</span> is
      responsible for synchronizing databases. This mode is widely used
      and most recommended way to use <span class="productname">Pgpool-II</span>. Load balancing is
      possible in the mode.  The sample configuration file
      is <code class="filename">$prefix/etc/pgpool.conf.sample-stream</code>.
    </p><p>      The master slave mode mode can be used with <span class="productname">PostgreSQL</span> servers
      operating <span class="productname">Slony</span>. In this mode, <span class="productname">Slony</span>/<span class="productname">PostgreSQL</span> is responsible for
      synchronizing databases. Since <span class="productname">Slony</span> is being obsoletd by streaming
      replication, we do not recommend to use this mode unless you have
      specific reason to use <span class="productname">Slony</span>. Load balancing is possible in the
      mode. The sample configuration file
      is <code class="filename">$prefix/etc/pgpool.conf.sample-master-slave</code>.
    </p><p>      In the native replication mode, <span class="productname">Pgpool-II</span> is responsible for
      synchronizing databases. The advantage for the mode is the
      synchronization is done in synchronous way: writing to the
      database does not return until all of <span class="productname">PostgreSQL</span> servers finish
      the write operation. Note, however, read snapshot control is not
      done and consistent visibility is not guaranteed in the mode.
      Load balancing is possible in the mode. The sample configuration
      file <code class="filename">$prefix/etc/pgpool.conf.sample-replication</code>.
    </p><p>      In the raw mode, <span class="productname">Pgpool-II</span> does not care about the database
      synchronization. It's user's responsibility to make the whole
      system does a meaningfull thing. Load balancing
      is <span class="emphasis"><em>not</em></span> possible in the mode. The sample
      configuration
      file <code class="filename">$prefix/etc/pgpool.conf.sample</code>.
    </p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configuring-pcp-conf.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="runtime.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="configuring-backend-info.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.2. Configuring pcp.conf </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4.4. Configuring backend information</td></tr></table></div></body></html>