<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.2. 認証方式</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Pgpool-II 3.7devel 文書" /><link rel="up" href="client-authentication.html" title="第6章 クライアント認証" /><link rel="prev" href="auth-pool-hba-conf.html" title="6.1. pool_hba.confファイル" /><link rel="next" href="examples.html" title="パート III. 例集" /><link rel="copyright" href="legalnotice.html" title="Legal Notice" /><meta name="viewport" content="width=device-width,initial-scale=1.0" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left" colspan="2"></td><th width="60%" align="center"><a accesskey="h" href="index.html">Pgpool-II 3.7devel 文書</a></th><td width="20%" align="right"></td></tr><tr><td width="10%" align="left" valign="top"><a accesskey="p" href="auth-pool-hba-conf.html">前へ</a> </td><td width="10%" align="left" valign="top"><a accesskey="u" href="client-authentication.html">上へ</a></td><td width="60%" align="center">6.2. 認証方式</td><td width="20%" align="right" valign="top"> <a accesskey="n" href="examples.html">次へ</a></td></tr></table><hr /></div><div class="sect1" id="auth-methods"><div class="titlepage"><div><div><h2 class="title" style="clear: both">6.2. 認証方式</h2></div></div></div><p>以下の小節では、認証方式について詳細に説明します。
  </p><div class="sect2" id="auth-trust"><div class="titlepage"><div><div><h3 class="title">6.2.1. trust認証</h3></div></div></div><p><code class="literal">trust</code>認証が指定されると<span class="productname">Pgpool-II</span>は、サーバに接続できる全ての人に対してその人が指定する任意のデータベースユーザ名としてのアクセス権限が付与されていると想定します
   </p></div><div class="sect2" id="auth-md5"><div class="titlepage"><div><div><h3 class="title">6.2.2. MD5パスワード認証</h3></div></div></div><a id="idm45863245778624" class="indexterm"></a><p>この認証方法はMD-5ハッシュ化されたパスワードがクライアントから送信されるパスワードベースの認証方法です。
<span class="productname">Pgpool-II</span>は<span class="productname">PostgreSQL</span>データベースユーザパスワードを見ることができず、クライアントプリケーションはMD5ハッシュ化されたパスワードを送るのみです。
そのため、<span class="productname">Pgpool-II</span>の<code class="literal">md5</code>認証は<a class="xref" href="runtime-config-connection.html#guc-pool-passwd">pool_passwd</a>認証ファイルを使ってサポートしています。
   </p><div class="sect3" id="md5-authentication-file-format"><div class="titlepage"><div><div><h4 class="title">6.2.2.1. 認証ファイル形式</h4></div></div></div><p>        <code class="literal">pool_passwd</code>ファイルは以下の形式の行を含みます。
    </p><pre class="programlisting">        "username:encrypted_passwd"
    </pre><p>
    </p></div><div class="sect3" id="setting-md5-authentication"><div class="titlepage"><div><div><h4 class="title">6.2.2.2. md5認証の設定</h4></div></div></div><a id="idm45863245770032" class="indexterm"></a><p>以下が<code class="literal">md5</code>認証を有効にする手順です。
    </p><p>1. データベースのOSユーザとしてログインしてンし、<code class="command">"pg_md5 --md5auth --username=ユーザ名"</code> を実行します。
pool_passwdがまだ存在していなかった場合は、pg_md5コマンドが自動的にこれを生成します。
        </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注記</h3><p>ユーザ名とパスワードは、<span class="productname">PostgreSQL</span>に登録したものと完全に同じでなければなりません。
        </p></div><p>
    </p><p>2. <code class="filename">pool_hba.conf</code>にmd5認証のエントリを作成します。
詳細については<a class="xref" href="auth-pool-hba-conf.html" title="6.1. pool_hba.confファイル">6.1. <code class="filename">pool_hba.conf</code>ファイル</a>を参照してください。
    </p><p>3. （もちろんpool_passwdと<span class="productname">PostgreSQL</span>の両方で）のmd5パスワードを変更したら、<span class="productname">Pgpool-II</span>設定の再読み込みを実行してください。
    </p></div></div><div class="sect2" id="auth-pam"><div class="titlepage"><div><div><h3 class="title">6.2.3. PAM認証</h3></div></div></div><a id="idm45863245760560" class="indexterm"></a><p>この認証方式は認証機構としてPAM（Pluggable Authentication Modules）を使用します。
デフォルトのPAMサービス名は<code class="literal">pgpool</code>です。
<span class="productname">Pgpool-II</span>が稼働するホスト上のユーザ情報を使ったPAM認証を利用することができます。
PAMについての詳細は<a class="ulink" href="http://www.kernal.org/pub/linux/libs/pam/" target="_top">Linux-PAM</a>ページを読んでください
   </p><p>PAM認証を有効にするには、<span class="productname">Pgpool-II</span>のサービス設定ファイルをシステムのPAM設定ディレクトリ（通常は<code class="literal">"/etc/pam.d"</code>にあります）に作成しなければなりません。
サービス設定ファイルのサンプルはインストールディレクトリ下に<code class="literal">"share/pgpool.pam"</code>としてインストールされています。
   </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">注記</h3><p>PAMサポートを有効にするには、<span class="productname">Pgpool-II</span>が<code class="command">"--with-pam"</code>をつけてconfigureされていなければなりません。
    </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="auth-pool-hba-conf.html">前へ</a> </td><td width="20%" align="center"><a accesskey="u" href="client-authentication.html">上へ</a></td><td width="40%" align="right"> <a accesskey="n" href="examples.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">6.1. <code class="filename">pool_hba.conf</code>ファイル </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> パート III. 例集</td></tr></table></div></body></html>