<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Secure Sockect Layer (SSL)</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="pgpool-II 4.2devel Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="Server Configuration"
HREF="runtime-config.html"><LINK
REL="PREVIOUS"
TITLE="In Memory Query Cache"
HREF="runtime-in-memory-query-cache.html"><LINK
REL="NEXT"
TITLE="Watchdog"
HREF="runtime-watchdog-config.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2019-10-10T05:50:59"></HEAD
><BODY
CLASS="SECT1"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>pgpool-II 4.2devel Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="In Memory Query Cache"
HREF="runtime-in-memory-query-cache.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>Chapter 5. Server Configuration</TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="Watchdog"
HREF="runtime-watchdog-config.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="RUNTIME-SSL"
>5.13. Secure Sockect Layer (SSL)</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="RUNTIME-CONFIG-SSL-SETTINGS"
>5.13.1. SSL Settings</A
></H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><A
NAME="GUC-SSL"
></A
><TT
CLASS="VARNAME"
>ssl</TT
> (<TT
CLASS="TYPE"
>boolean</TT
>)
     </DT
><DD
><P
>      When set to on, <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> enables the <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>
      for both the frontend and backend communications.
      Default is off.
     </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>       <A
HREF="runtime-ssl.html#GUC-SSL-KEY"
>ssl_key</A
> and <A
HREF="runtime-ssl.html#GUC-SSL-CERT"
>ssl_cert</A
> must also be
	 configured in order for SSL to work with frontend connections.
      </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>       For SSL to work <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> must be build with OpenSSL support.
       See <A
HREF="install-pgpool.html"
>Section 2.4</A
> for details on building the
	<SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
>.
      </P
></BLOCKQUOTE
></DIV
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-KEY"
></A
><TT
CLASS="VARNAME"
>ssl_key</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the path to the private key file to be used for
      incoming frontend connections. If specifies relative path, it is based
      on the directory where pgpool is starting up.
      There is no default value for this option, and if left unset
      <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
> will be disabled for incoming frontend connections.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-CERT"
></A
><TT
CLASS="VARNAME"
>ssl_cert</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the path to the public x509 certificate file to be used
      for the incoming frontend connections. If specifies relative path, based
      path is Pgpool-II is run directory.
      There is no default value for this option, and if left unset
      <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
> will be disabled for incoming frontend connections.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-CA-CERT"
></A
><TT
CLASS="VARNAME"
>ssl_ca_cert</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the path to a <ACRONYM
CLASS="ACRONYM"
>PEM</ACRONYM
>
      format <ACRONYM
CLASS="ACRONYM"
>CA</ACRONYM
> certificate files, which can be used
      to verify the backend server certificates. This is analogous to
      the <TT
CLASS="COMMAND"
>-CApath</TT
> option of the
      <TT
CLASS="COMMAND"
>OpenSSL verify(1)</TT
> command.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-CA-CERT-DIR"
></A
><TT
CLASS="VARNAME"
>ssl_ca_cert_dir</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the path to a directory containing <ACRONYM
CLASS="ACRONYM"
>PEM</ACRONYM
>
      format <ACRONYM
CLASS="ACRONYM"
>CA</ACRONYM
> certificate files, which can be used
      to verify the backend server certificates. This is analogous to
      the <TT
CLASS="COMMAND"
>-CApath</TT
> option of the
      <TT
CLASS="COMMAND"
>OpenSSL verify(1)</TT
> command.
     </P
><P
>      The default value for this option is unset, which means no
      verification takes place. Verification will still happen if
      this option is not set but a value is provided for
      <A
HREF="runtime-ssl.html#GUC-SSL-CA-CERT"
>ssl_ca_cert</A
>.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-CIPHERS"
></A
><TT
CLASS="VARNAME"
>ssl_ciphers</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies a list of <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
> cipher suites that
      are allowed to be used on secure connections.  See
      the <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ciphers</SPAN
></SPAN
>
      manual page in the <SPAN
CLASS="APPLICATION"
>OpenSSL</SPAN
> package
      for the syntax of this setting and a list of supported values.
      The default value
      is <TT
CLASS="LITERAL"
>HIGH:MEDIUM:+3DES:!aNULL</TT
>, which is same
      as <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>.
      See <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> manual to know why
      the value is chosen.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-PREFER-SERVER-CIPHERS"
></A
><TT
CLASS="VARNAME"
>ssl_prefer_server_ciphers</TT
> (<TT
CLASS="TYPE"
>boolean</TT
>)
     </DT
><DD
><P
>      Specifies whether to use the server's <ACRONYM
CLASS="ACRONYM"
>SSL</ACRONYM
>
      cipher preferences, rather than the client's.
      The default value is false.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-ECDH-CURVE"
></A
><TT
CLASS="VARNAME"
>ssl_ecdh_curve</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the name of the curve to use in <ACRONYM
CLASS="ACRONYM"
>ECDH</ACRONYM
> key
      exchange. It needs to be supported by all clients that connect.
      It does not need to be the same curve used by the server's Elliptic
      Curve key. The default value is <TT
CLASS="LITERAL"
>prime256v1</TT
>.
     </P
><P
>      OpenSSL names for the most common curves are:
      <TT
CLASS="LITERAL"
>prime256v1</TT
> (NIST P-256),
      <TT
CLASS="LITERAL"
>secp384r1</TT
> (NIST P-384),
      <TT
CLASS="LITERAL"
>secp521r1</TT
> (NIST P-521).
      The full list of available curves can be shown with the command
      <TT
CLASS="COMMAND"
>openssl ecparam -list_curves</TT
>. Not all of them
      are usable in <ACRONYM
CLASS="ACRONYM"
>TLS</ACRONYM
> though.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
><DT
><A
NAME="GUC-SSL-DH-PARAMS-FILE"
></A
><TT
CLASS="VARNAME"
>ssl_dh_params_file</TT
> (<TT
CLASS="TYPE"
>string</TT
>)
     </DT
><DD
><P
>      Specifies the name of the file containing Diffie-Hellman parameters
      used for so-called ephemeral DH family of SSl ciphers. The default is
      empty. In which case compiled-in default DH parameters used. Using
      Custom DH parameters reduces the exposure if an attacker manages to
      crack the well-known compiled-in DH parameters. You can create your own
      DH parameters file with the command <TT
CLASS="COMMAND"
>openssl -out dhparams.pem 2048</TT
>.
     </P
><P
>      This parameter can only be set at server start.
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="RUNTIME-G-CONNECTION-POOLING-SETTINGS"
>5.13.2. Generating SSL certificates</A
></H2
><P
>   Certificate handling is outside the scope of this document. The
   <A
HREF="http://developer.postgresql.org/pgdocs/postgres/ssl-tcp.html"
TARGET="_top"
>    Secure TCP/IP Connections with SSL</A
> page at postgresql.org has
   pointers with sample commands for how to generate self-signed
   certificates. 
  </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="runtime-in-memory-query-cache.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="runtime-watchdog-config.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>In Memory Query Cache</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="runtime-config.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Watchdog</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>