<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>pcp_proc_info</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="pgpool-II 4.4devel Documentation"
HREF="index.html"><LINK
REL="UP"
TITLE="PCP commands"
HREF="pcp-commands.html"><LINK
REL="PREVIOUS"
TITLE="pcp_proc_count"
HREF="pcp-proc-count.html"><LINK
REL="NEXT"
TITLE="pcp_pool_status"
HREF="pcp-pool-status.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=ISO-8859-1"><META
NAME="creation"
CONTENT="2021-12-06T23:36:20"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>pgpool-II 4.4devel Documentation</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pcp_proc_count"
HREF="pcp-proc-count.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="pcp-commands.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="pcp_pool_status"
HREF="pcp-pool-status.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="PCP-PROC-INFO"
></A
>pcp_proc_info</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN8686"
></A
><H2
>Name</H2
>pcp_proc_info&nbsp;--&nbsp;   displays the information on the given Pgpool-II child process ID</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN8689"
></A
><H2
>Synopsis</H2
><P
><TT
CLASS="COMMAND"
>pcp_proc_info</TT
> [<TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
>...] [<TT
CLASS="REPLACEABLE"
><I
>pgpool_child_processid</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-PCP-PROC-INFO-1"
></A
><H2
>Description</H2
><P
>   <TT
CLASS="COMMAND"
>pcp_proc_info</TT
>
   displays the information on the given Pgpool-II child process ID.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN8700"
></A
><H2
>Options</H2
><P
>   <P
></P
></P><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-a</TT
><BR><TT
CLASS="OPTION"
>--all</TT
></DT
><DD
><P
>       Display all child processes and their available connection slots.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-P <TT
CLASS="REPLACEABLE"
><I
>PID</I
></TT
></TT
><BR><TT
CLASS="OPTION"
>--process-id=<TT
CLASS="REPLACEABLE"
><I
>PID</I
></TT
></TT
></DT
><DD
><P
>       PID of <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> child process.
      </P
></DD
><DT
><TT
CLASS="OPTION"
>Other options </TT
></DT
><DD
><P
>       See <A
HREF="pcp-common-options.html"
>pcp_common_options</A
>.
      </P
></DD
></DL
></DIV
><P>

   If -a nor -P is not specified, process information of all
   connected <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> child process will
   be printed. In this case if there's no
   connected <SPAN
CLASS="PRODUCTNAME"
>Pgpool-II</SPAN
> child process,
   nothing but "No process information available" message will be
   printed.
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN8729"
></A
><H2
>Example</H2
><P
>   Here is an example output:
   </P><PRE
CLASS="PROGRAMLISTING"
>$ pcp_proc_info -p 1100
test postgres 2021-09-28 04:16:00 (4:56 before process restarting) 1 3 0 2021-09-28 04:16:16 2021-09-28 04:16:16 0 2021-09-28 04:16:33 1 30795 0 30750 0 Wait for connection
test postgres 2021-09-28 04:16:00 (4:56 before process restarting) 1 3 0 2021-09-28 04:16:16 2021-09-28 04:16:16 0 2021-09-28 04:16:33 1 30796 0 30750 1 Wait for connection
test kawamoto 2021-09-28 04:16:00 0 3 0 2021-09-28 04:16:03 2021-09-28 04:16:03 34 (4:26 before client disconnected)  1 30763 1 30751 0 Idle
test kawamoto 2021-09-28 04:16:00 0 3 0 2021-09-28 04:16:03 2021-09-28 04:16:03 34 (4:26 before client disconnected)  1 30764 1 30751 1 Idle
$ pcp_proc_info -p 11001 30751
test kawamoto 2021-09-28 04:16:00 0 3 0 2021-09-28 04:16:03 2021-09-28 04:16:03 58 (4:02 before client disconnected)  1 30763 1 30751 0 Idle
test kawamoto 2021-09-28 04:16:00 0 3 0 2021-09-28 04:16:03 2021-09-28 04:16:03 58 (4:02 before client disconnected)  1 30764 1 30751 1 Idle
   </PRE
><P>
  </P
><P
>   The result is in the following order:
   </P><PRE
CLASS="LITERALLAYOUT"
>    1. connected database name
    2. connected user name
    3. process start-up timestamp (If <A
HREF="runtime-config-connection-pooling.html#GUC-CHILD-LIFE-TIME"
>child_life_time</A
> is set not 0, the time before process restarting is displayed.)
    4. process-reuse counter for <A
HREF="runtime-config-connection-pooling.html#GUC-CHILD-MAX-CONNECTIONS"
>child_max_connections</A
>
    5. protocol major version
    6. protocol minor version
    7. connection created timestamp
    8. last client connected timestamp
    9. client idle duration (sec) (If <A
HREF="runtime-config-connection-pooling.html#GUC-CLIENT-IDLE-LIMIT"
>client_idle_limit</A
> is set not 0, the time before client disconnected is displayed.)
    10. last client disconnected timestamp
    11. connection-reuse counter
    12. PostgreSQL backend process id
    13. 1 if frontend connected 0 if not
    14. pgpool child process id
    15. PostgreSQL backend id
    16. process status
   </PRE
><P>
  </P
><P
>   If <TT
CLASS="LITERAL"
>-a</TT
> or <TT
CLASS="LITERAL"
>--all</TT
> option is not specified and
   there is no connection to the backends, nothing will be displayed. If there are
   multiple connections, one connection's information will be displayed on each
   line multiple times. Timestamps are displayed in EPOCH format.
  </P
><P
>   The <TT
CLASS="OPTION"
>--verbose</TT
> option can help understand the output. For example:
  </P
><PRE
CLASS="PROGRAMLISTING"
>$ pcp_proc_info -p 11001 --verbose
Database                  : test
Username                  : postgres
Start time                : 2021-09-28 04:16:00 (2:52 before process restarting)
Client connection count   : 1
Major                     : 3
Minor                     : 0
Backend connection time   : 2021-09-28 04:16:16
Client connection time    : 2021-09-28 04:16:16
Client idle duration      : 0
Client disconnection time : 2021-09-28 04:16:33
Pool Counter              : 1
Backend PID               : 30795
Connected                 : 0
PID                       : 30750
Backend ID                : 0
Status                    : Wait for connection

Database                  : test
Username                  : postgres
Start time                : 2021-09-28 04:16:00 (2:52 before process restarting)
Client connection count   : 1
Major                     : 3
Minor                     : 0
Backend connection time   : 2021-09-28 04:16:16
Client connection time    : 2021-09-28 04:16:16
Client idle duration      : 0
Client disconnection time : 2021-09-28 04:16:33
Pool Counter              : 1
Backend PID               : 30796
Connected                 : 0
PID                       : 30750
Backend ID                : 1
Status                    : Wait for connection

Database                  : test
Username                  : kawamoto
Start time                : 2021-09-28 04:16:00
Client connection count   : 0
Major                     : 3
Minor                     : 0
Backend connection time   : 2021-09-28 04:16:03
Client connection time    : 2021-09-28 04:16:03
Client idle duration      : 158 (2:22 before client disconnected)
Client disconnection time :
Pool Counter              : 1
Backend PID               : 30763
Connected                 : 1
PID                       : 30751
Backend ID                : 0
Status                    : Idle

Database                  : test
Username                  : kawamoto
Start time                : 2021-09-28 04:16:00
Client connection count   : 0
Major                     : 3
Minor                     : 0
Backend connection time   : 2021-09-28 04:16:03
Client connection time    : 2021-09-28 04:16:03
Client idle duration      : 158 (2:22 before client disconnected)
Client disconnection time :
Pool Counter              : 1
Backend PID               : 30764
Connected                 : 1
PID                       : 30751
Backend ID                : 1
Status                    : Idle
  </PRE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="pcp-proc-count.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="pcp-pool-status.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>pcp_proc_count</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="pcp-commands.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>pcp_pool_status</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>